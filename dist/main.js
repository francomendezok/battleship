(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}class a{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={coordinates:e,attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),i=Number(t[1]);return a>=0&&a<=7&&i>=0&&i<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return"Size and coordinates length should be equal";const i=new t(e);for(let e=0;e<a.length;e++)if(this.isValid(a[e]))this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0;else if(!this.isValid(a[e]))return"No Valid";return i.addCoordinates(a),this.addShip(i),this.board}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}placeEnemyShips(e){this.createCoordinates(5),this.createCoordinates(4),this.createCoordinates(3),this.createCoordinates(3),this.createCoordinates(2)}createCoordinates(e){let t=Math.floor(8*Math.random()),a=Math.floor(8*Math.random()),i=`${t},${a}`,s=[];if(this.isMoveLegal(i))s.push(i);else for(;!this.isMoveLegal(i);)t=Math.floor(8*Math.random()),a=Math.floor(8*Math.random()),i=`${t},${a}`;let n=i.split(",");s.push(i);for(let t=0;t<e-1;t++)n[Math.floor(2*Math.random())];return s}getAdjacents(e,t,a){let i=[[],[],[],[]],s=8,n=1,d=8,o=1,r=0;for(let t=0;t<e.length;t++)if(e[t].coordinates===a){r=t;break}for(let c=0;c<t;c++){if(e[r-s]){let t=a.split(","),n=e[r-s].coordinates;n.split(","),n&&n.includes(t[1])&&(i[0].push(e[r-s].coordinates),s+=8)}if(e[r+n]){let t=a.split(","),s=e[r+n].coordinates,d=s.split(",");s&&d[0]===t[0]&&(i[1].push(e[r+n].coordinates),n++)}if(e[r+d]){let t=a.split(","),s=e[r+d].coordinates;s.split(","),s&&s.includes(t[1])&&(i[2].push(e[r+d].coordinates),d+=8)}if(e[r-o]){let t=a.split(","),s=e[r-o].coordinates,n=s.split(",");s&&n[0]===t[0]&&(i[3].push(e[r-o].coordinates),o++)}}return i}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}boardArray(){const e=this.board,t=[];for(let a in e)t.push(e[a]);return t}}let i=new a;i.createBoard(),i.placeShip(3,["7,1","7,2","7,3"]),i.placeShip(3,["0,1","0,2","0,3"]),i.receiveAttack("0,1"),i.receiveAttack("0,2"),i.receiveAttack("0,3"),i.receiveAttack("7,1"),i.receiveAttack("7,2"),i.receiveAttack("7,3");let s=i.boardArray();i.getAdjacents(s,4,"6,7");class n{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}new n(i),e.exports={Ship:t,Gameboard:a,Player:n}}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}(()=>{"use strict";var e=a(776);function t(){const a=document.getElementById("main"),r=document.createElement("div"),c=document.createElement("h3"),l=document.createElement("input"),m=document.createElement("button");r.classList.add("pop-up-box"),c.classList.add("title-pop-up"),l.classList.add("input-pop-up"),m.classList.add("play-button"),c.textContent="Write your Name",m.innerHTML="Battle",l.type="text",m.type="submit",r.appendChild(c),r.appendChild(l),r.appendChild(m),a.appendChild(r),m.addEventListener("click",(()=>{o(),function(a){let r=new e.Gameboard,c=new e.Gameboard;r.createBoard(),c.createBoard(),function(e){const t=document.getElementById("main"),a=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div"),d=document.createElement("h3"),o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),h=document.createElement("h3"),p=document.createElement("img"),u=document.createElement("img"),b=document.createElement("img"),g=document.createElement("img"),f=document.createElement("img");p.src="../dist/Images/5.png",u.src="../dist/Images/5.png",b.src="../dist/Images/5.png",g.src="../dist/Images/5.png",f.src="../dist/Images/5.png",[p,u,b,g,f].forEach((e=>{e.classList.add("ship"),o.appendChild(e)})),a.classList.add("my-section"),i.classList.add("my-game-section"),s.classList.add("my-board"),n.classList.add("my-name-box"),d.classList.add("my-name"),o.classList.add("my-ships"),r.classList.add("enemy-section"),c.classList.add("enemy-game-section"),l.classList.add("enemy-board"),m.classList.add("enemy-name-box"),h.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,i=document.createElement("div"),n=document.createElement("div");i.classList.add("my-div-box"),n.classList.add("enemy-div-box"),i.id=`P ${a}`,n.id=`E ${a}`,s.appendChild(i),l.appendChild(n)}d.textContent=e,h.textContent="Enemy",n.appendChild(d),i.appendChild(s),a.appendChild(n),a.appendChild(i),m.appendChild(h),c.appendChild(l),r.appendChild(m),r.appendChild(c),t.appendChild(a),t.appendChild(o),t.appendChild(r),t.classList.add("main-game")}(a),function(e){let t=document.querySelectorAll(".ship"),a=[5,4,3,3,2];for(let i=0;i<t.length;i++){let s=t[i].dataset.size=a[i];t[i].addEventListener("click",(()=>{n(e,s),d(t,t[i])})),0===i&&t[i].click()}}(r);let l=new e.Player(r),m=new e.Player(c);i(l.gameboard),s(m.gameboard),[...document.querySelectorAll(".enemy-div-box")].forEach((e=>{e.addEventListener("click",(e=>{let a=e.target.id.split(" ")[1],n=m.makeRandomMove(),d=r.receiveAttack(n);if(c.receiveAttack(a)){s(m.gameboard),setTimeout((function(){for(;!d;)n=m.makeRandomMove(),d=r.receiveAttack(n);i(l.gameboard)}),1e3);let e=r.allSunk(),a=c.allSunk();e&&(o(),function(){const e=document.getElementById("main"),a=document.createElement("div"),i=document.createElement("h3"),s=document.createElement("button");a.classList.add("pop-up-box"),i.classList.add("title-pop-up"),s.classList.add("play-button"),i.textContent="You Lose",s.innerHTML="Play Again",s.type="submit",a.appendChild(i),a.appendChild(s),e.appendChild(a),s.addEventListener("click",(()=>{o(),t()}))}()),a&&(o(),function(){const e=document.getElementById("main"),a=document.createElement("div"),i=document.createElement("h3"),s=document.createElement("button");a.classList.add("pop-up-box"),i.classList.add("title-pop-up"),s.classList.add("play-button"),i.textContent="You Win",s.innerHTML="Play Again",s.type="submit",a.appendChild(i),a.appendChild(s),e.appendChild(a),s.addEventListener("click",(()=>{o(),t()}))}())}}))}))}(l.value)}))}function i(e){const t=document.querySelectorAll(".my-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="green"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function s(e){const t=document.querySelectorAll(".enemy-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="orange"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function n(e,t){let a=document.querySelectorAll(".my-div-box"),i=e.boardArray();t?a.forEach((a=>{a.addEventListener("mouseover",(()=>{let s=a.id.split(","),n=`${s[0].split(" ")[1]},${s[1]}`;e.getAdjacents(i,t-1,n).forEach((e=>{e.forEach((e=>{let t=`P ${e}`;document.getElementById(t)}))}))})),a.addEventListener("mouseout",(()=>{let s=a.id.split(","),n=`${s[0].split(" ")[1]},${s[1]}`;e.getAdjacents(i,t-1,n).forEach((e=>{e.forEach((e=>{let t=`P ${e}`,i=document.getElementById(t);a.innerHTML=" ",i.innerHTML=" "}))}))}))})):alert("No size")}function d(e,t){e.forEach((e=>{e.classList.contains("ship-selected")&&e.classList.remove("ship-selected"),e===t&&e.classList.add("ship-selected")}))}function o(){document.getElementById("main").innerHTML=""}t()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYSxLQUM5QixJQUNJakUsRUFEUXNELEVBQUlpQyxHQUNFdkYsTUFBTSxLQUdwQm5CLEVBQWMsR0FGUm1CLEVBQU0sR0FBR0EsTUFBTSxLQUVBLE1BQU1BLEVBQU0sS0FFckJvRSxFQUFRbEQsYUFBYW1CLEVBQU81RCxFQUFPLEVBQUdJLEdBRTVDa0QsU0FBUXNGLElBQ2RBLEVBQUl0RixTQUFRdUYsSUFDUixJQUFJL0IsRUFBSyxLQUFLK0IsSUFDSmxFLFNBQVNDLGVBQWVrQyxFQUFHLEdBSXZDLEdBQ0osSUFFTmpDLEVBQUlXLGlCQUFpQixZQUFZLEtBQzdCLElBQ0lqRSxFQURRc0QsRUFBSWlDLEdBQ0V2RixNQUFNLEtBR3BCbkIsRUFBYyxHQUZSbUIsRUFBTSxHQUFHQSxNQUFNLEtBRUEsTUFBTUEsRUFBTSxLQUVyQm9FLEVBQVFsRCxhQUFhbUIsRUFBTzVELEVBQU8sRUFBR0ksR0FFNUNrRCxTQUFRc0YsSUFDZEEsRUFBSXRGLFNBQVF1RixJQUNSLElBQUkvQixFQUFLLEtBQUsrQixJQUNWakMsRUFBTWpDLFNBQVNDLGVBQWVrQyxHQUNsQ2pDLEVBQUlRLFVBQVksSUFDaEJ1QixFQUFJdkIsVUFBWSxHQUFHLEdBS3JCLEdBQ0osR0FDTCxJQUdMeUQsTUFBTSxVQUNkLENBd0RBLFNBQVMxQixFQUFrQnhHLEVBQU9tSSxHQUM5Qm5JLEVBQU0wQyxTQUFRbEMsSUFDTkEsRUFBSzhELFVBQVU4RCxTQUFTLGtCQUN4QjVILEVBQUs4RCxVQUFVK0QsT0FBTyxpQkFFdEI3SCxJQUFTMkgsR0FBVTNILEVBQUs4RCxVQUFVQyxJQUFJLGdCQUFnQixHQUVsRSxDQW9GQSxTQUFTTSxJQUNRZCxTQUFTQyxlQUFlLFFBQ2hDUyxVQUFZLEVBQ3JCLENFM1hBWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGlwIENsYXNzIC8vXHJcbmNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IgKHNpemUpIHtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuaGl0ID0gMDtcclxuICAgICAgICB0aGlzLnN1bmsgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJIaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0ICs9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdCA9PT0gdGhpcy5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvb3JkaW5hdGVzIChwb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEdhbWVib2FyZCBDbGFzcyAvL1xyXG5jbGFzcyBHYW1lYm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBbXSBcclxuICAgICAgICB0aGlzLnNoaXBzID0gW11cclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQm9hcmQoc2l6ZSA9IDggKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaiArPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBgJHtpfSwke2p9YDtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlXSA9IHsgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsIGF0dGFja2VkOiBmYWxzZSwgbWlzc2VkOiBmYWxzZSwgaGFzU2hpcDogZmFsc2UsIHNoaXA6IFtdIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNWYWxpZCAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICBsZXQgYSA9IE51bWJlcihhcnJbMF0pO1xyXG4gICAgICAgIGxldCBiID0gTnVtYmVyKGFyclsxXSk7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gYSA+PSAwICYmIGEgPD0gNyAmJiBiID49IDAgJiYgYiA8PSA3O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXRCb2FyZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWRkU2hpcCAoc2hpcCkge1xyXG4gICAgICAgIHRoaXMuc2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGxhY2VTaGlwIChzaXplLCBjb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChzaXplICE9PSBjb29yZGluYXRlcy5sZW5ndGgpIHJldHVybiAnU2l6ZSBhbmQgY29vcmRpbmF0ZXMgbGVuZ3RoIHNob3VsZCBiZSBlcXVhbCc7XHJcblxyXG4gICAgICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChzaXplKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZChjb29yZGluYXRlc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVzW2ldXS5zaGlwLnB1c2goY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZXNbaV1dLmhhc1NoaXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNWYWxpZChjb29yZGluYXRlc1tpXSkpIHJldHVybiAnTm8gVmFsaWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgc2hpcC5hZGRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XHJcbiAgICAgICAgdGhpcy5hZGRTaGlwKHNoaXApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNNb3ZlTGVnYWwgKG1vdmUpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuYm9hcmRbbW92ZV0uYXR0YWNrZWQgJiYgIXRoaXMuYm9hcmRbbW92ZV0ubWlzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgICAgcGxhY2VFbmVteVNoaXBzIChib2FyZCkge1xyXG4gICAgICAgICAgICBsZXQgY2FycmllciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoNSk7XHJcbiAgICAgICAgICAgIGxldCBiYXR0bGVzaGlwID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcyg0KTtcclxuICAgICAgICAgICAgbGV0IGNydWlzZXIgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKDMpO1xyXG4gICAgICAgICAgICBsZXQgc3VibWFyaW5lID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygzKTtcclxuICAgICAgICAgICAgbGV0IGRlc3Ryb3llciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoMik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNyZWF0ZUNvb3JkaW5hdGVzIChzaXplKSB7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSBjb29yZGluYXRlcy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIC8vY2hlY2sgaWYgaGFzU2hpcCwgbm90IGF0dGFja2VkIG5vciBtaXNzZWQgLy9cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLmlzTW92ZUxlZ2FsKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzcGxpdCA9IHJlc3VsdC5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICBjb29yZGluYXRlcy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZSAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7IFxyXG4gICAgICAgICAgICBsZXQga2V5ID0gc3BsaXRbcmFuZG9tXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBwb3NzaWJpbGl0aWVzID0gW107XHJcbiAgICAgICAgICAgIC8vIDQgZ2V0IGFkamFjZW50cyAvLyBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb29yZGluYXRlcztcclxuICAgIH1cclxuXHJcbiAgICAgIGdldEFkamFjZW50cyAoYXJyYXlCb2FyZCwgc2l6ZSwgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYWRqYWNlbnRzID0gW1tdLFtdLFtdLFtdXTtcclxuICAgICAgICBsZXQgdXAgPSA4O1xyXG4gICAgICAgIGxldCByaWdodCA9IDE7XHJcbiAgICAgICAgbGV0IGRvd24gPSA4O1xyXG4gICAgICAgIGxldCBsZWZ0ID0gMTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAvLyBnZXQgaW5kZXggLy9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Qm9hcmQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbal0uY29vcmRpbmF0ZXMgPT09IGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gNCBhZGphY2VudHMgLy8gXHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2luZGV4IC0gdXBdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCAtIHVwXS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZS5pbmNsdWRlcyhzcGxpdFsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMF0ucHVzaChhcnJheUJvYXJkW2luZGV4IC0gdXBdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICB1cCArPSA4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2luZGV4ICsgcmlnaHRdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCArIHJpZ2h0XS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZVNwbGl0WzBdID09PSBzcGxpdFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS5wdXNoKGFycmF5Qm9hcmRbaW5kZXggKyByaWdodF0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbaW5kZXggKyBkb3duXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggKyBkb3duXS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZS5pbmNsdWRlcyhzcGxpdFsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMl0ucHVzaChhcnJheUJvYXJkW2luZGV4ICsgZG93bl0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd24gKz0gODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdLmNvb3JkaW5hdGVzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlU3BsaXQgPSBwbGFjZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlICYmIHBsYWNlU3BsaXRbMF0gPT09IHNwbGl0WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzNdLnB1c2goYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFkamFjZW50cztcclxuICAgIH1cclxuXHJcbiAgICAgIHJlY2VpdmVBdHRhY2sgKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IGAke2Nvb3JkaW5hdGVzfWA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3N0cl0uYXR0YWNrZWQgfHwgdGhpcy5ib2FyZFtzdHJdLm1pc3NlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ib2FyZFtzdHJdLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtzdHJdLmF0dGFja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoaXAuY29vcmRpbmF0ZXNbMF0uaW5jbHVkZXMoc3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXAucmVnaXN0ZXJIaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkgc2hpcC5zdW5rID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5taXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0U2hpcHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbGxTdW5rICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGlwcy5ldmVyeShzaGlwID0+IHNoaXAuc3VuayA9PT0gdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJvYXJkQXJyYXkgKCkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuYm9hcmQ7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKG9ialtrZXldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgfVxyXG59XHJcblxyXG5cclxubGV0IGJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5ib2FyZC5jcmVhdGVCb2FyZCgpO1xyXG5ib2FyZC5wbGFjZVNoaXAoMywgWyc3LDEnLCc3LDInLCc3LDMnXSk7XHJcbmJvYXJkLnBsYWNlU2hpcCgzLCBbJzAsMScsICcwLDInLCcwLDMnXSlcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnMCwxJyk7XHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzAsMicpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCcwLDMnKTtcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnNywxJyk7XHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzcsMicpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCc3LDMnKTtcclxubGV0IGFyciA9IGJvYXJkLmJvYXJkQXJyYXkoKTtcclxuXHJcbmxldCBhZGogPSBib2FyZC5nZXRBZGphY2VudHMoYXJyLCA0LCAnNiw3Jyk7XHJcblxyXG5cclxuXHJcbi8vIFBsYXllciBDbGFzcyAvL1xyXG5jbGFzcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IgKGdhbWVib2FyZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkID0gZ2FtZWJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTW92ZUxlZ2FsIChtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmdhbWVib2FyZC5ib2FyZFttb3ZlXS5hdHRhY2tlZCAmJiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0ubWlzc2VkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtYWtlUmFuZG9tTW92ZSAoKSB7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLmlzTW92ZUxlZ2FsKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgcGxheSA9IG5ldyBQbGF5ZXIoYm9hcmQpO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1NoaXAsIEdhbWVib2FyZCwgUGxheWVyfTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gRE9NIE1hbmlwdWxhdGlvbiwgUmVuZGVyIHRoZSBHYW1lIC8vIFxyXG5cclxuLy8gUmVuZGVyIFdyaXRlIFlvdXIgTmFtZSAvLyBcclxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbmZ1bmN0aW9uIHdyaXRlTmFtZSAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnaW5wdXQtcG9wLXVwJyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ3BsYXktYnV0dG9uJyk7XHJcblxyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1dyaXRlIHlvdXIgTmFtZSc7XHJcbiAgICBwbGF5LmlubmVySFRNTCA9ICdCYXR0bGUnO1xyXG4gICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcclxuICAgIHBsYXkudHlwZSA9ICdzdWJtaXQnO1xyXG5cclxuICAgIGJveC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgZ2FtZShpbnB1dC52YWx1ZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVySW5pdGFsQm9hcmRzIChuYW1lKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuXHJcbiAgICBjb25zdCBteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIFxyXG4gICAgY29uc3Qgc2hpcHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIFxyXG4gICAgY29uc3QgZW5lbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBlbmVteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBlbmVteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBlbmVteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcblxyXG4gICAgY29uc3QgY2FycmllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgY29uc3QgYmF0dGxlc2hpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgY29uc3QgY3J1aXNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgY29uc3Qgc3VibWFyaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBjb25zdCBkZXN0cm95ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHJcbiAgICBjYXJyaWVyLnNyYyA9ICcuLi9kaXN0L0ltYWdlcy81LnBuZyc7XHJcbiAgICBiYXR0bGVzaGlwLnNyYyA9ICcuLi9kaXN0L0ltYWdlcy81LnBuZyc7XHJcbiAgICBjcnVpc2VyLnNyYyA9ICcuLi9kaXN0L0ltYWdlcy81LnBuZyc7XHJcbiAgICBzdWJtYXJpbmUuc3JjID0gJy4uL2Rpc3QvSW1hZ2VzLzUucG5nJztcclxuICAgIGRlc3Ryb3llci5zcmMgPSAnLi4vZGlzdC9JbWFnZXMvNS5wbmcnO1xyXG5cclxuXHJcbiAgICBjb25zdCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBjcnVpc2VyLCBzdWJtYXJpbmUsIGRlc3Ryb3llcl07XHJcblxyXG5cclxuICAgIHNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgc2hpcC5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XHJcbiAgICAgICAgc2hpcHNDb250YWluZXIuYXBwZW5kQ2hpbGQoc2hpcCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIG15U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1zZWN0aW9uJyk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LWdhbWUtc2VjdGlvbicpO1xyXG4gICAgbXlCb2FyZC5jbGFzc0xpc3QuYWRkKCdteS1ib2FyZCcpO1xyXG4gICAgbXlOYW1lQm94LmNsYXNzTGlzdC5hZGQoJ215LW5hbWUtYm94Jyk7XHJcbiAgICBteU5hbWUuY2xhc3NMaXN0LmFkZCgnbXktbmFtZScpO1xyXG4gICAgXHJcbiAgICBzaGlwc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdteS1zaGlwcycpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2VuZW15LXNlY3Rpb24nKTtcclxuICAgIGVuZW15R2FtZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZW5lbXktZ2FtZS1zZWN0aW9uJyk7XHJcbiAgICBlbmVteUJvYXJkLmNsYXNzTGlzdC5hZGQoJ2VuZW15LWJvYXJkJyk7XHJcbiAgICBlbmVteU5hbWVCb3guY2xhc3NMaXN0LmFkZCgnZW5lbXktbmFtZS1ib3gnKTtcclxuICAgIGVuZW15TmFtZS5jbGFzc0xpc3QuYWRkKCdlbmVteS1uYW1lJyk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7IGogKz0gMSkge1xyXG4gICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IGAke2l9LCR7an1gO1xyXG4gICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBjb25zdCBkaXZFbmVteSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ215LWRpdi1ib3gnKTtcclxuICAgICAgICAgIGRpdkVuZW15LmNsYXNzTGlzdC5hZGQoJ2VuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICAgICAgICBkaXYuaWQgPSBgUCAke2Nvb3JkaW5hdGV9YDtcclxuICAgICAgICAgIGRpdkVuZW15LmlkID0gYEUgJHtjb29yZGluYXRlfWA7XHJcbiAgXHJcbiAgICAgICAgICBteUJvYXJkLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICBlbmVteUJvYXJkLmFwcGVuZENoaWxkKGRpdkVuZW15KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbXlOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIGVuZW15TmFtZS50ZXh0Q29udGVudCA9ICdFbmVteSc7XHJcblxyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKG15TmFtZSk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKG15Qm9hcmQpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15TmFtZUJveCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlHYW1lU2VjdGlvbik7XHJcbiAgICBcclxuICAgIGVuZW15TmFtZUJveC5hcHBlbmRDaGlsZChlbmVteU5hbWUpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteUJvYXJkKTtcclxuICAgIGVuZW15U2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteU5hbWVCb3gpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15R2FtZVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQobXlTZWN0aW9uKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoc2hpcHNDb250YWluZXIpO1xyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChlbmVteVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1nYW1lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlck15Qm9hcmQgKGJvYXJkKSB7XHJcbiAgICBjb25zdCBib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5teS1kaXYtYm94Jyk7XHJcblxyXG4gICAgZm9yIChjb25zdCBib3ggb2YgYm94ZXMpIHtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBib3guaWQ7XHJcbiAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJyAnKTtcclxuICAgICAgICBsZXQgbnVtID0gc3BsaXRbMV07IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5hdHRhY2tlZCkge1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ+KdjCc7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGNUMyQzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5taXNzZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfwn5KmJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckVuZW15Qm9hcmQgKGJvYXJkKSB7XHJcbiAgICBjb25zdCBib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbmVteS1kaXYtYm94Jyk7XHJcblxyXG4gICAgZm9yIChjb25zdCBib3ggb2YgYm94ZXMpIHtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBib3guaWQ7XHJcbiAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJyAnKTtcclxuICAgICAgICBsZXQgbnVtID0gc3BsaXRbMV07IFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnb3JhbmdlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uYXR0YWNrZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfinYwnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjRjVDMkMxJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+Spic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RTaGlwcyAobXlCb2FyZCkge1xyXG4gICAgbGV0IHNoaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNoaXAnKTtcclxuICAgIGxldCBzaXplcyA9IFs1LDQsMywzLDJdO1xyXG5cclxuICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgbGV0IHNpemUgPSBzaGlwc1tpXS5kYXRhc2V0LnNpemUgPSBzaXplc1tpXTtcclxuICAgICAgIFxyXG4gICAgICAgc2hpcHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFkZEJveGVzTGlzdGVuZXIobXlCb2FyZCwgc2l6ZSk7XHJcbiAgICAgICAgICAgIGhhbmRsZVNoaXBDbGFzZXMoc2hpcHMsIHNoaXBzW2ldKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkgc2hpcHNbaV0uY2xpY2soKTtcclxuICAgfTtcclxufTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gYWRkQm94ZXNMaXN0ZW5lciAobXlCb2FyZCwgc2l6ZSkge1xyXG4gICAgbGV0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LWRpdi1ib3gnKTtcclxuICAgIGxldCBhcnJheSA9IG15Qm9hcmQuYm9hcmRBcnJheSgpO1xyXG5cclxuICAgIGlmIChzaXplKSB7XHJcbiAgICAgICAgYm94ZXMuZm9yRWFjaChib3ggPT4ge1xyXG4gICAgICAgICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJveElkID0gYm94LmlkO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gYm94SWQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXQgPSBzcGxpdFswXS5zcGxpdCgnICcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IGAke2N1dFsxXX0sJHtzcGxpdFsxXX1gO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gbXlCb2FyZC5nZXRBZGphY2VudHMoYXJyYXksIHNpemUgLSAxLCBjb29yZGluYXRlcyk7IC8vIGdldCA0IGFkamFjZW50cyAvL1xyXG5cclxuICAgICAgICAgICAgICAgIGFkamFjZW50cy5mb3JFYWNoKGFkaiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqLmZvckVhY2goc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gYFAgJHtzZXR9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZml4IGJ1ZyByZW5kZXIgc2l6ZXMvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpdi5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHdoaXRlJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJveElkID0gYm94LmlkO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gYm94SWQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBjdXQgPSBzcGxpdFswXS5zcGxpdCgnICcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IGAke2N1dFsxXX0sJHtzcGxpdFsxXX1gO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gbXlCb2FyZC5nZXRBZGphY2VudHMoYXJyYXksIHNpemUgLSAxLCBjb29yZGluYXRlcyk7IC8vIGdldCA0IGFkamFjZW50cyAvL1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBhZGphY2VudHMuZm9yRWFjaChhZGogPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkai5mb3JFYWNoKHNldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGBQICR7c2V0fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAnICc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnICc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpdi5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIGJsYWNrJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoJ05vIHNpemUnKTsgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQm94ZXNMaXN0ZW5lciAobXlCb2FyZCwgc2l6ZSkge1xyXG4gICAgbGV0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LWRpdi1ib3gnKTtcclxuICAgIGJveGVzLmZvckVhY2goYm94ID0+IHtcclxuICAgICAgICBib3gucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYm94SWQgPSBib3guaWQ7XHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IGJveElkLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGxldCBjdXQgPSBzcGxpdFswXS5zcGxpdCgnICcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYCR7Y3V0WzFdfSwke3NwbGl0WzFdfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gbXlCb2FyZC5nZXRBZGphY2VudHMoYXJyYXksIHNpemUsIGNvb3JkaW5hdGVzKTsgLy8gZ2V0IDQgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhZGphY2VudHMuZm9yRWFjaChhZGogPT4ge1xyXG4gICAgICAgICAgICAgICAgYWRqLmZvckVhY2goc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBgUCAke3NldH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJveC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGJveElkID0gYm94LmlkO1xyXG4gICAgICAgICAgICBsZXQgc3BsaXQgPSBib3hJZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBsZXQgY3V0ID0gc3BsaXRbMF0uc3BsaXQoJyAnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlcyA9IGAke2N1dFsxXX0sJHtzcGxpdFsxXX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IG15Qm9hcmQuZ2V0QWRqYWNlbnRzKGFycmF5LCBzaXplLCBjb29yZGluYXRlcyk7IC8vIGdldCA0IGFkamFjZW50cyAvL1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYWRqYWNlbnRzLmZvckVhY2goYWRqID0+IHtcclxuICAgICAgICAgICAgICAgIGFkai5mb3JFYWNoKHNldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gYFAgJHtzZXR9YDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gcHJpbnRBZGphY2VudHMgKGFkamFjZW50cywgc2l6ZSkge1xyXG4gICAgY29uc29sZS5sb2coYWRqYWNlbnRzKTtcclxuICAgIC8vIGlmIChhZGphY2VudHMubGVuZ3RoICE9PSBzaXplKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBhZGphY2VudHMuZm9yRWFjaChhZGogPT4ge1xyXG4gICAgLy8gICAgIGxldCBpZCA9IGBQICR7YWRqfWA7XHJcbiAgICAvLyAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICBcclxuICAgIC8vICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAvLyB9KVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2hpcENsYXNlcyAoc2hpcHMsIHNlbGVjdGVkKSB7XHJcbiAgICBzaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgIGlmIChzaGlwLmNsYXNzTGlzdC5jb250YWlucygnc2hpcC1zZWxlY3RlZCcpKSB7XHJcbiAgICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LnJlbW92ZSgnc2hpcC1zZWxlY3RlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2hpcCA9PT0gc2VsZWN0ZWQpIHNoaXAuY2xhc3NMaXN0LmFkZCgnc2hpcC1zZWxlY3RlZCcpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZHJvcFNoaXBzIChhZGphY2VudHMpIHtcclxuICAgIC8vIDQgYWRqYWNlbnRzIC8vIGlmIGtleSB1cCBzaG93IGFkamFjZW50c1swXSwgaWYga2V5IGRvd24gc2hvdyBhZGphY2VudHNbMl0gYW5kIHNvIG9uIC8vIFxyXG5cclxuXHJcbiAgICBsZXQgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktZGl2LWJveCcpO1xyXG4gICAgXHJcbiAgICBib3hlcy5mb3JFYWNoKGRpdiA9PiB7XHJcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBib3hJZCA9IGRpdi5pZDtcclxuICAgICAgICAgICAgLy8gNCw0IC8vXHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IGJveElkLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBbYm94SWRdO1xyXG4gICAgICAgICAgICBsZXQgaiA9IHNwbGl0WzFdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgIGlmIChqID4gNykgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBhZGphY2VudHMucHVzaChgJHtzcGxpdFswXX0sICR7c3BsaXRbal19YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWRqYWNlbnRzLmZvckVhY2goYWRqID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzaWRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkaik7XHJcbiAgICAgICAgICAgICAgICBzaWRlcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyV2luICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7IFxyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1lvdSBXaW4nO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnUGxheSBBZ2Fpbic7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgd3JpdGVOYW1lKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9zZSAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpOyBcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgncGxheS1idXR0b24nKTtcclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdZb3UgTG9zZSc7XHJcbiAgICBwbGF5LmlubmVySFRNTCA9ICdQbGF5IEFnYWluJztcclxuICAgIHBsYXkudHlwZSA9ICdzdWJtaXQnO1xyXG5cclxuICAgIGJveC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICB3cml0ZU5hbWUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhbiAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIG1haW4uaW5uZXJIVE1MID0gJyc7XHJcbn1cclxuXHJcblxyXG5leHBvcnQge3dyaXRlTmFtZSwgY2xlYW4sIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgcmVuZGVyV2luLCByZW5kZXJMb3NlLCBzZWxlY3RTaGlwcywgYWRkQm94ZXNMaXN0ZW5lcn07XHJcbiIsImltcG9ydCB7IFNoaXAsIEdhbWVib2FyZCwgUGxheWVyIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XHJcbmltcG9ydCB7IHdyaXRlTmFtZSwgcmVuZGVySW5pdGFsQm9hcmRzLCByZW5kZXJNeUJvYXJkLCByZW5kZXJFbmVteUJvYXJkLCAgY2xlYW4sIHJlbmRlcldpbiwgcmVuZGVyTG9zZSwgc2VsZWN0U2hpcHMsIGFkZEJveGVzTGlzdGVuZXIgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuXHJcblxyXG5mdW5jdGlvbiBnYW1lIChuYW1lKSB7XHJcbiAgICBsZXQgbXlCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcclxuICAgIGxldCBlbmVteUJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG4gICAgXHJcbiAgICBteUJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcbiAgICBlbmVteUJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcblxyXG4gICAgcmVuZGVySW5pdGFsQm9hcmRzKG5hbWUpO1xyXG4gICAgc2VsZWN0U2hpcHMobXlCb2FyZCk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBsZXQgcGxheWVyID0gbmV3IFBsYXllcihteUJvYXJkKTtcclxuICAgIGxldCBlbmVteSA9IG5ldyBQbGF5ZXIoZW5lbXlCb2FyZCk7XHJcblxyXG4gICAgcmVuZGVyTXlCb2FyZChwbGF5ZXIuZ2FtZWJvYXJkKTtcclxuICAgIHJlbmRlckVuZW15Qm9hcmQoZW5lbXkuZ2FtZWJvYXJkKTtcclxuXHJcbiAgICBjb25zdCBlbmVteUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuICAgIGxldCBlQm94ZXMgPSBbLi4uZW5lbXlCb3hlc107XHJcblxyXG4gICAgZUJveGVzLmZvckVhY2goZUJveCA9PiB7XHJcbiAgICAgICAgZUJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlQ29vcmRpbmF0ZXMgPSBlLnRhcmdldC5pZDtcclxuICAgICAgICAgICAgbGV0IGVTcGxpdCA9IGVDb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgZU51bSA9IGVTcGxpdFsxXTsgXHJcblxyXG4gICAgICAgICAgICBsZXQgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGVuZW15QXR0YWNrID0gbXlCb2FyZC5yZWNlaXZlQXR0YWNrKGVuZW15TW92ZSk7XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2sgPSBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2soZU51bSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXR0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJFbmVteUJvYXJkKGVuZW15LmdhbWVib2FyZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghZW5lbXlBdHRhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2sgPSBteUJvYXJkLnJlY2VpdmVBdHRhY2soZW5lbXlNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTXlCb2FyZChwbGF5ZXIuZ2FtZWJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7IFxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IG15U3VuayA9IG15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZW15U3VuayA9IGVuZW15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAobXlTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15U3Vuaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyV2luKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAxLiBDcmVhdGUgdGhlIG1haW4gZ2FtZSBsb29wIGFuZCBhIG1vZHVsZSBmb3IgRE9NIGludGVyYWN0aW9uLlxyXG4vLyAgICAgIGEuIEF0IHRoaXMgcG9pbnQgaXQgaXMgYXBwcm9wcmlhdGUgdG8gYmVnaW4gY3JhZnRpbmcgeW91ciBVc2VyIEludGVyZmFjZS5cclxuLy8gICAgICBiLiBUaGUgZ2FtZSBsb29wIHNob3VsZCBzZXQgdXAgYSBuZXcgZ2FtZSBieSBjcmVhdGluZyBQbGF5ZXJzIGFuZCBHYW1lYm9hcmRzLiBGb3Igbm93IGp1c3QgcG9wdWxhdGUgZWFjaCBHYW1lYm9hcmQgd2l0aCBwcmVkZXRlcm1pbmVkIGNvb3JkaW5hdGVzLiBZb3UgY2FuIGltcGxlbWVudCBhIHN5c3RlbSBmb3IgYWxsb3dpbmcgcGxheWVycyB0byBwbGFjZSB0aGVpciBzaGlwcyBsYXRlci5cclxuLy8gICAgICBjLiBXZeKAmWxsIGxlYXZlIHRoZSBIVE1MIGltcGxlbWVudGF0aW9uIHVwIHRvIHlvdSBmb3Igbm93LCBidXQgeW91IHNob3VsZCBkaXNwbGF5IGJvdGggdGhlIHBsYXllcuKAmXMgYm9hcmRzIGFuZCByZW5kZXIgdGhlbSB1c2luZyBpbmZvcm1hdGlvbiBmcm9tIHRoZSBHYW1lYm9hcmQgY2xhc3MvZmFjdG9yeS5cclxuLy8gICAgICAgICAgYS4gWW91IG5lZWQgbWV0aG9kcyB0byByZW5kZXIgdGhlIGdhbWVib2FyZHMgYW5kIHRvIHRha2UgdXNlciBpbnB1dCBmb3IgYXR0YWNraW5nLiBGb3IgYXR0YWNrcywgbGV0IHRoZSB1c2VyIGNsaWNrIG9uIGEgY29vcmRpbmF0ZSBpbiB0aGUgZW5lbXkgR2FtZWJvYXJkLlxyXG4vLyAgICAgIGQuIFRoZSBnYW1lIGxvb3Agc2hvdWxkIHN0ZXAgdGhyb3VnaCB0aGUgZ2FtZSB0dXJuIGJ5IHR1cm4gdXNpbmcgb25seSBtZXRob2RzIGZyb20gb3RoZXIgb2JqZWN0cy4gSWYgYXQgYW55IHBvaW50IHlvdSBhcmUgdGVtcHRlZCB0byB3cml0ZSBhIG5ldyBmdW5jdGlvbiBpbnNpZGUgdGhlIGdhbWUgbG9vcCwgc3RlcCBiYWNrIGFuZCBmaWd1cmUgb3V0IHdoaWNoIGNsYXNzIG9yIG1vZHVsZSB0aGF0IGZ1bmN0aW9uIHNob3VsZCBiZWxvbmcgdG8uXHJcbi8vICAgICAgZS4gQ3JlYXRlIGNvbmRpdGlvbnMgc28gdGhhdCB0aGUgZ2FtZSBlbmRzIG9uY2Ugb25lIHBsYXllcuKAmXMgc2hpcHMgaGF2ZSBhbGwgYmVlbiBzdW5rLiBUaGlzIGZ1bmN0aW9uIGlzIGFwcHJvcHJpYXRlIGZvciB0aGUgR2FtZSBtb2R1bGUuXHJcblxyXG5cclxuLy8gMi4gRmluaXNoIGl0IHVwXHJcbi8vICAgICAgYS4gVGhlcmUgYXJlIHNldmVyYWwgb3B0aW9ucyBhdmFpbGFibGUgZm9yIGxldHRpbmcgdXNlcnMgcGxhY2UgdGhlaXIgc2hpcHMuIFlvdSBjYW4gbGV0IHRoZW0gdHlwZSBjb29yZGluYXRlcyBmb3IgZWFjaCBzaGlwLCBvciBpbnZlc3RpZ2F0ZSBpbXBsZW1lbnRpbmcgZHJhZyBhbmQgZHJvcC5cclxuLy8gICAgICBiLiBZb3UgY2FuIHBvbGlzaCB0aGUgaW50ZWxsaWdlbmNlIG9mIHRoZSBjb21wdXRlciBwbGF5ZXIgYnkgaGF2aW5nIGl0IHRyeSBhZGphY2VudCBzbG90cyBhZnRlciBnZXR0aW5nIGEg4oCYaGl04oCZLlxyXG4vLyAgICAgIGMuIE9wdGlvbmFsbHksIGNyZWF0ZSBhIDIgcGxheWVyIG9wdGlvbiB0aGF0IGxldHMgdXNlcnMgdGFrZSB0dXJucyBieSBwYXNzaW5nIHRoZSBkZXZpY2UgYmFjayBhbmQgZm9ydGguIElmIHlvdeKAmXJlIGdvaW5nIHRvIGdvIHRoaXMgcm91dGUsIG1ha2Ugc3VyZSB0aGUgZ2FtZSBpcyBwbGF5YWJsZSBvbiBhIG1vYmlsZSBzY3JlZW4gYW5kIGltcGxlbWVudCBhIOKAmHBhc3MgZGV2aWNl4oCZIHNjcmVlbiBzbyB0aGF0IHBsYXllcnMgZG9u4oCZdCBzZWUgZWFjaCBvdGhlcnMgYm9hcmRzIVxyXG4gXHJcblxyXG4vLyAgVGhlIDUgc2hpcHMgYXJlOiBDYXJyaWVyIChvY2N1cGllcyA1IHNwYWNlcyksIEJhdHRsZXNoaXAgKDQpLCBDcnVpc2VyICgzKSwgU3VibWFyaW5lICgzKSwgYW5kIERlc3Ryb3llciAoMikuIC8vXHJcblxyXG5cclxuXHJcbmV4cG9ydCB7Z2FtZX07IiwiLy8gTGludGVyLCBQcmV0dGllciwgSmVzdC5jb25maWcgLy8gXHJcblxyXG5pbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIGNsZWFuLCByZW5kZXJJbml0YWxCb2FyZHMsIHJlbmRlcldpbiwgcmVuZGVyTG9zZSwgc2VsZWN0U2hpcHMgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbndyaXRlTmFtZSgpO1xyXG4iXSwibmFtZXMiOlsiU2hpcCIsImNvbnN0cnVjdG9yIiwic2l6ZSIsInRoaXMiLCJoaXQiLCJzdW5rIiwiY29vcmRpbmF0ZXMiLCJyZWdpc3RlckhpdCIsImlzU3VuayIsImFkZENvb3JkaW5hdGVzIiwicG9zaXRpb24iLCJwdXNoIiwiR2FtZWJvYXJkIiwiYm9hcmQiLCJzaGlwcyIsImNyZWF0ZUJvYXJkIiwiaSIsImoiLCJjb29yZGluYXRlIiwiYXR0YWNrZWQiLCJtaXNzZWQiLCJoYXNTaGlwIiwic2hpcCIsImlzVmFsaWQiLCJhcnIiLCJzcGxpdCIsImEiLCJOdW1iZXIiLCJiIiwiZ2V0Qm9hcmQiLCJhZGRTaGlwIiwicGxhY2VTaGlwIiwibGVuZ3RoIiwiaXNNb3ZlTGVnYWwiLCJtb3ZlIiwicGxhY2VFbmVteVNoaXBzIiwiY3JlYXRlQ29vcmRpbmF0ZXMiLCJudW0xIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibnVtMiIsInJlc3VsdCIsImdldEFkamFjZW50cyIsImFycmF5Qm9hcmQiLCJhZGphY2VudHMiLCJ1cCIsInJpZ2h0IiwiZG93biIsImxlZnQiLCJpbmRleCIsInBsYWNlIiwiaW5jbHVkZXMiLCJwbGFjZVNwbGl0IiwicmVjZWl2ZUF0dGFjayIsInN0ciIsImZvckVhY2giLCJnZXRTaGlwcyIsImFsbFN1bmsiLCJldmVyeSIsImJvYXJkQXJyYXkiLCJvYmoiLCJhcnJheSIsImtleSIsIlBsYXllciIsImdhbWVib2FyZCIsIm1ha2VSYW5kb21Nb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ3cml0ZU5hbWUiLCJtYWluIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJveCIsImNyZWF0ZUVsZW1lbnQiLCJ0aXRsZSIsImlucHV0IiwicGxheSIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwidHlwZSIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFuIiwibmFtZSIsIm15Qm9hcmQiLCJlbmVteUJvYXJkIiwibXlTZWN0aW9uIiwibXlHYW1lU2VjdGlvbiIsIm15TmFtZUJveCIsIm15TmFtZSIsInNoaXBzQ29udGFpbmVyIiwiZW5lbXlTZWN0aW9uIiwiZW5lbXlHYW1lU2VjdGlvbiIsImVuZW15TmFtZUJveCIsImVuZW15TmFtZSIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiY3J1aXNlciIsInN1Ym1hcmluZSIsImRlc3Ryb3llciIsInNyYyIsImRpdiIsImRpdkVuZW15IiwiaWQiLCJyZW5kZXJJbml0YWxCb2FyZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2l6ZXMiLCJkYXRhc2V0IiwiYWRkQm94ZXNMaXN0ZW5lciIsImhhbmRsZVNoaXBDbGFzZXMiLCJjbGljayIsInNlbGVjdFNoaXBzIiwicGxheWVyIiwiZW5lbXkiLCJyZW5kZXJNeUJvYXJkIiwicmVuZGVyRW5lbXlCb2FyZCIsImVCb3giLCJlIiwiZU51bSIsInRhcmdldCIsImVuZW15TW92ZSIsImVuZW15QXR0YWNrIiwic2V0VGltZW91dCIsIm15U3VuayIsImVuZW15U3VuayIsInJlbmRlckxvc2UiLCJyZW5kZXJXaW4iLCJnYW1lIiwidmFsdWUiLCJib3hlcyIsIm51bSIsInN0eWxlIiwiYmFja2dyb3VuZCIsImFkaiIsInNldCIsImFsZXJ0Iiwic2VsZWN0ZWQiLCJjb250YWlucyIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=