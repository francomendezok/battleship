(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}e.exports={Ship:t,Gameboard:class{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={coordinates:e,attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),d=Number(t[1]);return a>=0&&a<=7&&d>=0&&d<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return!1;const d=new t(e);for(let e=0;e<a.length;e++){if(this.hasShip(a[e]))return!1;this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0}return d.addCoordinates(a),this.addShip(d),!0}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}hasShip(e){return this.board[e].hasShip}placeEnemyShips(){let e=this.createCoordinates(),t=this.createCoordinates(),a=this.createCoordinates(),d=this.createCoordinates(),n=this.createCoordinates(),s=this.boardArray(),o=[this.getAdjacents(s,5,e),this.getAdjacents(s,4,t),this.getAdjacents(s,3,a),this.getAdjacents(s,3,d),this.getAdjacents(s,2,n)],i=[5,4,3,3,2],r=[];for(let e=0;e<o.length;e++){let t=o[e].filter((t=>t.length===i[e]));r.push(t)}r.forEach((e=>{this.placeShip(e[0].length,e[0])}))}createCoordinates(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.hasShip(a)){for(;this.hasShip(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}return a}getAdjacents(e,t,a){let d=e.boardArray(),n=[[],[]],s=1,o=8,i=0;for(let e=0;e<d.length;e++)if(d[e].coordinates===a){i=e;break}for(let e=0;e<t;e++){if(d[i+s]){let e=a.split(","),t=d[i+s].coordinates,o=t.split(",");t&&o[0]===e[0]&&(n[0].push(d[i+s].coordinates),s++)}if(d[i+o]){let e=a.split(","),t=d[i+o].coordinates;t.split(","),t&&t.includes(e[1])&&(n[1].push(d[i+o].coordinates),o+=8)}}return n}hasAllShipsPlaced(){return 5===this.ships.length}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}boardArray(){const e=this.board,t=[];for(let a in e)t.push(e[a]);return t}},Player:class{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}}}},t={};function a(d){var n=t[d];if(void 0!==n)return n.exports;var s=t[d]={exports:{}};return e[d](s,s.exports,a),s.exports}(()=>{"use strict";var e=a(776);function t(e){const t=document.getElementById("main"),a=document.createElement("div"),d=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("h3"),i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),h=document.createElement("h3");a.classList.add("my-section"),d.classList.add("my-game-section"),n.classList.add("my-board"),s.classList.add("my-name-box"),o.classList.add("my-name"),i.classList.add("enemy-section"),r.classList.add("enemy-game-section"),l.classList.add("enemy-board"),c.classList.add("enemy-name-box"),h.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,d=document.createElement("div"),s=document.createElement("div");d.classList.add("my-div-box"),s.classList.add("enemy-div-box"),d.id=`${a}`,s.id=`E ${a}`,n.appendChild(d),l.appendChild(s)}o.innerHTML=name,h.innerHTML="Enemy",s.appendChild(o),d.appendChild(n),a.appendChild(s),a.appendChild(d),c.appendChild(h),r.appendChild(l),i.appendChild(c),i.appendChild(r),t.appendChild(a),t.appendChild(i),t.classList.add("main-game")}function d(e){let t=e.boardArray();for(let e=0;e<t.length;e++){if(t[e].hasShip&&(document.getElementById(t[e].coordinates).style.background="green"),t[e].attacked){let a=document.getElementById(t[e].coordinates);a.innerHTML="❌",a.style.background="#F5C2C1"}if(t[e].missed){let a=document.getElementById(t[e].coordinates);a.innerHTML="💦",a.style.background="lightblue"}t[e].hasShip||t[e].attacked||t[e].missed||(document.getElementById(t[e].coordinates).style.background="lightgoldenrodyellow")}}function n(){document.getElementById("main").innerHTML=""}!function(){const a=document.getElementById("main"),s=document.createElement("div"),o=document.createElement("h3"),i=document.createElement("input"),r=document.createElement("button");s.classList.add("pop-up-box"),o.classList.add("title-pop-up"),i.classList.add("input-pop-up"),r.classList.add("play-button"),o.textContent="Write your Name",r.innerHTML="Battle",i.type="text",r.type="submit",s.appendChild(o),s.appendChild(i),s.appendChild(r),a.appendChild(s),r.addEventListener("click",(()=>{i.value?(n(),function(a){const s=document.getElementById("main"),o=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("h3"),h=document.createElement("button"),m=["Carrier","Battleship","Cruiser","Submarine","Destroyer"];let u=[4,3,2,2,1];s.classList.add("main-game"),o.classList.add("my-section"),i.classList.add("my-game-section"),r.classList.add("my-board"),l.classList.add("my-name-box"),c.classList.add("my-name"),h.classList.add("axis");let p=0;c.innerHTML=`${a},  place your  ${m[p]}`,c.dataset.size=p,h.innerHTML="Axis X",h.addEventListener("click",(()=>{"Axis X"===h.innerHTML?h.innerHTML="Axis Y":h.innerHTML="Axis X"}));let y=new e.Gameboard;y.createBoard(),new e.Player(y);for(let e=0;e<8;e+=1)for(let a=0;a<8;a+=1){const s=`${e},${a}`,o=document.createElement("div");o.classList.add("my-div-box"),o.id=`${s}`,7===a&&(o.dataset.xNotAllowed=!0),7===e&&(o.dataset.yNotAllowed=!0),o.addEventListener("mouseover",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],a=m.indexOf(t),d=u[a],n=document.querySelector(".axis").textContent.split(" ")[1],s=y.getAdjacents(y,d,o.id);if("X"===n){let e=s[0].some((e=>y.hasShip(e)));y.hasShip(o.id)||e||s[0].length<d?(y.hasShip(o.id)||(o.style.background="red"),o.style.cursor="not-allowed"):s[0].forEach((e=>{y.hasShip(e)?(o.style.cursor="not-allowed",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="black",o.style.background="black",o.style.cursor="crosshair")}))}if("Y"===n){let e=s[1].some((e=>y.hasShip(e)));y.hasShip(o.id)||e||s[1].length<d?(y.hasShip(o.id)||(o.style.background="red"),o.style.cursor="not-allowed"):s[1].forEach((e=>{y.hasShip(e)?(o.style.cursor="not-allowed",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="black",o.style.background="black",o.style.cursor="crosshair")}))}})),o.addEventListener("mouseleave",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],a=m.indexOf(t),d=u[a],n=document.querySelector(".axis").textContent.split(" ")[1],s=y.getAdjacents(y,d,o.id);"X"===n&&(o.dataset.xNotAllowed&&(o.style.background="lightgoldenrodyellow",o.style.cursor="crosshair"),y.hasShip(o.id)?(o.style.background="green",o.style.cursor="not-allowed"):s[0].forEach((e=>{y.hasShip(e)?(o.style.cursor="not-allowed",o.style.background="lightgoldenrodyellow",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="lightgoldenrodyellow",o.style.background="lightgoldenrodyellow")}))),"Y"===n&&(o.dataset.yNotAllowed&&(o.style.background="lightgoldenrodyellow",o.style.cursor="crosshair"),y.hasShip(o.id)?(o.style.background="green",o.style.cursor="not-allowed"):s[1].forEach((e=>{y.hasShip(e)?(o.style.cursor="not-allowed",o.style.background="lightgoldenrodyellow",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="lightgoldenrodyellow",o.style.background="lightgoldenrodyellow")})))})),o.addEventListener("click",(()=>{let e=document.querySelector(".my-name").textContent,a=e.split(" "),s=a[a.length-1],i=m.indexOf(s),r=u[i],l=document.querySelector(".axis").textContent.split(" ")[1],h=y.getAdjacents(y,r,o.id);"X"===l&&(r+=1,h[0].unshift(o.id),y.placeShip(r,h[0])&&(d(y),p+=1,p===m.length&&(n(),t()),c.innerHTML="",c.innerHTML=`${e},  place your ${m[p]}`)),"Y"===l&&(r+=1,h[1].unshift(o.id),y.placeShip(r,h[1])&&(d(y),p+=1,p===m.length&&(n(),t()),c.innerHTML="",c.innerHTML=`${e},  place your ${m[p]}`))})),r.appendChild(o)}l.appendChild(c),l.appendChild(h),i.appendChild(r),o.appendChild(l),o.appendChild(i),s.appendChild(o),d(y)}(i.value)):alert("Please Write Your Name")}))}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRNUIsRUFBSUUsSUFFWnpGLEVBQU1rQixVQUFVL0IsRUFBTTJELEVBQVUsTUFFekMsRUFBYzlDLEdBQ2RvQyxHQUFPLEVBQ1BBLElBQVFuQyxFQUFNa0IsU0FDVjZFLElBRUEsS0FFUmpCLEVBQU9ZLFVBQVksR0FDbkJaLEVBQU9ZLFVBQVksR0FBR0Msa0JBQXFCM0YsRUFBTW1DLE1BRXJELElBR0Z5QyxFQUFRYSxZQUFZSCxFQUN0QixDQUlKVCxFQUFVWSxZQUFZWCxHQUN0QkQsRUFBVVksWUFBWWMsR0FDdEI1QixFQUFjYyxZQUFZYixHQUMxQkgsRUFBVWdCLFlBQVlaLEdBQ3RCSixFQUFVZ0IsWUFBWWQsR0FFdEJMLEVBQUttQixZQUFZaEIsR0FDakIsRUFBYzFFLEVBQ2xCLENBclFZb0gsQ0FBaUJsQixFQUFNSyxRQUVsQmMsTUFBTSx5QkFBeUIsR0FFaEQsQ0MvQkFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hpcCBDbGFzcyAvL1xyXG5jbGFzcyBTaGlwIHtcclxuICAgIGNvbnN0cnVjdG9yIChzaXplKSB7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLmhpdCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVySGl0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3VuaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaXQgPT09IHRoaXMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb29yZGluYXRlcyAocG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gocG9zaXRpb24pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBHYW1lYm9hcmQgQ2xhc3MgLy9cclxuY2xhc3MgR2FtZWJvYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICB0aGlzLmJvYXJkID0gW10gXHJcbiAgICAgICAgdGhpcy5zaGlwcyA9IFtdXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUJvYXJkKHNpemUgPSA4ICkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGogKz0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZV0gPSB7IGNvb3JkaW5hdGVzOiBjb29yZGluYXRlLCBhdHRhY2tlZDogZmFsc2UsIG1pc3NlZDogZmFsc2UsIGhhc1NoaXA6IGZhbHNlLCBzaGlwOiBbXSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlzVmFsaWQgKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IGNvb3JkaW5hdGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgbGV0IGEgPSBOdW1iZXIoYXJyWzBdKTtcclxuICAgICAgICBsZXQgYiA9IE51bWJlcihhcnJbMV0pO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGEgPj0gMCAmJiBhIDw9IDcgJiYgYiA+PSAwICYmIGIgPD0gNztcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0Qm9hcmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFkZFNoaXAgKHNoaXApIHtcclxuICAgICAgICB0aGlzLnNoaXBzLnB1c2goc2hpcCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBsYWNlU2hpcCAoc2l6ZSwgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBpZiAoc2l6ZSAhPT0gY29vcmRpbmF0ZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChzaXplKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1NoaXAoY29vcmRpbmF0ZXNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlc1tpXV0uc2hpcC5wdXNoKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVzW2ldXS5oYXNTaGlwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoaXAuYWRkQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNoaXAoc2hpcCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpc01vdmVMZWdhbCAobW92ZSkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5ib2FyZFttb3ZlXS5hdHRhY2tlZCAmJiAhdGhpcy5ib2FyZFttb3ZlXS5taXNzZWQ7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICBoYXNTaGlwIChjb29yZGluYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVdLmhhc1NoaXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgcGxhY2VFbmVteVNoaXBzICgpIHtcclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVDYXJyaWVyID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZUJhdHRsZXNoaXAgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlQ3J1aXNlciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVTdWJtYXJpbmUgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlRGVzdHJveWVyID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFycmF5ID0gdGhpcy5ib2FyZEFycmF5KCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2FycmllciA9IHRoaXMuZ2V0QWRqYWNlbnRzKGFycmF5LCA1LCBjb29yZGluYXRlQ2Fycmllcik7XHJcbiAgICAgICAgICAgIGxldCBiYXR0bGVzaGlwID0gdGhpcy5nZXRBZGphY2VudHMoYXJyYXksIDQsIGNvb3JkaW5hdGVCYXR0bGVzaGlwKTtcclxuICAgICAgICAgICAgbGV0IGNydWlzZXIgPSB0aGlzLmdldEFkamFjZW50cyhhcnJheSwgMywgY29vcmRpbmF0ZUNydWlzZXIpO1xyXG4gICAgICAgICAgICBsZXQgc3VibWFyaW5lID0gdGhpcy5nZXRBZGphY2VudHMoYXJyYXksIDMsIGNvb3JkaW5hdGVTdWJtYXJpbmUpO1xyXG4gICAgICAgICAgICBsZXQgZGVzdHJveWVyID0gdGhpcy5nZXRBZGphY2VudHMoYXJyYXksIDIsIGNvb3JkaW5hdGVEZXN0cm95ZXIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGNydWlzZXIsIHN1Ym1hcmluZSwgZGVzdHJveWVyXTtcclxuICAgICAgICAgICAgbGV0IHNpemVzID0gWzUsNCwzLDMsMl07XHJcbiAgICAgICAgICAgIGxldCBmaWx0ZXJlZCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzaGlwc1tpXS5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgZmlsdGVyZWQuZm9yRWFjaChzZXRPZkNvb3JkaW5hdGVzID0+IHsgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlU2hpcChzZXRPZkNvb3JkaW5hdGVzWzBdLmxlbmd0aCwgc2V0T2ZDb29yZGluYXRlc1swXSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHNldE9mQ29vcmRpbmF0ZXMuZm9yRWFjaChjb29yZGluYXRlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8gbGV0IGFmZmlybWF0aXZlID0gY29vcmRpbmF0ZXMuZXZlcnkocG9zaXRpb24gPT4gIXRoaXMuaGFzU2hpcChwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMucGxhY2VTaGlwKGNvb3JkaW5hdGVzLmxlbmd0aCwgY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIGNvb3JkaW5hdGVzLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vIH0pXHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgfSk7ICBcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNyZWF0ZUNvb3JkaW5hdGVzICgpIHtcclxuICAgICAgICBsZXQgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5oYXNTaGlwKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5oYXNTaGlwKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAgIGdldEFkamFjZW50cyAoYm9hcmQsIHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IGFycmF5Qm9hcmQgPSBib2FyZC5ib2FyZEFycmF5KCk7XHJcbiAgICAgICAgbGV0IGFkamFjZW50cyA9IFtbXSxbXV07XHJcbiAgICAgICAgLy8gbGV0IHVwID0gODtcclxuICAgICAgICBsZXQgcmlnaHQgPSAxO1xyXG4gICAgICAgIGxldCBkb3duID0gODtcclxuICAgICAgICAvLyBsZXQgbGVmdCA9IDE7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgLy8gZ2V0IGluZGV4IC8vXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheUJvYXJkLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2pdLmNvb3JkaW5hdGVzID09PSBjb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIDIgYWRqYWNlbnRzIC8vIFxyXG4gICAgICAgICAgICAvLyBpZiAoYXJyYXlCb2FyZFtpbmRleCAtIHVwXSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggLSB1cF0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIC8vICAgICBpZiAocGxhY2UgJiYgcGxhY2UuaW5jbHVkZXMoc3BsaXRbMV0pKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgYWRqYWNlbnRzWzBdLnB1c2goYXJyYXlCb2FyZFtpbmRleCAtIHVwXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgdXAgKz0gODtcclxuICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBpZiAoYXJyYXlCb2FyZFtpbmRleCArIHJpZ2h0XSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggKyByaWdodF0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgcGxhY2VTcGxpdFswXSA9PT0gc3BsaXRbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMF0ucHVzaChhcnJheUJvYXJkW2luZGV4ICsgcmlnaHRdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICByaWdodCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2luZGV4ICsgZG93bl0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2UgPSBhcnJheUJvYXJkW2luZGV4ICsgZG93bl0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgcGxhY2UuaW5jbHVkZXMoc3BsaXRbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzFdLnB1c2goYXJyYXlCb2FyZFtpbmRleCArIGRvd25dLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3duICs9IDg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gaWYgKGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgLy8gICAgIGlmIChwbGFjZSAmJiBwbGFjZVNwbGl0WzBdID09PSBzcGxpdFswXSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGFkamFjZW50c1szXS5wdXNoKGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgbGVmdCsrO1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhZGphY2VudHM7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzQWxsU2hpcHNQbGFjZWQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzLmxlbmd0aCA9PT0gNTtcclxuICAgIH1cclxuXHJcbiAgICAgIHJlY2VpdmVBdHRhY2sgKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IGAke2Nvb3JkaW5hdGVzfWA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3N0cl0uYXR0YWNrZWQgfHwgdGhpcy5ib2FyZFtzdHJdLm1pc3NlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ib2FyZFtzdHJdLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtzdHJdLmF0dGFja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoaXAuY29vcmRpbmF0ZXNbMF0uaW5jbHVkZXMoc3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXAucmVnaXN0ZXJIaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkgc2hpcC5zdW5rID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5taXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0U2hpcHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbGxTdW5rICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGlwcy5ldmVyeShzaGlwID0+IHNoaXAuc3VuayA9PT0gdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJvYXJkQXJyYXkgKCkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHRoaXMuYm9hcmQ7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKG9ialtrZXldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgfVxyXG59XHJcblxyXG4vLyBQbGF5ZXIgQ2xhc3MgLy9cclxuY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yIChnYW1lYm9hcmQpIHtcclxuICAgICAgICB0aGlzLmdhbWVib2FyZCA9IGdhbWVib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBpc01vdmVMZWdhbCAobW92ZSkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0uYXR0YWNrZWQgJiYgIXRoaXMuZ2FtZWJvYXJkLmJvYXJkW21vdmVdLm1pc3NlZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFrZVJhbmRvbU1vdmUgKCkge1xyXG4gICAgICAgIGxldCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIERPTSBNYW5pcHVsYXRpb24sIFJlbmRlciB0aGUgR2FtZSAvLyBcclxuXHJcbi8vIFJlbmRlciBXcml0ZSBZb3VyIE5hbWUgLy8gXHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IEdhbWVib2FyZCwgUGxheWVyLCBTaGlwIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XHJcblxyXG5mdW5jdGlvbiB3cml0ZU5hbWUgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdXcml0ZSB5b3VyIE5hbWUnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnQmF0dGxlJztcclxuICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgcmVuZGVyUGxhY2VTaGlwcyhpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGFsZXJ0KCdQbGVhc2UgV3JpdGUgWW91ciBOYW1lJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclBsYWNlU2hpcHMgKG5hbWUpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBjb25zdCBheGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgY29uc3Qgc2hpcHMgPSBbJ0NhcnJpZXInLCAnQmF0dGxlc2hpcCcsICdDcnVpc2VyJywgJ1N1Ym1hcmluZScsICdEZXN0cm95ZXInXTtcclxuICAgIGxldCBzaXplcyA9IFs0LDMsMiwyLDFdO1xyXG5cclxuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1nYW1lJyk7XHJcbiAgICBteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktc2VjdGlvbicpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIG15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnbXktYm9hcmQnKTtcclxuICAgIG15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdteS1uYW1lLWJveCcpO1xyXG4gICAgbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ215LW5hbWUnKTtcclxuICAgIGF4aXMuY2xhc3NMaXN0LmFkZCgnYXhpcycpO1xyXG5cclxuICAgIGxldCBwb3MgPSAwO1xyXG5cclxuICAgIG15TmFtZS5pbm5lckhUTUwgPSBgJHtuYW1lfSwgIHBsYWNlIHlvdXIgICR7c2hpcHNbcG9zXX1gO1xyXG4gICAgbXlOYW1lLmRhdGFzZXQuc2l6ZSA9IHBvcztcclxuXHJcbiAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG5cclxuICAgIGF4aXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGF4aXMuaW5uZXJIVE1MID09PSAnQXhpcyBYJykge1xyXG4gICAgICAgICAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFknO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgbGV0IGJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5cclxuICAgIGJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcbiAgIFxyXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIoYm9hcmQpO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgaiArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdteS1kaXYtYm94Jyk7XHJcbiAgICAgICAgICBkaXYuaWQgPSBgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBpZiAoaiA9PT0gNykge1xyXG4gICAgICAgICAgICBkaXYuZGF0YXNldC54Tm90QWxsb3dlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaSA9PT0gNykge1xyXG4gICAgICAgICAgICBkaXYuZGF0YXNldC55Tm90QWxsb3dlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LW5hbWUnKTtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0aXRsZS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgbGV0IHNwbGl0ID0gbmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcCA9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtMV07XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHNoaXBzLmluZGV4T2Yoc2hpcCk7XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gc2l6ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBsZXQgYXhpcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5heGlzJyk7XHJcbiAgICAgICAgICAgIGxldCBheGlzVGV4dCA9IGF4aXMudGV4dENvbnRlbnQuc3BsaXQoJyAnKVsxXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBib2FyZC5nZXRBZGphY2VudHMoYm9hcmQsIHNpemUsIGRpdi5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdYJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFkaldpdGhTaGlwID0gYWRqYWNlbnRzWzBdLnNvbWUoeCA9PiBib2FyZC5oYXNTaGlwKHgpKTtcclxuICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkgfHwgYWRqV2l0aFNoaXAgIHx8IGFkamFjZW50c1swXS5sZW5ndGggPCBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzBdLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdncmVlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTsgXHJcbiAgICAgICAgICAgICAgICB9OyAgIFxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWScpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhZGpXaXRoU2hpcCA9IGFkamFjZW50c1sxXS5zb21lKHggPT4gYm9hcmQuaGFzU2hpcCh4KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpIHx8IGFkaldpdGhTaGlwICB8fCBhZGphY2VudHNbMV0ubGVuZ3RoIDwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJzsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07ICBcclxuICAgICAgICAgICAgICAgIH07IFxyXG5cclxuXHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1uYW1lJyk7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IG5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgbGV0IHNoaXAgPSBzcGxpdFtzcGxpdC5sZW5ndGggLTFdO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBzaGlwcy5pbmRleE9mKHNoaXApO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHNpemVzW2luZGV4XTtcclxuICAgICAgICAgICAgbGV0IGF4aXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXhpcycpO1xyXG4gICAgICAgICAgICBsZXQgYXhpc1RleHQgPSBheGlzLnRleHRDb250ZW50LnNwbGl0KCcgJylbMV07XHJcblxyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gYm9hcmQuZ2V0QWRqYWNlbnRzKGJvYXJkLCBzaXplLCBkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXYuZGF0YXNldC54Tm90QWxsb3dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1swXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdncmVlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdZJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpdi5kYXRhc2V0LnlOb3RBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJzsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzFdLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktbmFtZScpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRpdGxlLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBsZXQgc3BsaXQgPSBuYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGxldCBzaGlwID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0xXTtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gc2hpcHMuaW5kZXhPZihzaGlwKTtcclxuICAgICAgICAgICAgbGV0IHNpemUgPSBzaXplc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxldCBheGlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF4aXMnKTtcclxuICAgICAgICAgICAgbGV0IGF4aXNUZXh0ID0gYXhpcy50ZXh0Q29udGVudC5zcGxpdCgnICcpWzFdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IGJvYXJkLmdldEFkamFjZW50cyhib2FyZCwgc2l6ZSwgZGl2LmlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzVGV4dCA9PT0gJ1gnKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplICs9IDE7XHJcbiAgICAgICAgICAgICAgICBhZGphY2VudHNbMF0udW5zaGlmdChkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSBib2FyZC5wbGFjZVNoaXAoc2l6ZSwgYWRqYWNlbnRzWzBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gMTtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPT09IHNoaXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJbml0YWxCb2FyZHMobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBteU5hbWUuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgICAgICBteU5hbWUuaW5uZXJIVE1MID0gYCR7bmFtZX0sICBwbGFjZSB5b3VyICR7c2hpcHNbcG9zXX1gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdZJykge1xyXG4gICAgICAgICAgICAgICAgc2l6ZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgYWRqYWNlbnRzWzFdLnVuc2hpZnQoZGl2LmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VkID0gYm9hcmQucGxhY2VTaGlwKHNpemUsIGFkamFjZW50c1sxXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTXlCb2FyZChib2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IDE7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID09PSBzaGlwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW5kZXJCb3RoQm9hcmRzKG15Qm9hcmQpLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVySW5pdGFsQm9hcmRzKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbXlOYW1lLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgbXlOYW1lLmlubmVySFRNTCA9IGAke25hbWV9LCAgcGxhY2UgeW91ciAke3NoaXBzW3Bvc119YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKG15TmFtZSk7XHJcbiAgICBteU5hbWVCb3guYXBwZW5kQ2hpbGQoYXhpcyk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKG15Qm9hcmQpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15TmFtZUJveCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlHYW1lU2VjdGlvbik7XHJcbiAgICBcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQobXlTZWN0aW9uKTtcclxuICAgIHJlbmRlck15Qm9hcmQoYm9hcmQpOyAgICBcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFuQW5kUmVuZGVyVGV4dCAoKSB7XHJcblxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gcmVuZGVySW5pdGFsQm9hcmRzIChuYW1lZCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcblxyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICAgICAgXHJcbiAgICBjb25zdCBlbmVteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuXHJcbiAgICBcclxuICAgIG15U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1zZWN0aW9uJyk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LWdhbWUtc2VjdGlvbicpO1xyXG4gICAgbXlCb2FyZC5jbGFzc0xpc3QuYWRkKCdteS1ib2FyZCcpO1xyXG4gICAgbXlOYW1lQm94LmNsYXNzTGlzdC5hZGQoJ215LW5hbWUtYm94Jyk7XHJcbiAgICBteU5hbWUuY2xhc3NMaXN0LmFkZCgnbXktbmFtZScpO1xyXG4gICAgXHJcbiAgICBlbmVteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZW5lbXktc2VjdGlvbicpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdlbmVteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIGVuZW15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnZW5lbXktYm9hcmQnKTtcclxuICAgIGVuZW15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdlbmVteS1uYW1lLWJveCcpO1xyXG4gICAgZW5lbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ2VuZW15LW5hbWUnKTtcclxuXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7IGogKz0gMSkge1xyXG4gICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IGAke2l9LCR7an1gO1xyXG4gICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBjb25zdCBkaXZFbmVteSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ215LWRpdi1ib3gnKTtcclxuICAgICAgICAgIGRpdkVuZW15LmNsYXNzTGlzdC5hZGQoJ2VuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICAgICAgICBkaXYuaWQgPSBgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBkaXZFbmVteS5pZCA9IGBFICR7Y29vcmRpbmF0ZX1gO1xyXG4gIFxyXG4gICAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgZW5lbXlCb2FyZC5hcHBlbmRDaGlsZChkaXZFbmVteSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG15TmFtZS5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgZW5lbXlOYW1lLmlubmVySFRNTCA9ICdFbmVteSc7XHJcblxyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKG15TmFtZSk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKG15Qm9hcmQpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15TmFtZUJveCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlHYW1lU2VjdGlvbik7XHJcbiAgICBcclxuICAgIGVuZW15TmFtZUJveC5hcHBlbmRDaGlsZChlbmVteU5hbWUpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteUJvYXJkKTtcclxuICAgIGVuZW15U2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteU5hbWVCb3gpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15R2FtZVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQobXlTZWN0aW9uKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoZW5lbXlTZWN0aW9uKTtcclxuXHJcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4tZ2FtZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJNeUJvYXJkIChib2FyZCkge1xyXG4gICAgbGV0IGFyciA9IGJvYXJkLmJvYXJkQXJyYXkoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChhcnJbaV0uaGFzU2hpcCkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyW2ldLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyW2ldLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcnJbaV0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ+KdjCc7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGNUMyQzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyW2ldLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyW2ldLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfwn5KmJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcnJbaV0uaGFzU2hpcCAmJiAhYXJyW2ldLmF0dGFja2VkICYmICFhcnJbaV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcnJbaV0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiByZW5kZXJFbmVteUJvYXJkIChib2FyZCkge1xyXG4gICAgY29uc3QgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW5lbXktZGl2LWJveCcpO1xyXG5cclxuICAgIGZvciAoY29uc3QgYm94IG9mIGJveGVzKSB7XHJcbiAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYm94LmlkO1xyXG4gICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgbGV0IG51bSA9IHNwbGl0WzFdOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ29yYW5nZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn4p2MJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnI0Y1QzJDMSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ/CfkqYnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGJsdWUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+aoic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gcmVuZGVyV2luICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7IFxyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1lvdSBXaW4nO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnUGxheSBBZ2Fpbic7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgd3JpdGVOYW1lKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTG9zZSAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpOyBcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgncGxheS1idXR0b24nKTtcclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdZb3UgTG9zZSc7XHJcbiAgICBwbGF5LmlubmVySFRNTCA9ICdQbGF5IEFnYWluJztcclxuICAgIHBsYXkudHlwZSA9ICdzdWJtaXQnO1xyXG5cclxuICAgIGJveC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICB3cml0ZU5hbWUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhbiAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIG1haW4uaW5uZXJIVE1MID0gJyc7XHJcbn1cclxuXHJcblxyXG5leHBvcnQge3dyaXRlTmFtZSwgY2xlYW4sIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgcmVuZGVyV2luLCByZW5kZXJMb3NlfTtcclxuIiwiLy8gTGludGVyLCBQcmV0dGllciwgSmVzdC5jb25maWcgLy8gXHJcblxyXG5pbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIGNsZWFuLCByZW5kZXJJbml0YWxCb2FyZHMsIHJlbmRlcldpbiwgcmVuZGVyTG9zZSwgc2VsZWN0U2hpcHMgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbndyaXRlTmFtZSgpOyJdLCJuYW1lcyI6WyJTaGlwIiwiY29uc3RydWN0b3IiLCJzaXplIiwidGhpcyIsImhpdCIsInN1bmsiLCJjb29yZGluYXRlcyIsInJlZ2lzdGVySGl0IiwiaXNTdW5rIiwiYWRkQ29vcmRpbmF0ZXMiLCJwb3NpdGlvbiIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIiwiR2FtZWJvYXJkIiwiYm9hcmQiLCJzaGlwcyIsImNyZWF0ZUJvYXJkIiwiaSIsImoiLCJjb29yZGluYXRlIiwiYXR0YWNrZWQiLCJtaXNzZWQiLCJoYXNTaGlwIiwic2hpcCIsImlzVmFsaWQiLCJhcnIiLCJzcGxpdCIsImEiLCJOdW1iZXIiLCJiIiwiZ2V0Qm9hcmQiLCJhZGRTaGlwIiwicGxhY2VTaGlwIiwibGVuZ3RoIiwiaXNNb3ZlTGVnYWwiLCJtb3ZlIiwicGxhY2VFbmVteVNoaXBzIiwiY29vcmRpbmF0ZUNhcnJpZXIiLCJjcmVhdGVDb29yZGluYXRlcyIsImNvb3JkaW5hdGVCYXR0bGVzaGlwIiwiY29vcmRpbmF0ZUNydWlzZXIiLCJjb29yZGluYXRlU3VibWFyaW5lIiwiY29vcmRpbmF0ZURlc3Ryb3llciIsImFycmF5IiwiYm9hcmRBcnJheSIsImdldEFkamFjZW50cyIsInNpemVzIiwiZmlsdGVyZWQiLCJ0ZW1wIiwiZmlsdGVyIiwicG9zIiwiZm9yRWFjaCIsInNldE9mQ29vcmRpbmF0ZXMiLCJudW0xIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibnVtMiIsInJlc3VsdCIsImFycmF5Qm9hcmQiLCJhZGphY2VudHMiLCJyaWdodCIsImRvd24iLCJpbmRleCIsInBsYWNlIiwicGxhY2VTcGxpdCIsImluY2x1ZGVzIiwiaGFzQWxsU2hpcHNQbGFjZWQiLCJyZWNlaXZlQXR0YWNrIiwic3RyIiwiZ2V0U2hpcHMiLCJhbGxTdW5rIiwiZXZlcnkiLCJvYmoiLCJrZXkiLCJQbGF5ZXIiLCJnYW1lYm9hcmQiLCJtYWtlUmFuZG9tTW92ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuYW1lZCIsIm1haW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibXlTZWN0aW9uIiwiY3JlYXRlRWxlbWVudCIsIm15R2FtZVNlY3Rpb24iLCJteUJvYXJkIiwibXlOYW1lQm94IiwibXlOYW1lIiwiZW5lbXlTZWN0aW9uIiwiZW5lbXlHYW1lU2VjdGlvbiIsImVuZW15Qm9hcmQiLCJlbmVteU5hbWVCb3giLCJlbmVteU5hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJkaXYiLCJkaXZFbmVteSIsImlkIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJuYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiYm94IiwiY2xlYW4iLCJ0aXRsZSIsImlucHV0IiwicGxheSIsInRleHRDb250ZW50IiwidHlwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsImF4aXMiLCJkYXRhc2V0IiwieE5vdEFsbG93ZWQiLCJ5Tm90QWxsb3dlZCIsInF1ZXJ5U2VsZWN0b3IiLCJpbmRleE9mIiwiYXhpc1RleHQiLCJhZGpXaXRoU2hpcCIsInNvbWUiLCJ4IiwiY3Vyc29yIiwidW5zaGlmdCIsInJlbmRlclBsYWNlU2hpcHMiLCJhbGVydCIsIndyaXRlTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=