(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}e.exports={Ship:t,Gameboard:class{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={coordinates:e,attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),n=Number(t[1]);return a>=0&&a<=7&&n>=0&&n<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return!1;const n=new t(e);for(let e=0;e<a.length;e++){if(this.hasShip(a[e]))return!1;this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0}return n.addCoordinates(a),this.addShip(n),!0}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}hasShip(e){return this.board[e].hasShip}placeEnemyShips(e){let t=this.createCoordinates(),a=this.createCoordinates(),n=this.createCoordinates(),d=this.createCoordinates(),s=this.createCoordinates(),i=[e.getAdjacents(e,5,t),e.getAdjacents(e,4,a),e.getAdjacents(e,3,n),e.getAdjacents(e,3,d),e.getAdjacents(e,2,s)],o=[5,4,3,3,2];for(let t=0;t<i.length;t++){let a=i[t].filter((e=>e.length===o[t]));if(a.length){let n=this.placeShip(o[t],a[1]||a[0]);for(;!n;){let a=this.createCoordinates(),d=e.getAdjacents(e,o[t],a),s=d.filter((e=>e.length===o[t]));for(;!s.length;)a=this.createCoordinates(),d=e.getAdjacents(e,o[t],a),s=d.filter((e=>e.length===o[t]));n=this.placeShip(o[t],s[1]||s[0])}}else{for(;!a.length;){let n=this.createCoordinates();a=e.getAdjacents(e,o[t],n).filter((e=>e.length===o[t]))}let n=this.placeShip(o[t],a[1]||a[0]);for(;!n;){let a=this.createCoordinates(),d=e.getAdjacents(e,o[t],a),s=d.filter((e=>e.length===o[t]));for(;!s.length;)a=this.createCoordinates(),d=e.getAdjacents(e,o[t],a),s=d.filter((e=>e.length===o[t]));n=this.placeShip(o[t],s[1]||s[0])}}}}createCoordinates(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.hasShip(a)){for(;this.hasShip(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}return a}getAdjacents(e,t,a){let n=e.boardArray(),d=[[],[]],s=1,i=8,o=0;for(let e=0;e<n.length;e++)if(n[e].coordinates===a){o=e;break}for(let e=0;e<t;e++){if(n[o+s]){let e=a.split(","),t=n[o+s].coordinates,i=t.split(",");t&&i[0]===e[0]&&(d[0].push(n[o+s].coordinates),s++)}if(n[o+i]){let e=a.split(","),t=n[o+i].coordinates;t.split(","),t&&t.includes(e[1])&&(d[1].push(n[o+i].coordinates),i+=8)}}return d}hasAllShipsPlaced(){return 5===this.ships.length}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}boardArray(){const e=this.board,t=[];for(let a in e)t.push(e[a]);return t}},Player:class{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}}}},t={};function a(n){var d=t[n];if(void 0!==d)return d.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{"use strict";var e=a(776);function t(){const t=document.getElementById("main"),a=document.createElement("div"),s=document.createElement("h3"),o=document.createElement("input"),r=document.createElement("button");a.classList.add("pop-up-box"),s.classList.add("title-pop-up"),o.classList.add("input-pop-up"),r.classList.add("play-button"),s.textContent="Write your Name",r.innerHTML="Battle",o.type="text",r.type="submit",a.appendChild(s),a.appendChild(o),a.appendChild(r),t.appendChild(a),r.addEventListener("click",(()=>{o.value?(i(),function(t){const a=document.getElementById("main"),s=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("h3"),h=document.createElement("button"),u=["Carrier","Battleship","Cruiser","Submarine","Destroyer"];let m=[4,3,2,2,1];a.classList.add("main-game"),s.classList.add("my-section"),o.classList.add("my-game-section"),r.classList.add("my-board"),l.classList.add("my-name-box"),c.classList.add("my-name"),h.classList.add("axis");let p=0;c.innerHTML=`${t},  place your  ${u[p]}`,c.dataset.size=p,h.innerHTML="Axis X",h.addEventListener("click",(()=>{"Axis X"===h.innerHTML?h.innerHTML="Axis Y":h.innerHTML="Axis X"}));let y=new e.Gameboard;y.createBoard(),new e.Player(y);for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,s=document.createElement("div");s.classList.add("my-div-box"),s.id=`${a}`,7===t&&(s.dataset.xNotAllowed=!0),7===e&&(s.dataset.yNotAllowed=!0),s.addEventListener("mouseover",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],a=u.indexOf(t),n=m[a],d=document.querySelector(".axis").textContent.split(" ")[1],i=y.getAdjacents(y,n,s.id);if("X"===d){let e=i[0].some((e=>y.hasShip(e)));y.hasShip(s.id)||e||i[0].length<n?(y.hasShip(s.id)||(s.style.background="red"),s.style.cursor="not-allowed"):i[0].forEach((e=>{y.hasShip(e)?(s.style.cursor="not-allowed",document.getElementById(e).style.background="#15803d"):(document.getElementById(e).style.background="black",s.style.background="black",s.style.cursor="crosshair")}))}if("Y"===d){let e=i[1].some((e=>y.hasShip(e)));y.hasShip(s.id)||e||i[1].length<n?(y.hasShip(s.id)||(s.style.background="red"),s.style.cursor="not-allowed"):i[1].forEach((e=>{y.hasShip(e)?(s.style.cursor="not-allowed",document.getElementById(e).style.background="#15803d"):(document.getElementById(e).style.background="black",s.style.background="black",s.style.cursor="crosshair")}))}})),s.addEventListener("mouseleave",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],a=u.indexOf(t),n=m[a],d=document.querySelector(".axis").textContent.split(" ")[1],i=y.getAdjacents(y,n,s.id);"X"===d&&(s.dataset.xNotAllowed&&(s.style.background="#172554",s.style.cursor="crosshair"),y.hasShip(s.id)?(s.style.background="#15803d",s.style.cursor="not-allowed"):i[0].forEach((e=>{y.hasShip(e)?(s.style.cursor="not-allowed",s.style.background="#172554",document.getElementById(e).style.background="#15803d"):(document.getElementById(e).style.background="#172554",s.style.background="#172554")}))),"Y"===d&&(s.dataset.yNotAllowed&&(s.style.background="#172554",s.style.cursor="crosshair"),y.hasShip(s.id)?(s.style.background="#15803d",s.style.cursor="not-allowed"):i[1].forEach((e=>{y.hasShip(e)?(s.style.cursor="not-allowed",s.style.background="#172554",document.getElementById(e).style.background="#15803d"):(document.getElementById(e).style.background="#172554",s.style.background="#172554")})))})),s.addEventListener("click",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],a=e[0].split(",")[0],o=u.indexOf(t),r=m[o],l=document.querySelector(".axis").textContent.split(" ")[1],h=y.getAdjacents(y,r,s.id);"X"===l&&(r+=1,h[0].unshift(s.id),y.placeShip(r,h[0])&&(d(y),p+=1,p===u.length&&(i(),n(a,y)),c.innerHTML=`${a},  place your ${u[p]}`)),"Y"===l&&(r+=1,h[1].unshift(s.id),y.placeShip(r,h[1])&&(d(y),p+=1,p===u.length&&(i(),n(a,y)),c.innerHTML=`${a},  place your ${u[p]}`))})),r.appendChild(s)}l.appendChild(c),l.appendChild(h),o.appendChild(r),s.appendChild(l),s.appendChild(o),a.appendChild(s),d(y)}(o.value)):alert("Please Write Your Name")}))}function n(a,n){const o=document.getElementById("main"),r=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),h=document.createElement("div"),u=document.createElement("h3"),m=document.createElement("div"),p=document.createElement("div"),y=document.createElement("div"),g=document.createElement("div"),b=document.createElement("h3");r.classList.add("my-section"),l.classList.add("my-game-section"),c.classList.add("my-board"),h.classList.add("my-name-box"),u.classList.add("my-name"),m.classList.add("enemy-section"),p.classList.add("enemy-game-section"),y.classList.add("enemy-board"),g.classList.add("enemy-name-box"),b.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,n=document.createElement("div"),d=document.createElement("div");n.classList.add("my-div-box"),d.classList.add("enemy-div-box"),n.id=`${a}`,d.id=`E ${a}`,c.appendChild(n),y.appendChild(d)}u.innerHTML=a,b.innerHTML="Enemy",h.appendChild(u),l.appendChild(c),r.appendChild(h),r.appendChild(l),g.appendChild(b),p.appendChild(y),m.appendChild(g),m.appendChild(p),o.appendChild(r),o.appendChild(m),o.classList.add("main-game"),d(n),function(a){let n=new e.Gameboard,o=a,r=new e.Player(o);n.createBoard();let l=new e.Player(n);n.placeEnemyShips(n),d(a),s(n),[...document.querySelectorAll(".enemy-div-box")].forEach((e=>{e.addEventListener("click",(e=>{let a=e.target.id.split(" ")[1],c=l.makeRandomMove(),h=o.receiveAttack(c);if(n.receiveAttack(a)){s(l.gameboard),setTimeout((function(){for(;!h;)c=l.makeRandomMove(),h=o.receiveAttack(c);d(r.gameboard)}),1e3);let e=o.allSunk(),a=n.allSunk();e&&(i(),function(){const e=document.getElementById("main"),a=document.createElement("div"),n=document.createElement("h3"),d=document.createElement("button");a.classList.add("pop-up-box"),n.classList.add("title-pop-up"),d.classList.add("play-button"),n.textContent="You Lose",d.innerHTML="Play Again",d.type="submit",a.appendChild(n),a.appendChild(d),e.appendChild(a),d.addEventListener("click",(()=>{i(),t()}))}()),a&&(i(),function(){const e=document.getElementById("main"),a=document.createElement("div"),n=document.createElement("h3"),d=document.createElement("button");a.classList.add("pop-up-box"),n.classList.add("title-pop-up"),d.classList.add("play-button"),n.textContent="You Win",d.innerHTML="Play Again",d.type="submit",a.appendChild(n),a.appendChild(d),e.appendChild(a),d.addEventListener("click",(()=>{i(),t()}))}())}}))}))}(n)}function d(e){let t=e.boardArray();for(let e=0;e<t.length;e++){if(t[e].hasShip&&(document.getElementById(t[e].coordinates).style.background="#15803d"),t[e].attacked){let a=document.getElementById(t[e].coordinates);a.innerHTML="âŒ",a.style.background="#F5C2C1"}if(t[e].missed){let a=document.getElementById(t[e].coordinates);a.innerHTML="ðŸ’¦",a.style.background="lightblue"}t[e].hasShip||t[e].attacked||t[e].missed||(document.getElementById(t[e].coordinates).style.background="#172554")}}function s(e){const t=document.querySelectorAll(".enemy-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function i(){document.getElementById("main").innerHTML=""}t()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFdEYsTUFBTSxLQUNkLEdBRVpaLEVBQU1BLE1BQU0wSSxHQUFLcEksV0FDakJzRSxFQUFJUSxVQUFZLElBQ2hCUixFQUFJK0IsTUFBTUMsV0FBYSxXQUV2QjVHLEVBQU1BLE1BQU0wSSxHQUFLbkksU0FDakJxRSxFQUFJUSxVQUFZLEtBQ2hCUixFQUFJK0IsTUFBTUMsV0FBYSxZQUUvQixDQUNKLENBb0RBLFNBQVNuQixJQUNRZixTQUFTQyxlQUFlLFFBQ2hDUyxVQUFZLEVBQ3JCLENFN2JBWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGlwIENsYXNzIC8vXHJcbmNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IgKHNpemUpIHtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuaGl0ID0gMDtcclxuICAgICAgICB0aGlzLnN1bmsgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJIaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0ICs9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdCA9PT0gdGhpcy5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvb3JkaW5hdGVzIChwb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEdhbWVib2FyZCBDbGFzcyAvL1xyXG5jbGFzcyBHYW1lYm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBbXSBcclxuICAgICAgICB0aGlzLnNoaXBzID0gW11cclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQm9hcmQoc2l6ZSA9IDggKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaiArPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBgJHtpfSwke2p9YDtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlXSA9IHsgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsIGF0dGFja2VkOiBmYWxzZSwgbWlzc2VkOiBmYWxzZSwgaGFzU2hpcDogZmFsc2UsIHNoaXA6IFtdIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNWYWxpZCAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICBsZXQgYSA9IE51bWJlcihhcnJbMF0pO1xyXG4gICAgICAgIGxldCBiID0gTnVtYmVyKGFyclsxXSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhID49IDAgJiYgYSA8PSA3ICYmIGIgPj0gMCAmJiBiIDw9IDc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm9hcmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2hpcCAoc2hpcCkge1xyXG4gICAgICAgIHRoaXMuc2hpcHMucHVzaChzaGlwKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZVNoaXAgKHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgaWYgKHNpemUgIT09IGNvb3JkaW5hdGVzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBzaGlwID0gbmV3IFNoaXAoc2l6ZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNTaGlwKGNvb3JkaW5hdGVzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZXNbaV1dLnNoaXAucHVzaChjb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlc1tpXV0uaGFzU2hpcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaGlwLmFkZENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTaGlwKHNoaXApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpc01vdmVMZWdhbCAobW92ZSkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5ib2FyZFttb3ZlXS5hdHRhY2tlZCAmJiAhdGhpcy5ib2FyZFttb3ZlXS5taXNzZWQ7XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICBoYXNTaGlwIChjb29yZGluYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmRbY29vcmRpbmF0ZV0uaGFzU2hpcDtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZUVuZW15U2hpcHMgKGVuZW15Qm9hcmQpIHtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZUNhcnJpZXIgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgbGV0IGNvb3JkaW5hdGVCYXR0bGVzaGlwID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlQ3J1aXNlciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZVN1Ym1hcmluZSA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZURlc3Ryb3llciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBjYXJyaWVyID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgNSwgY29vcmRpbmF0ZUNhcnJpZXIpO1xyXG4gICAgICAgIGxldCBiYXR0bGVzaGlwID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgNCwgY29vcmRpbmF0ZUJhdHRsZXNoaXApO1xyXG4gICAgICAgIGxldCBjcnVpc2VyID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgMywgY29vcmRpbmF0ZUNydWlzZXIpO1xyXG4gICAgICAgIGxldCBzdWJtYXJpbmUgPSBlbmVteUJvYXJkLmdldEFkamFjZW50cyhlbmVteUJvYXJkLCAzLCBjb29yZGluYXRlU3VibWFyaW5lKTtcclxuICAgICAgICBsZXQgZGVzdHJveWVyID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgMiwgY29vcmRpbmF0ZURlc3Ryb3llcik7XHJcblxyXG4gICAgICAgIGxldCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBjcnVpc2VyLCBzdWJtYXJpbmUsIGRlc3Ryb3llcl07XHJcbiAgICAgICAgbGV0IHNpemVzID0gWzUsNCwzLDMsMl07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IHNoaXBzW2ldLmZpbHRlcihwb3MgPT4gcG9zLmxlbmd0aCA9PT0gc2l6ZXNbaV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFkamFjZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSB0aGlzLnBsYWNlU2hpcChzaXplc1tpXSwgYWRqYWNlbnRzWzFdIHx8IGFkamFjZW50c1swXSk7IC8vIHRyeSB0byBwbGFjZSBzaGlwIC8vIFxyXG5cclxuICAgICAgICAgICAgICAgIHdoaWxlICghcGxhY2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaGlwID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgc2l6ZXNbaV0sIG5ld0Nvb3JkaW5hdGVzKTsgLy8gZ2V0IG5ldyBhZGphY2VudHMgLy9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXhpcyA9IG5ld1NoaXAuZmlsdGVyKHBvcyA9PiBwb3MubGVuZ3RoID09PSBzaXplc1tpXSk7IC8vIGdldCBheGlzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghYXhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7IC8vIGNyZWF0ZSBuZXcgY29vcmRpbmF0ZXMgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBlbmVteUJvYXJkLmdldEFkamFjZW50cyhlbmVteUJvYXJkLCBzaXplc1tpXSwgbmV3Q29vcmRpbmF0ZXMpOyAvLyBnZXQgbmV3IGFkamFjZW50cyAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzID0gbmV3U2hpcC5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTsgLy8gZ2V0IGF4aXMgLy9cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VkID0gdGhpcy5wbGFjZVNoaXAoc2l6ZXNbaV0sIGF4aXNbMV0gfHwgYXhpc1swXSk7IC8vIHBsYWNlIHNoaXAgLy8gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghYWRqYWNlbnRzLmxlbmd0aCkgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIHNpemVzW2ldLCBuZXdDb29yZGluYXRlcyk7IC8vIGdldCBuZXcgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50cyA9IG5ld1NoaXAuZmlsdGVyKHBvcyA9PiBwb3MubGVuZ3RoID09PSBzaXplc1tpXSk7IC8vIGdldCBheGlzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VkID0gdGhpcy5wbGFjZVNoaXAoc2l6ZXNbaV0sIGFkamFjZW50c1sxXSB8fCBhZGphY2VudHNbMF0pOyAvLyBwbGFjZSBzaGlwIC8vIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIXBsYWNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3Q29vcmRpbmF0ZXMgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7IC8vIGNyZWF0ZSBuZXcgY29vcmRpbmF0ZXMgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaGlwID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgc2l6ZXNbaV0sIG5ld0Nvb3JkaW5hdGVzKTsgLy8gZ2V0IG5ldyBhZGphY2VudHMgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF4aXMgPSBuZXdTaGlwLmZpbHRlcihwb3MgPT4gcG9zLmxlbmd0aCA9PT0gc2l6ZXNbaV0pOyAvLyBnZXQgYXhpcyAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghYXhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIHNpemVzW2ldLCBuZXdDb29yZGluYXRlcyk7IC8vIGdldCBuZXcgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzID0gbmV3U2hpcC5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTsgLy8gZ2V0IGF4aXMgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0aGlzLnBsYWNlU2hpcChzaXplc1tpXSwgYXhpc1sxXSB8fCBheGlzWzBdKTsgLy8gcGxhY2Ugc2hpcCAvLyBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBjcmVhdGVDb29yZGluYXRlcyAoKSB7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzU2hpcChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaGFzU2hpcChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWRqYWNlbnRzIChib2FyZCwgc2l6ZSwgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyYXlCb2FyZCA9IGJvYXJkLmJvYXJkQXJyYXkoKTtcclxuICAgICAgICBsZXQgYWRqYWNlbnRzID0gW1tdLFtdXTtcclxuICAgICAgICBsZXQgcmlnaHQgPSAxO1xyXG4gICAgICAgIGxldCBkb3duID0gODtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAvLyBnZXQgaW5kZXggLy9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Qm9hcmQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbal0uY29vcmRpbmF0ZXMgPT09IGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbaW5kZXggKyByaWdodF0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2UgPSBhcnJheUJvYXJkW2luZGV4ICsgcmlnaHRdLmNvb3JkaW5hdGVzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlU3BsaXQgPSBwbGFjZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlICYmIHBsYWNlU3BsaXRbMF0gPT09IHNwbGl0WzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzBdLnB1c2goYXJyYXlCb2FyZFtpbmRleCArIHJpZ2h0XS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJyYXlCb2FyZFtpbmRleCArIGRvd25dKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCArIGRvd25dLmNvb3JkaW5hdGVzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlU3BsaXQgPSBwbGFjZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlICYmIHBsYWNlLmluY2x1ZGVzKHNwbGl0WzFdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS5wdXNoKGFycmF5Qm9hcmRbaW5kZXggKyBkb3duXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG93biArPSA4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhZGphY2VudHM7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzQWxsU2hpcHNQbGFjZWQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzLmxlbmd0aCA9PT0gNTtcclxuICAgIH1cclxuXHJcbiAgICByZWNlaXZlQXR0YWNrIChjb29yZGluYXRlcykge1xyXG4gICAgICAgIGxldCBzdHIgPSBgJHtjb29yZGluYXRlc31gO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ib2FyZFtzdHJdLmF0dGFja2VkIHx8IHRoaXMuYm9hcmRbc3RyXS5taXNzZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbc3RyXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5hdHRhY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwLmNvb3JkaW5hdGVzWzBdLmluY2x1ZGVzKHN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwLnJlZ2lzdGVySGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHNoaXAuc3VuayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3N0cl0ubWlzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2hpcHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzO1xyXG4gICAgfVxyXG5cclxuICAgIGFsbFN1bmsgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5zdW5rID09PSB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBib2FyZEFycmF5ICgpIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmJvYXJkO1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcclxuICAgICAgICAgICAgYXJyYXkucHVzaChvYmpba2V5XSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFBsYXllciBDbGFzcyAvL1xyXG5jbGFzcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IgKGdhbWVib2FyZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkID0gZ2FtZWJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTW92ZUxlZ2FsIChtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmdhbWVib2FyZC5ib2FyZFttb3ZlXS5hdHRhY2tlZCAmJiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0ubWlzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIG1ha2VSYW5kb21Nb3ZlICgpIHtcclxuICAgICAgICBsZXQgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTW92ZUxlZ2FsKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAoIXRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIERPTSBNYW5pcHVsYXRpb24sIFJlbmRlciB0aGUgR2FtZSAvLyBcclxuXHJcbi8vIFJlbmRlciBXcml0ZSBZb3VyIE5hbWUgLy8gXHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IEdhbWVib2FyZCwgUGxheWVyLCBTaGlwIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XHJcblxyXG5mdW5jdGlvbiB3cml0ZU5hbWUgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdXcml0ZSB5b3VyIE5hbWUnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnQmF0dGxlJztcclxuICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgcmVuZGVyUGxhY2VTaGlwcyhpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGFsZXJ0KCdQbGVhc2UgV3JpdGUgWW91ciBOYW1lJyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlclBsYWNlU2hpcHMgKG5hbWUpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBjb25zdCBheGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgY29uc3Qgc2hpcHMgPSBbJ0NhcnJpZXInLCAnQmF0dGxlc2hpcCcsICdDcnVpc2VyJywgJ1N1Ym1hcmluZScsICdEZXN0cm95ZXInXTtcclxuICAgIGxldCBzaXplcyA9IFs0LDMsMiwyLDFdO1xyXG5cclxuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1nYW1lJyk7XHJcbiAgICBteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktc2VjdGlvbicpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIG15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnbXktYm9hcmQnKTtcclxuICAgIG15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdteS1uYW1lLWJveCcpO1xyXG4gICAgbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ215LW5hbWUnKTtcclxuICAgIGF4aXMuY2xhc3NMaXN0LmFkZCgnYXhpcycpO1xyXG5cclxuICAgIGxldCBwb3MgPSAwO1xyXG5cclxuICAgIG15TmFtZS5pbm5lckhUTUwgPSBgJHtuYW1lfSwgIHBsYWNlIHlvdXIgICR7c2hpcHNbcG9zXX1gO1xyXG4gICAgbXlOYW1lLmRhdGFzZXQuc2l6ZSA9IHBvcztcclxuXHJcbiAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG5cclxuICAgIGF4aXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGF4aXMuaW5uZXJIVE1MID09PSAnQXhpcyBYJykge1xyXG4gICAgICAgICAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFknO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgbGV0IGJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5cclxuICAgIGJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcbiAgIFxyXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIoYm9hcmQpO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgaiArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdteS1kaXYtYm94Jyk7XHJcbiAgICAgICAgICBkaXYuaWQgPSBgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBpZiAoaiA9PT0gNykgZGl2LmRhdGFzZXQueE5vdEFsbG93ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgaWYgKGkgPT09IDcpIGRpdi5kYXRhc2V0LnlOb3RBbGxvd2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktbmFtZScpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRpdGxlLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBsZXQgc3BsaXQgPSBuYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGxldCBzaGlwID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0xXTtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gc2hpcHMuaW5kZXhPZihzaGlwKTtcclxuICAgICAgICAgICAgbGV0IHNpemUgPSBzaXplc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxldCBheGlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF4aXMnKTtcclxuICAgICAgICAgICAgbGV0IGF4aXNUZXh0ID0gYXhpcy50ZXh0Q29udGVudC5zcGxpdCgnICcpWzFdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IGJvYXJkLmdldEFkamFjZW50cyhib2FyZCwgc2l6ZSwgZGl2LmlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzVGV4dCA9PT0gJ1gnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWRqV2l0aFNoaXAgPSBhZGphY2VudHNbMF0uc29tZSh4ID0+IGJvYXJkLmhhc1NoaXAoeCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSB8fCBhZGpXaXRoU2hpcCAgfHwgYWRqYWNlbnRzWzBdLmxlbmd0aCA8IHNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAncmVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMF0uZm9yRWFjaChwb3NpdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNTgwM2QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJzsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07IFxyXG4gICAgICAgICAgICAgICAgfTsgICBcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWScpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhZGpXaXRoU2hpcCA9IGFkamFjZW50c1sxXS5zb21lKHggPT4gYm9hcmQuaGFzU2hpcCh4KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpIHx8IGFkaldpdGhTaGlwICB8fCBhZGphY2VudHNbMV0ubGVuZ3RoIDwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnIzE1ODAzZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTsgIFxyXG4gICAgICAgICAgICAgICAgfTsgXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LW5hbWUnKTtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0aXRsZS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgbGV0IHNwbGl0ID0gbmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcCA9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtMV07XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHNoaXBzLmluZGV4T2Yoc2hpcCk7XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gc2l6ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBsZXQgYXhpcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5heGlzJyk7XHJcbiAgICAgICAgICAgIGxldCBheGlzVGV4dCA9IGF4aXMudGV4dENvbnRlbnQuc3BsaXQoJyAnKVsxXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBib2FyZC5nZXRBZGphY2VudHMoYm9hcmQsIHNpemUsIGRpdi5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdYJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpdi5kYXRhc2V0LnhOb3RBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnIzE3MjU1NCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOyBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICcjMTU4MDNkJztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1swXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNzI1NTQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNTgwM2QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNzI1NTQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnIzE3MjU1NCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzVGV4dCA9PT0gJ1knKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGl2LmRhdGFzZXQueU5vdEFsbG93ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICcjMTcyNTU0JztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNTgwM2QnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzFdLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnIzE3MjU1NCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnIzE1ODAzZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnIzE3MjU1NCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICcjMTcyNTU0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1uYW1lJyk7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IG5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgbGV0IHNoaXAgPSBzcGxpdFtzcGxpdC5sZW5ndGggLTFdO1xyXG4gICAgICAgICAgICBsZXQgYWN0dWFsTmFtZSA9ICBzcGxpdFswXS5zcGxpdCgnLCcpWzBdO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBzaGlwcy5pbmRleE9mKHNoaXApO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHNpemVzW2luZGV4XTtcclxuICAgICAgICAgICAgbGV0IGF4aXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXhpcycpO1xyXG4gICAgICAgICAgICBsZXQgYXhpc1RleHQgPSBheGlzLnRleHRDb250ZW50LnNwbGl0KCcgJylbMV07XHJcblxyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gYm9hcmQuZ2V0QWRqYWNlbnRzKGJvYXJkLCBzaXplLCBkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWCcpIHtcclxuICAgICAgICAgICAgICAgIHNpemUgKz0gMTtcclxuICAgICAgICAgICAgICAgIGFkamFjZW50c1swXS51bnNoaWZ0KGRpdi5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGJvYXJkLnBsYWNlU2hpcChzaXplLCBhZGphY2VudHNbMF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck15Qm9hcmQoYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gc2hpcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckluaXRhbEJvYXJkcyhhY3R1YWxOYW1lLCBib2FyZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbXlOYW1lLmlubmVySFRNTCA9IGAke2FjdHVhbE5hbWV9LCAgcGxhY2UgeW91ciAke3NoaXBzW3Bvc119YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWScpIHtcclxuICAgICAgICAgICAgICAgIHNpemUgKz0gMTtcclxuICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS51bnNoaWZ0KGRpdi5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlZCA9IGJvYXJkLnBsYWNlU2hpcChzaXplLCBhZGphY2VudHNbMV0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYWNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck15Qm9hcmQoYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSAxO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA9PT0gc2hpcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckluaXRhbEJvYXJkcyhhY3R1YWxOYW1lLCBib2FyZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbXlOYW1lLmlubmVySFRNTCA9IGAke2FjdHVhbE5hbWV9LCAgcGxhY2UgeW91ciAke3NoaXBzW3Bvc119YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIG15TmFtZUJveC5hcHBlbmRDaGlsZChteU5hbWUpO1xyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKGF4aXMpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChteUJvYXJkKTtcclxuICAgIG15U2VjdGlvbi5hcHBlbmRDaGlsZChteU5hbWVCb3gpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15R2FtZVNlY3Rpb24pO1xyXG4gICAgXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKG15U2VjdGlvbik7XHJcbiAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTsgICAgXHJcbn07XHJcblxyXG5mdW5jdGlvbiByZW5kZXJJbml0YWxCb2FyZHMgKG5hbWUsIGJvYXJkKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuXHJcbiAgICBjb25zdCBteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgICAgICBcclxuICAgIGNvbnN0IGVuZW15U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlHYW1lU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBlbmVteU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG5cclxuICAgIFxyXG4gICAgbXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LXNlY3Rpb24nKTtcclxuICAgIG15R2FtZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktZ2FtZS1zZWN0aW9uJyk7XHJcbiAgICBteUJvYXJkLmNsYXNzTGlzdC5hZGQoJ215LWJvYXJkJyk7XHJcbiAgICBteU5hbWVCb3guY2xhc3NMaXN0LmFkZCgnbXktbmFtZS1ib3gnKTtcclxuICAgIG15TmFtZS5jbGFzc0xpc3QuYWRkKCdteS1uYW1lJyk7XHJcbiAgICBcclxuICAgIGVuZW15U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdlbmVteS1zZWN0aW9uJyk7XHJcbiAgICBlbmVteUdhbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2VuZW15LWdhbWUtc2VjdGlvbicpO1xyXG4gICAgZW5lbXlCb2FyZC5jbGFzc0xpc3QuYWRkKCdlbmVteS1ib2FyZCcpO1xyXG4gICAgZW5lbXlOYW1lQm94LmNsYXNzTGlzdC5hZGQoJ2VuZW15LW5hbWUtYm94Jyk7XHJcbiAgICBlbmVteU5hbWUuY2xhc3NMaXN0LmFkZCgnZW5lbXktbmFtZScpO1xyXG5cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgaiArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGNvbnN0IGRpdkVuZW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnbXktZGl2LWJveCcpO1xyXG4gICAgICAgICAgZGl2RW5lbXkuY2xhc3NMaXN0LmFkZCgnZW5lbXktZGl2LWJveCcpO1xyXG5cclxuICAgICAgICAgIGRpdi5pZCA9IGAke2Nvb3JkaW5hdGV9YDtcclxuICAgICAgICAgIGRpdkVuZW15LmlkID0gYEUgJHtjb29yZGluYXRlfWA7XHJcbiAgXHJcbiAgICAgICAgICBteUJvYXJkLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICBlbmVteUJvYXJkLmFwcGVuZENoaWxkKGRpdkVuZW15KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbXlOYW1lLmlubmVySFRNTCA9IG5hbWU7XHJcbiAgICBlbmVteU5hbWUuaW5uZXJIVE1MID0gJ0VuZW15JztcclxuXHJcbiAgICBteU5hbWVCb3guYXBwZW5kQ2hpbGQobXlOYW1lKTtcclxuICAgIG15R2FtZVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlCb2FyZCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlOYW1lQm94KTtcclxuICAgIG15U2VjdGlvbi5hcHBlbmRDaGlsZChteUdhbWVTZWN0aW9uKTtcclxuICAgIFxyXG4gICAgZW5lbXlOYW1lQm94LmFwcGVuZENoaWxkKGVuZW15TmFtZSk7XHJcbiAgICBlbmVteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15Qm9hcmQpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15TmFtZUJveCk7XHJcbiAgICBlbmVteVNlY3Rpb24uYXBwZW5kQ2hpbGQoZW5lbXlHYW1lU2VjdGlvbik7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChteVNlY3Rpb24pO1xyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChlbmVteVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1nYW1lJyk7XHJcbiAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTtcclxuICAgIGdhbWUoYm9hcmQpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyTXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGxldCBhcnIgPSBib2FyZC5ib2FyZEFycmF5KCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoYXJyW2ldLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFycltpXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyMxNTgwM2QnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyW2ldLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcnJbaV0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ+KdjCc7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGNUMyQzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJyW2ldLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyW2ldLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfwn5KmJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcnJbaV0uaGFzU2hpcCAmJiAhYXJyW2ldLmF0dGFja2VkICYmICFhcnJbaV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhcnJbaV0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjMTcyNTU0JztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyRW5lbXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGNvbnN0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IGJveC5pZDtcclxuICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBudW0gPSBzcGxpdFsxXTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uYXR0YWNrZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfinYwnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjRjVDMkMxJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+Spic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyV2luICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7IFxyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1lvdSBXaW4nO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnUGxheSBBZ2Fpbic7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgd3JpdGVOYW1lKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxvc2UgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTsgXHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ3BsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnWW91IExvc2UnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnUGxheSBBZ2Fpbic7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgd3JpdGVOYW1lKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFuICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgbWFpbi5pbm5lckhUTUwgPSAnJztcclxufTtcclxuXHJcblxyXG5leHBvcnQge3dyaXRlTmFtZSwgY2xlYW4sIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgcmVuZGVyV2luLCByZW5kZXJMb3NlfTtcclxuIiwiaW1wb3J0IHsgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcclxuaW1wb3J0IHsgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgY2xlYW4sIHJlbmRlcldpbiwgcmVuZGVyTG9zZSB9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdhbWUgKGJvYXJkKSB7XHJcbiAgICBsZXQgZW5lbXlCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcclxuICAgIGxldCBteUJvYXJkID0gYm9hcmQ7XHJcbiAgICBsZXQgcGxheWVyID0gbmV3IFBsYXllcihteUJvYXJkKTtcclxuXHJcbiAgICBlbmVteUJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcbiAgICBsZXQgZW5lbXkgPSBuZXcgUGxheWVyKGVuZW15Qm9hcmQpO1xyXG5cclxuICAgIGVuZW15Qm9hcmQucGxhY2VFbmVteVNoaXBzKGVuZW15Qm9hcmQpO1xyXG5cclxuICAgIHJlbmRlck15Qm9hcmQoYm9hcmQpO1xyXG4gICAgcmVuZGVyRW5lbXlCb2FyZChlbmVteUJvYXJkKTtcclxuXHJcbiAgICBjb25zdCBlbmVteUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuICAgIGxldCBlQm94ZXMgPSBbLi4uZW5lbXlCb3hlc107XHJcblxyXG4gICAgZUJveGVzLmZvckVhY2goZUJveCA9PiB7XHJcbiAgICAgICAgZUJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlQ29vcmRpbmF0ZXMgPSBlLnRhcmdldC5pZDtcclxuICAgICAgICAgICAgbGV0IGVTcGxpdCA9IGVDb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgZU51bSA9IGVTcGxpdFsxXTsgXHJcblxyXG4gICAgICAgICAgICBsZXQgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGVuZW15QXR0YWNrID0gbXlCb2FyZC5yZWNlaXZlQXR0YWNrKGVuZW15TW92ZSk7XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2sgPSBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2soZU51bSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXR0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJFbmVteUJvYXJkKGVuZW15LmdhbWVib2FyZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghZW5lbXlBdHRhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2sgPSBteUJvYXJkLnJlY2VpdmVBdHRhY2soZW5lbXlNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTXlCb2FyZChwbGF5ZXIuZ2FtZWJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7IFxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IG15U3VuayA9IG15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZW15U3VuayA9IGVuZW15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAobXlTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15U3Vuaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyV2luKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7Z2FtZX07IiwiaW1wb3J0IHsgd3JpdGVOYW1lIH0gZnJvbSBcIi4vcmVuZGVyXCI7XHJcblxyXG53cml0ZU5hbWUoKTsiXSwibmFtZXMiOlsiU2hpcCIsImNvbnN0cnVjdG9yIiwic2l6ZSIsInRoaXMiLCJoaXQiLCJzdW5rIiwiY29vcmRpbmF0ZXMiLCJyZWdpc3RlckhpdCIsImlzU3VuayIsImFkZENvb3JkaW5hdGVzIiwicG9zaXRpb24iLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyIsIkdhbWVib2FyZCIsImJvYXJkIiwic2hpcHMiLCJjcmVhdGVCb2FyZCIsImkiLCJqIiwiY29vcmRpbmF0ZSIsImF0dGFja2VkIiwibWlzc2VkIiwiaGFzU2hpcCIsInNoaXAiLCJpc1ZhbGlkIiwiYXJyIiwic3BsaXQiLCJhIiwiTnVtYmVyIiwiYiIsImdldEJvYXJkIiwiYWRkU2hpcCIsInBsYWNlU2hpcCIsImxlbmd0aCIsImlzTW92ZUxlZ2FsIiwibW92ZSIsInBsYWNlRW5lbXlTaGlwcyIsImVuZW15Qm9hcmQiLCJjb29yZGluYXRlQ2FycmllciIsImNyZWF0ZUNvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZUJhdHRsZXNoaXAiLCJjb29yZGluYXRlQ3J1aXNlciIsImNvb3JkaW5hdGVTdWJtYXJpbmUiLCJjb29yZGluYXRlRGVzdHJveWVyIiwiZ2V0QWRqYWNlbnRzIiwic2l6ZXMiLCJhZGphY2VudHMiLCJmaWx0ZXIiLCJwb3MiLCJwbGFjZWQiLCJuZXdDb29yZGluYXRlcyIsIm5ld1NoaXAiLCJheGlzIiwibnVtMSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm51bTIiLCJyZXN1bHQiLCJhcnJheUJvYXJkIiwiYm9hcmRBcnJheSIsInJpZ2h0IiwiZG93biIsImluZGV4IiwicGxhY2UiLCJwbGFjZVNwbGl0IiwiaW5jbHVkZXMiLCJoYXNBbGxTaGlwc1BsYWNlZCIsInJlY2VpdmVBdHRhY2siLCJzdHIiLCJmb3JFYWNoIiwiZ2V0U2hpcHMiLCJhbGxTdW5rIiwiZXZlcnkiLCJvYmoiLCJhcnJheSIsImtleSIsIlBsYXllciIsImdhbWVib2FyZCIsIm1ha2VSYW5kb21Nb3ZlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIndyaXRlTmFtZSIsIm1haW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYm94IiwiY3JlYXRlRWxlbWVudCIsInRpdGxlIiwiaW5wdXQiLCJwbGF5IiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJ0eXBlIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwidmFsdWUiLCJjbGVhbiIsIm5hbWUiLCJteVNlY3Rpb24iLCJteUdhbWVTZWN0aW9uIiwibXlCb2FyZCIsIm15TmFtZUJveCIsIm15TmFtZSIsImRhdGFzZXQiLCJkaXYiLCJpZCIsInhOb3RBbGxvd2VkIiwieU5vdEFsbG93ZWQiLCJxdWVyeVNlbGVjdG9yIiwiaW5kZXhPZiIsImF4aXNUZXh0IiwiYWRqV2l0aFNoaXAiLCJzb21lIiwieCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImN1cnNvciIsImFjdHVhbE5hbWUiLCJ1bnNoaWZ0IiwicmVuZGVyTXlCb2FyZCIsInJlbmRlckluaXRhbEJvYXJkcyIsInJlbmRlclBsYWNlU2hpcHMiLCJhbGVydCIsImVuZW15U2VjdGlvbiIsImVuZW15R2FtZVNlY3Rpb24iLCJlbmVteU5hbWVCb3giLCJlbmVteU5hbWUiLCJkaXZFbmVteSIsInBsYXllciIsImVuZW15IiwicmVuZGVyRW5lbXlCb2FyZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlQm94IiwiZSIsImVOdW0iLCJ0YXJnZXQiLCJlbmVteU1vdmUiLCJlbmVteUF0dGFjayIsInNldFRpbWVvdXQiLCJteVN1bmsiLCJlbmVteVN1bmsiLCJyZW5kZXJMb3NlIiwicmVuZGVyV2luIiwiZ2FtZSIsImJveGVzIiwibnVtIl0sInNvdXJjZVJvb3QiOiIifQ==