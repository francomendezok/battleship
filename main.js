(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}e.exports={Ship:t,Gameboard:class{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let n=0;n<e;n+=1){const e=`${t},${n}`;this.board[e]={coordinates:e,attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),n=Number(t[0]),a=Number(t[1]);return n>=0&&n<=7&&a>=0&&a<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,n){if(e!==n.length)return!1;const a=new t(e);for(let e=0;e<n.length;e++){if(this.hasShip(n[e]))return!1;this.board[n[e]].ship.push(n),this.board[n[e]].hasShip=!0}return a.addCoordinates(n),this.addShip(a),!0}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}hasShip(e){return this.board[e].hasShip}placeEnemyShips(e){let t=this.createCoordinates(),n=this.createCoordinates(),a=this.createCoordinates(),d=this.createCoordinates(),s=this.createCoordinates(),o=[e.getAdjacents(e,5,t),e.getAdjacents(e,4,n),e.getAdjacents(e,3,a),e.getAdjacents(e,3,d),e.getAdjacents(e,2,s)],i=[5,4,3,3,2];for(let t=0;t<o.length;t++){let n=o[t].filter((e=>e.length===i[t]));if(n.length){let a=this.placeShip(i[t],n[1]||n[0]);for(;!a;){let n=this.createCoordinates(),d=e.getAdjacents(e,i[t],n),s=d.filter((e=>e.length===i[t]));for(;!s.length;)n=this.createCoordinates(),d=e.getAdjacents(e,i[t],n),s=d.filter((e=>e.length===i[t]));a=this.placeShip(i[t],s[1]||s[0])}}else{for(;!n.length;){let a=this.createCoordinates();n=e.getAdjacents(e,i[t],a).filter((e=>e.length===i[t]))}let a=this.placeShip(i[t],n[1]||n[0]);for(;!a;){let n=this.createCoordinates(),d=e.getAdjacents(e,i[t],n),s=d.filter((e=>e.length===i[t]));for(;!s.length;)n=this.createCoordinates(),d=e.getAdjacents(e,i[t],n),s=d.filter((e=>e.length===i[t]));a=this.placeShip(i[t],s[1]||s[0])}}}}createCoordinates(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=`${e},${t}`;if(this.hasShip(n)){for(;this.hasShip(n);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=`${e},${t}`;return n}return n}getAdjacents(e,t,n){let a=e.boardArray(),d=[[],[]],s=1,o=8,i=0;for(let e=0;e<a.length;e++)if(a[e].coordinates===n){i=e;break}for(let e=0;e<t;e++){if(a[i+s]){let e=n.split(","),t=a[i+s].coordinates,o=t.split(",");t&&o[0]===e[0]&&(d[0].push(a[i+s].coordinates),s++)}if(a[i+o]){let e=n.split(","),t=a[i+o].coordinates;t.split(","),t&&t.includes(e[1])&&(d[1].push(a[i+o].coordinates),o+=8)}}return d}hasAllShipsPlaced(){return 5===this.ships.length}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}boardArray(){const e=this.board,t=[];for(let n in e)t.push(e[n]);return t}},Player:class{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=`${e},${t}`;if(this.isMoveLegal(n))return n;for(;!this.isMoveLegal(n);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=`${e},${t}`;return n}}}}},t={};function n(a){var d=t[a];if(void 0!==d)return d.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}(()=>{"use strict";var e=n(776);function t(){const t=document.getElementById("main"),n=document.createElement("div"),s=document.createElement("h3"),i=document.createElement("input"),l=document.createElement("button");n.classList.add("pop-up-box"),s.classList.add("title-pop-up"),i.classList.add("input-pop-up"),l.classList.add("play-button"),s.textContent="Write your Name",l.innerHTML="Battle",i.type="text",l.type="submit",n.appendChild(s),n.appendChild(i),n.appendChild(l),t.appendChild(n),l.addEventListener("click",(()=>{i.value?(o(),function(t){const n=document.getElementById("main"),s=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("h3"),h=document.createElement("button"),u=["Carrier","Battleship","Cruiser","Submarine","Destroyer"];let m=[4,3,2,2,1];n.classList.add("main-game"),s.classList.add("my-section"),i.classList.add("my-game-section"),l.classList.add("my-board"),r.classList.add("my-name-box"),c.classList.add("my-name"),h.classList.add("axis");let p=0;c.innerHTML=`${t},  place your  ${u[p]}`,c.dataset.size=p,h.innerHTML="Axis X",h.addEventListener("click",(()=>{"Axis X"===h.innerHTML?h.innerHTML="Axis Y":h.innerHTML="Axis X"}));let g=new e.Gameboard;g.createBoard(),new e.Player(g);for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const n=`${e},${t}`,s=document.createElement("div");s.classList.add("my-div-box"),s.id=`${n}`,7===t&&(s.dataset.xNotAllowed=!0),7===e&&(s.dataset.yNotAllowed=!0),s.addEventListener("mouseover",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],n=u.indexOf(t),a=m[n],d=document.querySelector(".axis").textContent.split(" ")[1],o=g.getAdjacents(g,a,s.id);if("X"===d){let e=o[0].some((e=>g.hasShip(e)));g.hasShip(s.id)||e||o[0].length<a?(g.hasShip(s.id)||(s.style.background="red"),s.style.cursor="not-allowed"):o[0].forEach((e=>{g.hasShip(e)?(s.style.cursor="not-allowed",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="black",s.style.background="black",s.style.cursor="crosshair")}))}if("Y"===d){let e=o[1].some((e=>g.hasShip(e)));g.hasShip(s.id)||e||o[1].length<a?(g.hasShip(s.id)||(s.style.background="red"),s.style.cursor="not-allowed"):o[1].forEach((e=>{g.hasShip(e)?(s.style.cursor="not-allowed",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="black",s.style.background="black",s.style.cursor="crosshair")}))}})),s.addEventListener("mouseleave",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],n=u.indexOf(t),a=m[n],d=document.querySelector(".axis").textContent.split(" ")[1],o=g.getAdjacents(g,a,s.id);"X"===d&&(s.dataset.xNotAllowed&&(s.style.background="lightgoldenrodyellow",s.style.cursor="crosshair"),g.hasShip(s.id)?(s.style.background="green",s.style.cursor="not-allowed"):o[0].forEach((e=>{g.hasShip(e)?(s.style.cursor="not-allowed",s.style.background="lightgoldenrodyellow",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="lightgoldenrodyellow",s.style.background="lightgoldenrodyellow")}))),"Y"===d&&(s.dataset.yNotAllowed&&(s.style.background="lightgoldenrodyellow",s.style.cursor="crosshair"),g.hasShip(s.id)?(s.style.background="green",s.style.cursor="not-allowed"):o[1].forEach((e=>{g.hasShip(e)?(s.style.cursor="not-allowed",s.style.background="lightgoldenrodyellow",document.getElementById(e).style.background="green"):(document.getElementById(e).style.background="lightgoldenrodyellow",s.style.background="lightgoldenrodyellow")})))})),s.addEventListener("click",(()=>{let e=document.querySelector(".my-name").textContent.split(" "),t=e[e.length-1],n=e[0].split(",")[0],i=u.indexOf(t),l=m[i],r=document.querySelector(".axis").textContent.split(" ")[1],h=g.getAdjacents(g,l,s.id);"X"===r&&(l+=1,h[0].unshift(s.id),g.placeShip(l,h[0])&&(d(g),p+=1,p===u.length&&(o(),a(n,g)),c.innerHTML=`${n},  place your ${u[p]}`)),"Y"===r&&(l+=1,h[1].unshift(s.id),g.placeShip(l,h[1])&&(d(g),p+=1,p===u.length&&(o(),a(n,g)),c.innerHTML=`${n},  place your ${u[p]}`))})),l.appendChild(s)}r.appendChild(c),r.appendChild(h),i.appendChild(l),s.appendChild(r),s.appendChild(i),n.appendChild(s),d(g)}(i.value)):alert("Please Write Your Name")}))}function a(n,a){const i=document.getElementById("main"),l=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),h=document.createElement("div"),u=document.createElement("h3"),m=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),y=document.createElement("div"),b=document.createElement("h3");l.classList.add("my-section"),r.classList.add("my-game-section"),c.classList.add("my-board"),h.classList.add("my-name-box"),u.classList.add("my-name"),m.classList.add("enemy-section"),p.classList.add("enemy-game-section"),g.classList.add("enemy-board"),y.classList.add("enemy-name-box"),b.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const n=`${e},${t}`,a=document.createElement("div"),d=document.createElement("div");a.classList.add("my-div-box"),d.classList.add("enemy-div-box"),a.id=`${n}`,d.id=`E ${n}`,c.appendChild(a),g.appendChild(d)}u.innerHTML=n,b.innerHTML="Enemy",h.appendChild(u),r.appendChild(c),l.appendChild(h),l.appendChild(r),y.appendChild(b),p.appendChild(g),m.appendChild(y),m.appendChild(p),i.appendChild(l),i.appendChild(m),i.classList.add("main-game"),d(a),function(n){let a=new e.Gameboard,i=n,l=new e.Player(i);a.createBoard();let r=new e.Player(a);a.placeEnemyShips(a),d(n),s(a),[...document.querySelectorAll(".enemy-div-box")].forEach((e=>{e.addEventListener("click",(e=>{let n=e.target.id.split(" ")[1],c=r.makeRandomMove(),h=i.receiveAttack(c);if(a.receiveAttack(n)){s(r.gameboard),setTimeout((function(){for(;!h;)c=r.makeRandomMove(),h=i.receiveAttack(c);d(l.gameboard)}),1e3);let e=i.allSunk(),n=a.allSunk();e&&(o(),function(){const e=document.getElementById("main"),n=document.createElement("div"),a=document.createElement("h3"),d=document.createElement("button");n.classList.add("pop-up-box"),a.classList.add("title-pop-up"),d.classList.add("play-button"),a.textContent="You Lose",d.innerHTML="Play Again",d.type="submit",n.appendChild(a),n.appendChild(d),e.appendChild(n),d.addEventListener("click",(()=>{o(),t()}))}()),n&&(o(),function(){const e=document.getElementById("main"),n=document.createElement("div"),a=document.createElement("h3"),d=document.createElement("button");n.classList.add("pop-up-box"),a.classList.add("title-pop-up"),d.classList.add("play-button"),a.textContent="You Win",d.innerHTML="Play Again",d.type="submit",n.appendChild(a),n.appendChild(d),e.appendChild(n),d.addEventListener("click",(()=>{o(),t()}))}())}}))}))}(a)}function d(e){let t=e.boardArray();for(let e=0;e<t.length;e++){if(t[e].hasShip&&(document.getElementById(t[e].coordinates).style.background="green"),t[e].attacked){let n=document.getElementById(t[e].coordinates);n.innerHTML="âŒ",n.style.background="#F5C2C1"}if(t[e].missed){let n=document.getElementById(t[e].coordinates);n.innerHTML="ðŸ’¦",n.style.background="lightblue"}t[e].hasShip||t[e].attacked||t[e].missed||(document.getElementById(t[e].coordinates).style.background="lightgoldenrodyellow")}}function s(e){const t=document.querySelectorAll(".enemy-div-box");for(const n of t){let t=n.id.split(" ")[1];e.board[t].attacked&&(n.innerHTML="âŒ",n.style.background="#F5C2C1"),e.board[t].missed&&(n.innerHTML="ðŸ’¦",n.style.background="lightblue")}}function o(){document.getElementById("main").innerHTML=""}t()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlzQixHQUNFdEYsTUFBTSxLQUNkLEdBRVpaLEVBQU1BLE1BQU0wSSxHQUFLcEksV0FDakJzRSxFQUFJUSxVQUFZLElBQ2hCUixFQUFJK0IsTUFBTUMsV0FBYSxXQUV2QjVHLEVBQU1BLE1BQU0wSSxHQUFLbkksU0FDakJxRSxFQUFJUSxVQUFZLEtBQ2hCUixFQUFJK0IsTUFBTUMsV0FBYSxZQU0vQixDQUNKLENBd0RBLFNBQVNuQixJQUNRZixTQUFTQyxlQUFlLFFBQ2hDUyxVQUFZLEVBQ3JCLENFOWNBWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3JlbmRlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTaGlwIENsYXNzIC8vXHJcbmNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IgKHNpemUpIHtcclxuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xyXG4gICAgICAgIHRoaXMuaGl0ID0gMDtcclxuICAgICAgICB0aGlzLnN1bmsgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJIaXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0ICs9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdCA9PT0gdGhpcy5zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvb3JkaW5hdGVzIChwb3NpdGlvbikge1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEdhbWVib2FyZCBDbGFzcyAvL1xyXG5jbGFzcyBHYW1lYm9hcmQge1xyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBbXSBcclxuICAgICAgICB0aGlzLnNoaXBzID0gW11cclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQm9hcmQoc2l6ZSA9IDggKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2l6ZTsgaiArPSAxKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBgJHtpfSwke2p9YDtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlXSA9IHsgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGUsIGF0dGFja2VkOiBmYWxzZSwgbWlzc2VkOiBmYWxzZSwgaGFzU2hpcDogZmFsc2UsIHNoaXA6IFtdIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNWYWxpZCAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICBsZXQgYSA9IE51bWJlcihhcnJbMF0pO1xyXG4gICAgICAgIGxldCBiID0gTnVtYmVyKGFyclsxXSk7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gYSA+PSAwICYmIGEgPD0gNyAmJiBiID49IDAgJiYgYiA8PSA3O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXRCb2FyZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWRkU2hpcCAoc2hpcCkge1xyXG4gICAgICAgIHRoaXMuc2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGxhY2VTaGlwIChzaXplLCBjb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChzaXplICE9PSBjb29yZGluYXRlcy5sZW5ndGgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2hpcCA9IG5ldyBTaGlwKHNpemUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzU2hpcChjb29yZGluYXRlc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVzW2ldXS5zaGlwLnB1c2goY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZXNbaV1dLmhhc1NoaXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2hpcC5hZGRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2hpcChzaGlwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlzTW92ZUxlZ2FsIChtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmJvYXJkW21vdmVdLmF0dGFja2VkICYmICF0aGlzLmJvYXJkW21vdmVdLm1pc3NlZDtcclxuICAgIH1cclxuICAgICAgICBcclxuICAgIGhhc1NoaXAgKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmRbY29vcmRpbmF0ZV0uaGFzU2hpcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICBwbGFjZUVuZW15U2hpcHMgKGVuZW15Qm9hcmQpIHtcclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVDYXJyaWVyID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZUJhdHRsZXNoaXAgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlQ3J1aXNlciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVTdWJtYXJpbmUgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlRGVzdHJveWVyID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBjYXJyaWVyID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgNSwgY29vcmRpbmF0ZUNhcnJpZXIpO1xyXG4gICAgICAgICAgICBsZXQgYmF0dGxlc2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIDQsIGNvb3JkaW5hdGVCYXR0bGVzaGlwKTtcclxuICAgICAgICAgICAgbGV0IGNydWlzZXIgPSBlbmVteUJvYXJkLmdldEFkamFjZW50cyhlbmVteUJvYXJkLCAzLCBjb29yZGluYXRlQ3J1aXNlcik7XHJcbiAgICAgICAgICAgIGxldCBzdWJtYXJpbmUgPSBlbmVteUJvYXJkLmdldEFkamFjZW50cyhlbmVteUJvYXJkLCAzLCBjb29yZGluYXRlU3VibWFyaW5lKTtcclxuICAgICAgICAgICAgbGV0IGRlc3Ryb3llciA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIDIsIGNvb3JkaW5hdGVEZXN0cm95ZXIpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGNydWlzZXIsIHN1Ym1hcmluZSwgZGVzdHJveWVyXTtcclxuICAgICAgICAgICAgbGV0IHNpemVzID0gWzUsNCwzLDMsMl07XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gc2hpcHNbaV0uZmlsdGVyKHBvcyA9PiBwb3MubGVuZ3RoID09PSBzaXplc1tpXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFkamFjZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxhY2VkID0gdGhpcy5wbGFjZVNoaXAoc2l6ZXNbaV0sIGFkamFjZW50c1sxXSB8fCBhZGphY2VudHNbMF0pOyAvLyB0cnkgdG8gcGxhY2Ugc2hpcCAvLyBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCFwbGFjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3U2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIHNpemVzW2ldLCBuZXdDb29yZGluYXRlcyk7IC8vIGdldCBuZXcgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBheGlzID0gbmV3U2hpcC5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTsgLy8gZ2V0IGF4aXMgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghYXhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIHNpemVzW2ldLCBuZXdDb29yZGluYXRlcyk7IC8vIGdldCBuZXcgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzID0gbmV3U2hpcC5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTsgLy8gZ2V0IGF4aXMgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0aGlzLnBsYWNlU2hpcChzaXplc1tpXSwgYXhpc1sxXSB8fCBheGlzWzBdKTsgLy8gcGxhY2Ugc2hpcCAvLyBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghYWRqYWNlbnRzLmxlbmd0aCkgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdDb29yZGluYXRlcyA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTsgLy8gY3JlYXRlIG5ldyBjb29yZGluYXRlcyAvLyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaGlwID0gZW5lbXlCb2FyZC5nZXRBZGphY2VudHMoZW5lbXlCb2FyZCwgc2l6ZXNbaV0sIG5ld0Nvb3JkaW5hdGVzKTsgLy8gZ2V0IG5ldyBhZGphY2VudHMgLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50cyA9IG5ld1NoaXAuZmlsdGVyKHBvcyA9PiBwb3MubGVuZ3RoID09PSBzaXplc1tpXSk7IC8vIGdldCBheGlzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSB0aGlzLnBsYWNlU2hpcChzaXplc1tpXSwgYWRqYWNlbnRzWzFdIHx8IGFkamFjZW50c1swXSk7IC8vIHBsYWNlIHNoaXAgLy8gXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIXBsYWNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0Nvb3JkaW5hdGVzID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpOyAvLyBjcmVhdGUgbmV3IGNvb3JkaW5hdGVzIC8vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1NoaXAgPSBlbmVteUJvYXJkLmdldEFkamFjZW50cyhlbmVteUJvYXJkLCBzaXplc1tpXSwgbmV3Q29vcmRpbmF0ZXMpOyAvLyBnZXQgbmV3IGFkamFjZW50cyAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGF4aXMgPSBuZXdTaGlwLmZpbHRlcihwb3MgPT4gcG9zLmxlbmd0aCA9PT0gc2l6ZXNbaV0pOyAvLyBnZXQgYXhpcyAvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWF4aXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXMgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7IC8vIGNyZWF0ZSBuZXcgY29vcmRpbmF0ZXMgLy8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hpcCA9IGVuZW15Qm9hcmQuZ2V0QWRqYWNlbnRzKGVuZW15Qm9hcmQsIHNpemVzW2ldLCBuZXdDb29yZGluYXRlcyk7IC8vIGdldCBuZXcgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpcyA9IG5ld1NoaXAuZmlsdGVyKHBvcyA9PiBwb3MubGVuZ3RoID09PSBzaXplc1tpXSk7IC8vIGdldCBheGlzIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWQgPSB0aGlzLnBsYWNlU2hpcChzaXplc1tpXSwgYXhpc1sxXSB8fCBheGlzWzBdKTsgLy8gcGxhY2Ugc2hpcCAvLyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3JlYXRlQ29vcmRpbmF0ZXMgKCkge1xyXG4gICAgICAgIGxldCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc1NoaXAocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmhhc1NoaXAocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICAgZ2V0QWRqYWNlbnRzIChib2FyZCwgc2l6ZSwgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyYXlCb2FyZCA9IGJvYXJkLmJvYXJkQXJyYXkoKTtcclxuICAgICAgICBsZXQgYWRqYWNlbnRzID0gW1tdLFtdXTtcclxuICAgICAgICAvLyBsZXQgdXAgPSA4O1xyXG4gICAgICAgIGxldCByaWdodCA9IDE7XHJcbiAgICAgICAgbGV0IGRvd24gPSA4O1xyXG4gICAgICAgIC8vIGxldCBsZWZ0ID0gMTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgICAgICAvLyBnZXQgaW5kZXggLy9cclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFycmF5Qm9hcmQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbal0uY29vcmRpbmF0ZXMgPT09IGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gMiBhZGphY2VudHMgLy8gXHJcbiAgICAgICAgICAgIC8vIGlmIChhcnJheUJvYXJkW2luZGV4IC0gdXBdKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCAtIHVwXS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgLy8gICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgLy8gICAgIGlmIChwbGFjZSAmJiBwbGFjZS5pbmNsdWRlcyhzcGxpdFsxXSkpIHtcclxuICAgICAgICAgICAgLy8gICAgICAgICBhZGphY2VudHNbMF0ucHVzaChhcnJheUJvYXJkW2luZGV4IC0gdXBdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICB1cCArPSA4O1xyXG4gICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2luZGV4ICsgcmlnaHRdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCArIHJpZ2h0XS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZVNwbGl0WzBdID09PSBzcGxpdFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1swXS5wdXNoKGFycmF5Qm9hcmRbaW5kZXggKyByaWdodF0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbaW5kZXggKyBkb3duXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggKyBkb3duXS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZS5pbmNsdWRlcyhzcGxpdFsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMV0ucHVzaChhcnJheUJvYXJkW2luZGV4ICsgZG93bl0uY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvd24gKz0gODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZiAoYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHBsYWNlID0gYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdLmNvb3JkaW5hdGVzO1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IHBsYWNlU3BsaXQgPSBwbGFjZS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAvLyAgICAgaWYgKHBsYWNlICYmIHBsYWNlU3BsaXRbMF0gPT09IHNwbGl0WzBdKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgYWRqYWNlbnRzWzNdLnB1c2goYXJyYXlCb2FyZFtpbmRleCAtIGxlZnRdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICBsZWZ0Kys7XHJcbiAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFkamFjZW50cztcclxuICAgIH1cclxuXHJcbiAgICBoYXNBbGxTaGlwc1BsYWNlZCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpcHMubGVuZ3RoID09PSA1O1xyXG4gICAgfVxyXG5cclxuICAgICAgcmVjZWl2ZUF0dGFjayAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgc3RyID0gYCR7Y29vcmRpbmF0ZXN9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbc3RyXS5hdHRhY2tlZCB8fCB0aGlzLmJvYXJkW3N0cl0ubWlzc2VkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3N0cl0uaGFzU2hpcCkge1xyXG4gICAgICAgICAgICB0aGlzLmJvYXJkW3N0cl0uYXR0YWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hpcC5jb29yZGluYXRlc1swXS5pbmNsdWRlcyhzdHIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hpcC5yZWdpc3RlckhpdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSBzaGlwLnN1bmsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtzdHJdLm1pc3NlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXRTaGlwcyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpcHM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFsbFN1bmsgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5zdW5rID09PSB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYm9hcmRBcnJheSAoKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5ib2FyZDtcclxuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgIGFycmF5LnB1c2gob2JqW2tleV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgICB9XHJcbn1cclxuXHJcbi8vIFBsYXllciBDbGFzcyAvL1xyXG5jbGFzcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3IgKGdhbWVib2FyZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkID0gZ2FtZWJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTW92ZUxlZ2FsIChtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmdhbWVib2FyZC5ib2FyZFttb3ZlXS5hdHRhY2tlZCAmJiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0ubWlzc2VkO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtYWtlUmFuZG9tTW92ZSAoKSB7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLmlzTW92ZUxlZ2FsKHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIGxldCBlbmVteSA9IG5ldyBHYW1lYm9hcmQoKTtcclxuXHJcbi8vIGVuZW15LmNyZWF0ZUJvYXJkKCk7XHJcblxyXG4vLyBlbmVteS5wbGFjZUVuZW15U2hpcHMoZW5lbXkpO1xyXG5cclxuLy8gY29uc29sZS5sb2coZW5lbXkuYm9hcmQpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIERPTSBNYW5pcHVsYXRpb24sIFJlbmRlciB0aGUgR2FtZSAvLyBcclxuXHJcbi8vIFJlbmRlciBXcml0ZSBZb3VyIE5hbWUgLy8gXHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcbmltcG9ydCB7IEdhbWVib2FyZCwgUGxheWVyLCBTaGlwIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XHJcblxyXG5mdW5jdGlvbiB3cml0ZU5hbWUgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdXcml0ZSB5b3VyIE5hbWUnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnQmF0dGxlJztcclxuICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgcmVuZGVyUGxhY2VTaGlwcyhpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGFsZXJ0KCdQbGVhc2UgV3JpdGUgWW91ciBOYW1lJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclBsYWNlU2hpcHMgKG5hbWUpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBjb25zdCBheGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgY29uc3Qgc2hpcHMgPSBbJ0NhcnJpZXInLCAnQmF0dGxlc2hpcCcsICdDcnVpc2VyJywgJ1N1Ym1hcmluZScsICdEZXN0cm95ZXInXTtcclxuICAgIGxldCBzaXplcyA9IFs0LDMsMiwyLDFdO1xyXG5cclxuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbi1nYW1lJyk7XHJcbiAgICBteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktc2VjdGlvbicpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIG15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnbXktYm9hcmQnKTtcclxuICAgIG15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdteS1uYW1lLWJveCcpO1xyXG4gICAgbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ215LW5hbWUnKTtcclxuICAgIGF4aXMuY2xhc3NMaXN0LmFkZCgnYXhpcycpO1xyXG5cclxuICAgIGxldCBwb3MgPSAwO1xyXG5cclxuICAgIG15TmFtZS5pbm5lckhUTUwgPSBgJHtuYW1lfSwgIHBsYWNlIHlvdXIgICR7c2hpcHNbcG9zXX1gO1xyXG4gICAgbXlOYW1lLmRhdGFzZXQuc2l6ZSA9IHBvcztcclxuXHJcbiAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG5cclxuICAgIGF4aXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGF4aXMuaW5uZXJIVE1MID09PSAnQXhpcyBYJykge1xyXG4gICAgICAgICAgICBheGlzLmlubmVySFRNTCA9ICdBeGlzIFknO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBheGlzLmlubmVySFRNTCA9ICdBeGlzIFgnO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgbGV0IGJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5cclxuICAgIGJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcbiAgIFxyXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIoYm9hcmQpO1xyXG4gICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgaiArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdteS1kaXYtYm94Jyk7XHJcbiAgICAgICAgICBkaXYuaWQgPSBgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBpZiAoaiA9PT0gNykge1xyXG4gICAgICAgICAgICBkaXYuZGF0YXNldC54Tm90QWxsb3dlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaSA9PT0gNykge1xyXG4gICAgICAgICAgICBkaXYuZGF0YXNldC55Tm90QWxsb3dlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LW5hbWUnKTtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0aXRsZS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgbGV0IHNwbGl0ID0gbmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgc2hpcCA9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtMV07XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHNoaXBzLmluZGV4T2Yoc2hpcCk7XHJcbiAgICAgICAgICAgIGxldCBzaXplID0gc2l6ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBsZXQgYXhpcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5heGlzJyk7XHJcbiAgICAgICAgICAgIGxldCBheGlzVGV4dCA9IGF4aXMudGV4dENvbnRlbnQuc3BsaXQoJyAnKVsxXTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBib2FyZC5nZXRBZGphY2VudHMoYm9hcmQsIHNpemUsIGRpdi5pZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdYJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFkaldpdGhTaGlwID0gYWRqYWNlbnRzWzBdLnNvbWUoeCA9PiBib2FyZC5oYXNTaGlwKHgpKTtcclxuICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkgfHwgYWRqV2l0aFNoaXAgIHx8IGFkamFjZW50c1swXS5sZW5ndGggPCBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzBdLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdncmVlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdjcm9zc2hhaXInOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTsgXHJcbiAgICAgICAgICAgICAgICB9OyAgIFxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWScpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhZGpXaXRoU2hpcCA9IGFkamFjZW50c1sxXS5zb21lKHggPT4gYm9hcmQuaGFzU2hpcCh4KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpIHx8IGFkaldpdGhTaGlwICB8fCBhZGphY2VudHNbMV0ubGVuZ3RoIDwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKGRpdi5pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmN1cnNvciA9ICdub3QtYWxsb3dlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1sxXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2FyZC5oYXNTaGlwKHBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJzsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH07ICBcclxuICAgICAgICAgICAgICAgIH07IFxyXG5cclxuXHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1uYW1lJyk7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gdGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IG5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgbGV0IHNoaXAgPSBzcGxpdFtzcGxpdC5sZW5ndGggLTFdO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBzaGlwcy5pbmRleE9mKHNoaXApO1xyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHNpemVzW2luZGV4XTtcclxuICAgICAgICAgICAgbGV0IGF4aXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXhpcycpO1xyXG4gICAgICAgICAgICBsZXQgYXhpc1RleHQgPSBheGlzLnRleHRDb250ZW50LnNwbGl0KCcgJylbMV07XHJcblxyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gYm9hcmQuZ2V0QWRqYWNlbnRzKGJvYXJkLCBzaXplLCBkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNUZXh0ID09PSAnWCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXYuZGF0YXNldC54Tm90QWxsb3dlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ2Nyb3NzaGFpcic7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAoZGl2LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1swXS5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkLmhhc1NoaXAocG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Z29sZGVucm9keWVsbG93JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdncmVlbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdWJpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWJpLnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc1RleHQgPT09ICdZJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpdi5kYXRhc2V0LnlOb3RBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJzsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChkaXYuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzFdLmZvckVhY2gocG9zaXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmQuaGFzU2hpcChwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHViaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHViaS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1YmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Ymkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktbmFtZScpO1xyXG4gICAgICAgICAgICBsZXQgbmFtZSA9IHRpdGxlLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBsZXQgc3BsaXQgPSBuYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGxldCBzaGlwID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0xXTtcclxuICAgICAgICAgICAgbGV0IGFjdHVhbE5hbWUgPSAgc3BsaXRbMF0uc3BsaXQoJywnKVswXTtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gc2hpcHMuaW5kZXhPZihzaGlwKTtcclxuICAgICAgICAgICAgbGV0IHNpemUgPSBzaXplc1tpbmRleF07XHJcbiAgICAgICAgICAgIGxldCBheGlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF4aXMnKTtcclxuICAgICAgICAgICAgbGV0IGF4aXNUZXh0ID0gYXhpcy50ZXh0Q29udGVudC5zcGxpdCgnICcpWzFdO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IGJvYXJkLmdldEFkamFjZW50cyhib2FyZCwgc2l6ZSwgZGl2LmlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzVGV4dCA9PT0gJ1gnKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplICs9IDE7XHJcbiAgICAgICAgICAgICAgICBhZGphY2VudHNbMF0udW5zaGlmdChkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSBib2FyZC5wbGFjZVNoaXAoc2l6ZSwgYWRqYWNlbnRzWzBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gMTtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPT09IHNoaXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJbml0YWxCb2FyZHMoYWN0dWFsTmFtZSwgYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG15TmFtZS5pbm5lckhUTUwgPSBgJHthY3R1YWxOYW1lfSwgIHBsYWNlIHlvdXIgJHtzaGlwc1twb3NdfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzVGV4dCA9PT0gJ1knKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplICs9IDE7XHJcbiAgICAgICAgICAgICAgICBhZGphY2VudHNbMV0udW5zaGlmdChkaXYuaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZWQgPSBib2FyZC5wbGFjZVNoaXAoc2l6ZSwgYWRqYWNlbnRzWzFdKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gMTtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPT09IHNoaXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlbmRlckJvdGhCb2FyZHMobXlCb2FyZCkvL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJbml0YWxCb2FyZHMoYWN0dWFsTmFtZSwgYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG15TmFtZS5pbm5lckhUTUwgPSBgJHthY3R1YWxOYW1lfSwgIHBsYWNlIHlvdXIgJHtzaGlwc1twb3NdfWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG15Qm9hcmQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFxyXG5cclxuICAgIG15TmFtZUJveC5hcHBlbmRDaGlsZChteU5hbWUpO1xyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKGF4aXMpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChteUJvYXJkKTtcclxuICAgIG15U2VjdGlvbi5hcHBlbmRDaGlsZChteU5hbWVCb3gpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15R2FtZVNlY3Rpb24pO1xyXG4gICAgXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKG15U2VjdGlvbik7XHJcbiAgICByZW5kZXJNeUJvYXJkKGJvYXJkKTsgICAgXHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gcmVuZGVySW5pdGFsQm9hcmRzIChuYW1lLCBib2FyZCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcblxyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICAgICAgXHJcbiAgICBjb25zdCBlbmVteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuXHJcbiAgICBcclxuICAgIG15U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1zZWN0aW9uJyk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LWdhbWUtc2VjdGlvbicpO1xyXG4gICAgbXlCb2FyZC5jbGFzc0xpc3QuYWRkKCdteS1ib2FyZCcpO1xyXG4gICAgbXlOYW1lQm94LmNsYXNzTGlzdC5hZGQoJ215LW5hbWUtYm94Jyk7XHJcbiAgICBteU5hbWUuY2xhc3NMaXN0LmFkZCgnbXktbmFtZScpO1xyXG4gICAgXHJcbiAgICBlbmVteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZW5lbXktc2VjdGlvbicpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdlbmVteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIGVuZW15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnZW5lbXktYm9hcmQnKTtcclxuICAgIGVuZW15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdlbmVteS1uYW1lLWJveCcpO1xyXG4gICAgZW5lbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ2VuZW15LW5hbWUnKTtcclxuXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpICs9IDEpIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDg7IGogKz0gMSkge1xyXG4gICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IGAke2l9LCR7an1gO1xyXG4gICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBjb25zdCBkaXZFbmVteSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoJ215LWRpdi1ib3gnKTtcclxuICAgICAgICAgIGRpdkVuZW15LmNsYXNzTGlzdC5hZGQoJ2VuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICAgICAgICBkaXYuaWQgPSBgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBkaXZFbmVteS5pZCA9IGBFICR7Y29vcmRpbmF0ZX1gO1xyXG4gIFxyXG4gICAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgZW5lbXlCb2FyZC5hcHBlbmRDaGlsZChkaXZFbmVteSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG15TmFtZS5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgZW5lbXlOYW1lLmlubmVySFRNTCA9ICdFbmVteSc7XHJcblxyXG4gICAgbXlOYW1lQm94LmFwcGVuZENoaWxkKG15TmFtZSk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKG15Qm9hcmQpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15TmFtZUJveCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlHYW1lU2VjdGlvbik7XHJcbiAgICBcclxuICAgIGVuZW15TmFtZUJveC5hcHBlbmRDaGlsZChlbmVteU5hbWUpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteUJvYXJkKTtcclxuICAgIGVuZW15U2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteU5hbWVCb3gpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15R2FtZVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQobXlTZWN0aW9uKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoZW5lbXlTZWN0aW9uKTtcclxuXHJcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4tZ2FtZScpO1xyXG4gICAgcmVuZGVyTXlCb2FyZChib2FyZCk7XHJcbiAgICBnYW1lKGJvYXJkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGxldCBhcnIgPSBib2FyZC5ib2FyZEFycmF5KCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoYXJyW2ldLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFycltpXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFycltpXS5hdHRhY2tlZCkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyW2ldLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfinYwnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjRjVDMkMxJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFycltpXS5taXNzZWQpIHtcclxuICAgICAgICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFycltpXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+Spic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYXJyW2ldLmhhc1NoaXAgJiYgIWFycltpXS5hdHRhY2tlZCAmJiAhYXJyW2ldLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXJyW2ldLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gcmVuZGVyRW5lbXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGNvbnN0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IGJveC5pZDtcclxuICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBudW0gPSBzcGxpdFsxXTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uYXR0YWNrZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfinYwnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjRjVDMkMxJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+Spic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIChib2FyZC5ib2FyZFtudW1dLmhhc1NoaXApIHtcclxuICAgICAgICAvLyAgICAgYm94LmlubmVySFRNTCA9ICfwn5qiJztcclxuICAgICAgICAvLyAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiByZW5kZXJXaW4gKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTsgXHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ3BsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnWW91IFdpbic7XHJcbiAgICBwbGF5LmlubmVySFRNTCA9ICdQbGF5IEFnYWluJztcclxuICAgIHBsYXkudHlwZSA9ICdzdWJtaXQnO1xyXG5cclxuICAgIGJveC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICB3cml0ZU5hbWUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJMb3NlICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7IFxyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1lvdSBMb3NlJztcclxuICAgIHBsYXkuaW5uZXJIVE1MID0gJ1BsYXkgQWdhaW4nO1xyXG4gICAgcGxheS50eXBlID0gJ3N1Ym1pdCc7XHJcblxyXG4gICAgYm94LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIHdyaXRlTmFtZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgbWFpbi5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7d3JpdGVOYW1lLCBjbGVhbiwgcmVuZGVySW5pdGFsQm9hcmRzLCByZW5kZXJNeUJvYXJkLCByZW5kZXJFbmVteUJvYXJkLCByZW5kZXJXaW4sIHJlbmRlckxvc2V9O1xyXG4iLCJpbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgIGNsZWFuLCByZW5kZXJXaW4sIHJlbmRlckxvc2UgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuXHJcblxyXG5mdW5jdGlvbiBnYW1lIChib2FyZCkge1xyXG4gICAgbGV0IGVuZW15Qm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XHJcbiAgICBsZXQgbXlCb2FyZCA9IGJvYXJkO1xyXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIobXlCb2FyZCk7XHJcblxyXG4gICAgZW5lbXlCb2FyZC5jcmVhdGVCb2FyZCgpO1xyXG4gICAgbGV0IGVuZW15ID0gbmV3IFBsYXllcihlbmVteUJvYXJkKTtcclxuXHJcbiAgICBcclxuICAgIGVuZW15Qm9hcmQucGxhY2VFbmVteVNoaXBzKGVuZW15Qm9hcmQpO1xyXG5cclxuICAgIFxyXG4gICAgcmVuZGVyTXlCb2FyZChib2FyZCk7XHJcbiAgICByZW5kZXJFbmVteUJvYXJkKGVuZW15Qm9hcmQpO1xyXG5cclxuICAgIGNvbnN0IGVuZW15Qm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW5lbXktZGl2LWJveCcpO1xyXG4gICAgbGV0IGVCb3hlcyA9IFsuLi5lbmVteUJveGVzXTtcclxuXHJcbiAgICBlQm94ZXMuZm9yRWFjaChlQm94ID0+IHtcclxuICAgICAgICBlQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGVDb29yZGluYXRlcyA9IGUudGFyZ2V0LmlkO1xyXG4gICAgICAgICAgICBsZXQgZVNwbGl0ID0gZUNvb3JkaW5hdGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgICAgIGxldCBlTnVtID0gZVNwbGl0WzFdOyBcclxuXHJcbiAgICAgICAgICAgIGxldCBlbmVteU1vdmUgPSBlbmVteS5tYWtlUmFuZG9tTW92ZSgpO1xyXG4gICAgICAgICAgICBsZXQgZW5lbXlBdHRhY2sgPSBteUJvYXJkLnJlY2VpdmVBdHRhY2soZW5lbXlNb3ZlKTtcclxuICAgICAgICAgICAgbGV0IGF0dGFjayA9IGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjayhlTnVtKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhdHRhY2spIHtcclxuICAgICAgICAgICAgICAgIHJlbmRlckVuZW15Qm9hcmQoZW5lbXkuZ2FtZWJvYXJkKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCFlbmVteUF0dGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteU1vdmUgPSBlbmVteS5tYWtlUmFuZG9tTW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteUF0dGFjayA9IG15Qm9hcmQucmVjZWl2ZUF0dGFjayhlbmVteU1vdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJNeUJvYXJkKHBsYXllci5nYW1lYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgICB9LCAxMDAwKTsgXHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgbXlTdW5rID0gbXlCb2FyZC5hbGxTdW5rKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZW5lbXlTdW5rID0gZW5lbXlCb2FyZC5hbGxTdW5rKCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChteVN1bmspIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxvc2UoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXlTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJXaW4oKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIDEuIENyZWF0ZSB0aGUgbWFpbiBnYW1lIGxvb3AgYW5kIGEgbW9kdWxlIGZvciBET00gaW50ZXJhY3Rpb24uXHJcbi8vICAgICAgYS4gQXQgdGhpcyBwb2ludCBpdCBpcyBhcHByb3ByaWF0ZSB0byBiZWdpbiBjcmFmdGluZyB5b3VyIFVzZXIgSW50ZXJmYWNlLlxyXG4vLyAgICAgIGIuIFRoZSBnYW1lIGxvb3Agc2hvdWxkIHNldCB1cCBhIG5ldyBnYW1lIGJ5IGNyZWF0aW5nIFBsYXllcnMgYW5kIEdhbWVib2FyZHMuIEZvciBub3cganVzdCBwb3B1bGF0ZSBlYWNoIEdhbWVib2FyZCB3aXRoIHByZWRldGVybWluZWQgY29vcmRpbmF0ZXMuIFlvdSBjYW4gaW1wbGVtZW50IGEgc3lzdGVtIGZvciBhbGxvd2luZyBwbGF5ZXJzIHRvIHBsYWNlIHRoZWlyIHNoaXBzIGxhdGVyLlxyXG4vLyAgICAgIGMuIFdl4oCZbGwgbGVhdmUgdGhlIEhUTUwgaW1wbGVtZW50YXRpb24gdXAgdG8geW91IGZvciBub3csIGJ1dCB5b3Ugc2hvdWxkIGRpc3BsYXkgYm90aCB0aGUgcGxheWVy4oCZcyBib2FyZHMgYW5kIHJlbmRlciB0aGVtIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gdGhlIEdhbWVib2FyZCBjbGFzcy9mYWN0b3J5LlxyXG4vLyAgICAgICAgICBhLiBZb3UgbmVlZCBtZXRob2RzIHRvIHJlbmRlciB0aGUgZ2FtZWJvYXJkcyBhbmQgdG8gdGFrZSB1c2VyIGlucHV0IGZvciBhdHRhY2tpbmcuIEZvciBhdHRhY2tzLCBsZXQgdGhlIHVzZXIgY2xpY2sgb24gYSBjb29yZGluYXRlIGluIHRoZSBlbmVteSBHYW1lYm9hcmQuXHJcbi8vICAgICAgZC4gVGhlIGdhbWUgbG9vcCBzaG91bGQgc3RlcCB0aHJvdWdoIHRoZSBnYW1lIHR1cm4gYnkgdHVybiB1c2luZyBvbmx5IG1ldGhvZHMgZnJvbSBvdGhlciBvYmplY3RzLiBJZiBhdCBhbnkgcG9pbnQgeW91IGFyZSB0ZW1wdGVkIHRvIHdyaXRlIGEgbmV3IGZ1bmN0aW9uIGluc2lkZSB0aGUgZ2FtZSBsb29wLCBzdGVwIGJhY2sgYW5kIGZpZ3VyZSBvdXQgd2hpY2ggY2xhc3Mgb3IgbW9kdWxlIHRoYXQgZnVuY3Rpb24gc2hvdWxkIGJlbG9uZyB0by5cclxuLy8gICAgICBlLiBDcmVhdGUgY29uZGl0aW9ucyBzbyB0aGF0IHRoZSBnYW1lIGVuZHMgb25jZSBvbmUgcGxheWVy4oCZcyBzaGlwcyBoYXZlIGFsbCBiZWVuIHN1bmsuIFRoaXMgZnVuY3Rpb24gaXMgYXBwcm9wcmlhdGUgZm9yIHRoZSBHYW1lIG1vZHVsZS5cclxuXHJcblxyXG4vLyAyLiBGaW5pc2ggaXQgdXBcclxuLy8gICAgICBhLiBUaGVyZSBhcmUgc2V2ZXJhbCBvcHRpb25zIGF2YWlsYWJsZSBmb3IgbGV0dGluZyB1c2VycyBwbGFjZSB0aGVpciBzaGlwcy4gWW91IGNhbiBsZXQgdGhlbSB0eXBlIGNvb3JkaW5hdGVzIGZvciBlYWNoIHNoaXAsIG9yIGludmVzdGlnYXRlIGltcGxlbWVudGluZyBkcmFnIGFuZCBkcm9wLlxyXG4vLyAgICAgIGIuIFlvdSBjYW4gcG9saXNoIHRoZSBpbnRlbGxpZ2VuY2Ugb2YgdGhlIGNvbXB1dGVyIHBsYXllciBieSBoYXZpbmcgaXQgdHJ5IGFkamFjZW50IHNsb3RzIGFmdGVyIGdldHRpbmcgYSDigJhoaXTigJkuXHJcbi8vICAgICAgYy4gT3B0aW9uYWxseSwgY3JlYXRlIGEgMiBwbGF5ZXIgb3B0aW9uIHRoYXQgbGV0cyB1c2VycyB0YWtlIHR1cm5zIGJ5IHBhc3NpbmcgdGhlIGRldmljZSBiYWNrIGFuZCBmb3J0aC4gSWYgeW914oCZcmUgZ29pbmcgdG8gZ28gdGhpcyByb3V0ZSwgbWFrZSBzdXJlIHRoZSBnYW1lIGlzIHBsYXlhYmxlIG9uIGEgbW9iaWxlIHNjcmVlbiBhbmQgaW1wbGVtZW50IGEg4oCYcGFzcyBkZXZpY2XigJkgc2NyZWVuIHNvIHRoYXQgcGxheWVycyBkb27igJl0IHNlZSBlYWNoIG90aGVycyBib2FyZHMhXHJcbiBcclxuXHJcbi8vICBUaGUgNSBzaGlwcyBhcmU6IENhcnJpZXIgKG9jY3VwaWVzIDUgc3BhY2VzKSwgQmF0dGxlc2hpcCAoNCksIENydWlzZXIgKDMpLCBTdWJtYXJpbmUgKDMpLCBhbmQgRGVzdHJveWVyICgyKS4gLy9cclxuXHJcblxyXG5cclxuZXhwb3J0IHtnYW1lfTsiLCIvLyBMaW50ZXIsIFByZXR0aWVyLCBKZXN0LmNvbmZpZyAvLyBcclxuXHJcbmltcG9ydCB7IFNoaXAsIEdhbWVib2FyZCwgUGxheWVyIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XHJcbmltcG9ydCB7IHdyaXRlTmFtZSwgY2xlYW4sIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyV2luLCByZW5kZXJMb3NlLCBzZWxlY3RTaGlwcyB9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5pbXBvcnQgeyBnYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxud3JpdGVOYW1lKCk7Il0sIm5hbWVzIjpbIlNoaXAiLCJjb25zdHJ1Y3RvciIsInNpemUiLCJ0aGlzIiwiaGl0Iiwic3VuayIsImNvb3JkaW5hdGVzIiwicmVnaXN0ZXJIaXQiLCJpc1N1bmsiLCJhZGRDb29yZGluYXRlcyIsInBvc2l0aW9uIiwicHVzaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJHYW1lYm9hcmQiLCJib2FyZCIsInNoaXBzIiwiY3JlYXRlQm9hcmQiLCJpIiwiaiIsImNvb3JkaW5hdGUiLCJhdHRhY2tlZCIsIm1pc3NlZCIsImhhc1NoaXAiLCJzaGlwIiwiaXNWYWxpZCIsImFyciIsInNwbGl0IiwiYSIsIk51bWJlciIsImIiLCJnZXRCb2FyZCIsImFkZFNoaXAiLCJwbGFjZVNoaXAiLCJsZW5ndGgiLCJpc01vdmVMZWdhbCIsIm1vdmUiLCJwbGFjZUVuZW15U2hpcHMiLCJlbmVteUJvYXJkIiwiY29vcmRpbmF0ZUNhcnJpZXIiLCJjcmVhdGVDb29yZGluYXRlcyIsImNvb3JkaW5hdGVCYXR0bGVzaGlwIiwiY29vcmRpbmF0ZUNydWlzZXIiLCJjb29yZGluYXRlU3VibWFyaW5lIiwiY29vcmRpbmF0ZURlc3Ryb3llciIsImdldEFkamFjZW50cyIsInNpemVzIiwiYWRqYWNlbnRzIiwiZmlsdGVyIiwicG9zIiwicGxhY2VkIiwibmV3Q29vcmRpbmF0ZXMiLCJuZXdTaGlwIiwiYXhpcyIsIm51bTEiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJudW0yIiwicmVzdWx0IiwiYXJyYXlCb2FyZCIsImJvYXJkQXJyYXkiLCJyaWdodCIsImRvd24iLCJpbmRleCIsInBsYWNlIiwicGxhY2VTcGxpdCIsImluY2x1ZGVzIiwiaGFzQWxsU2hpcHNQbGFjZWQiLCJyZWNlaXZlQXR0YWNrIiwic3RyIiwiZm9yRWFjaCIsImdldFNoaXBzIiwiYWxsU3VuayIsImV2ZXJ5Iiwib2JqIiwiYXJyYXkiLCJrZXkiLCJQbGF5ZXIiLCJnYW1lYm9hcmQiLCJtYWtlUmFuZG9tTW92ZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ3cml0ZU5hbWUiLCJtYWluIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJveCIsImNyZWF0ZUVsZW1lbnQiLCJ0aXRsZSIsImlucHV0IiwicGxheSIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwidHlwZSIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiY2xlYW4iLCJuYW1lIiwibXlTZWN0aW9uIiwibXlHYW1lU2VjdGlvbiIsIm15Qm9hcmQiLCJteU5hbWVCb3giLCJteU5hbWUiLCJkYXRhc2V0IiwiZGl2IiwiaWQiLCJ4Tm90QWxsb3dlZCIsInlOb3RBbGxvd2VkIiwicXVlcnlTZWxlY3RvciIsImluZGV4T2YiLCJheGlzVGV4dCIsImFkaldpdGhTaGlwIiwic29tZSIsIngiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjdXJzb3IiLCJhY3R1YWxOYW1lIiwidW5zaGlmdCIsInJlbmRlck15Qm9hcmQiLCJyZW5kZXJJbml0YWxCb2FyZHMiLCJyZW5kZXJQbGFjZVNoaXBzIiwiYWxlcnQiLCJlbmVteVNlY3Rpb24iLCJlbmVteUdhbWVTZWN0aW9uIiwiZW5lbXlOYW1lQm94IiwiZW5lbXlOYW1lIiwiZGl2RW5lbXkiLCJwbGF5ZXIiLCJlbmVteSIsInJlbmRlckVuZW15Qm9hcmQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZUJveCIsImUiLCJlTnVtIiwidGFyZ2V0IiwiZW5lbXlNb3ZlIiwiZW5lbXlBdHRhY2siLCJzZXRUaW1lb3V0IiwibXlTdW5rIiwiZW5lbXlTdW5rIiwicmVuZGVyTG9zZSIsInJlbmRlcldpbiIsImdhbWUiLCJib3hlcyIsIm51bSJdLCJzb3VyY2VSb290IjoiIn0=