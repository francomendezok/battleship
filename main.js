(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}class a{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),d=Number(t[1]);return a>=0&&a<=7&&d>=0&&d<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return"Size and coordinates length should be equal";const d=new t(e);for(let e=0;e<a.length;e++)if(this.isValid(a[e]))this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0;else if(!this.isValid(a[e]))return"No Valid";return d.addCoordinates(a),this.addShip(d),this.board}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}placeEnemyShips(e){this.createCoordinates(5),this.createCoordinates(4),this.createCoordinates(3),this.createCoordinates(3),this.createCoordinates(2)}createCoordinates(e){let t=Math.floor(8*Math.random()),a=Math.floor(8*Math.random()),d=`${t},${a}`,i=[];if(this.isMoveLegal(d))i.push(d);else for(;!this.isMoveLegal(d);)t=Math.floor(8*Math.random()),a=Math.floor(8*Math.random()),d=`${t},${a}`;let n=d.split(",");i.push(d);for(let t=0;t<e-1;t++)n[Math.floor(2*Math.random())];return i}getAdjacents(e,t){let a=[],d=t.split(",");for(let t=0;t<4;t++)for(let t=0;t<e;t++){let[e,t]=d,i=`${e}, ${t++}`,n=`${e}, ${t--}`,s=`${e++}, ${t}`,o=`${e--}, ${t}`;a.push(i,n,s,o)}}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}}let d=new a;d.createBoard(),d.placeShip(3,["7,1","7,2","7,3"]),d.placeShip(3,["0,1","0,2","0,3"]),d.receiveAttack("0,1"),d.receiveAttack("0,2"),d.receiveAttack("0,3"),d.receiveAttack("7,1"),d.receiveAttack("7,2"),d.receiveAttack("7,3");class i{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}new i(d),e.exports={Ship:t,Gameboard:a,Player:i}}},t={};function a(d){var i=t[d];if(void 0!==i)return i.exports;var n=t[d]={exports:{}};return e[d](n,n.exports,a),n.exports}(()=>{"use strict";var e=a(776);function t(){const a=document.getElementById("main"),o=document.createElement("div"),r=document.createElement("h3"),c=document.createElement("input"),l=document.createElement("button");o.classList.add("pop-up-box"),r.classList.add("title-pop-up"),c.classList.add("input-pop-up"),l.classList.add("play-button"),r.textContent="Write your Name",l.innerHTML="Battle",c.type="text",l.type="submit",o.appendChild(r),o.appendChild(c),o.appendChild(l),a.appendChild(o),l.addEventListener("click",(()=>{s(),function(a){!function(e){const t=document.getElementById("main"),a=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("h3"),o=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),h=document.createElement("h3"),p=document.createElement("img"),u=document.createElement("img"),b=document.createElement("img"),g=document.createElement("img"),v=document.createElement("img");p.src="../dist/Images/5.png",u.src="../dist/Images/5.png",b.src="../dist/Images/5.png",g.src="../dist/Images/5.png",v.src="../dist/Images/5.png",[p,u,b,g,v].forEach((e=>{e.classList.add("ship"),o.appendChild(e)})),a.classList.add("my-section"),d.classList.add("my-game-section"),i.classList.add("my-board"),n.classList.add("my-name-box"),s.classList.add("my-name"),o.classList.add("my-ships"),r.classList.add("enemy-section"),c.classList.add("enemy-game-section"),l.classList.add("enemy-board"),m.classList.add("enemy-name-box"),h.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,d=document.createElement("div"),n=document.createElement("div");d.classList.add("my-div-box"),n.classList.add("enemy-div-box"),d.id=`P ${a}`,n.id=`E ${a}`,i.appendChild(d),l.appendChild(n)}s.textContent=e,h.textContent="Enemy",n.appendChild(s),d.appendChild(i),a.appendChild(n),a.appendChild(d),m.appendChild(h),c.appendChild(l),r.appendChild(m),r.appendChild(c),t.appendChild(a),t.appendChild(o),t.appendChild(r),t.classList.add("main-game")}(a),function(){let e=document.querySelectorAll(".ship"),t=[5,4,3,3,2];for(let a=0;a<e.length;a++)e[a].dataset.size=t[a],e[a].addEventListener("click",(()=>{n(e,e[a])}))}();let o=new e.Gameboard,r=new e.Gameboard;o.createBoard(),o.placeShip(2,["5,1","5,2"]),r.createBoard(),r.placeShip(5,["1,1","1,2","1,3","1,4","1,5"]),r.placeShip(4,["4,4","4,5","4,6","4,7"]);let c=new e.Player(o),l=new e.Player(r);d(c.gameboard),i(l.gameboard),[...document.querySelectorAll(".enemy-div-box")].forEach((e=>{e.addEventListener("click",(e=>{let a=e.target.id.split(" ")[1],n=l.makeRandomMove(),m=o.receiveAttack(n);if(r.receiveAttack(a)){i(l.gameboard),setTimeout((function(){for(;!m;)n=l.makeRandomMove(),m=o.receiveAttack(n);d(c.gameboard)}),1e3);let e=o.allSunk(),a=r.allSunk();e&&(s(),function(){const e=document.getElementById("main"),a=document.createElement("div"),d=document.createElement("h3"),i=document.createElement("button");a.classList.add("pop-up-box"),d.classList.add("title-pop-up"),i.classList.add("play-button"),d.textContent="You Lose",i.innerHTML="Play Again",i.type="submit",a.appendChild(d),a.appendChild(i),e.appendChild(a),i.addEventListener("click",(()=>{s(),t()}))}()),a&&(s(),function(){const e=document.getElementById("main"),a=document.createElement("div"),d=document.createElement("h3"),i=document.createElement("button");a.classList.add("pop-up-box"),d.classList.add("title-pop-up"),i.classList.add("play-button"),d.textContent="You Win",i.innerHTML="Play Again",i.type="submit",a.appendChild(d),a.appendChild(i),e.appendChild(a),i.addEventListener("click",(()=>{s(),t()}))}())}}))}))}(c.value)}))}function d(e){const t=document.querySelectorAll(".my-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="green"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function i(e){const t=document.querySelectorAll(".enemy-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="orange"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function n(e,t){e.forEach((e=>{e.classList.contains("ship-selected")&&e.classList.remove("ship-selected"),e===t&&e.classList.add("ship-selected")}))}function s(){document.getElementById("main").innerHTML=""}t()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVksRUFDckIsQ0UxVEFaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNoaXAgQ2xhc3MgLy9cclxuY2xhc3MgU2hpcCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5oaXQgPSAwO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckhpdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaXQgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpc1N1bmsoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0ID09PSB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29vcmRpbmF0ZXMgKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKHBvc2l0aW9uKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gR2FtZWJvYXJkIENsYXNzIC8vXHJcbmNsYXNzIEdhbWVib2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZCA9IFtdIFxyXG4gICAgICAgIHRoaXMuc2hpcHMgPSBbXVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVCb2FyZChzaXplID0gOCApIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xyXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaXplOyBqICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IGAke2l9LCR7an1gO1xyXG4gICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVdID0geyBhdHRhY2tlZDogZmFsc2UsIG1pc3NlZDogZmFsc2UsIGhhc1NoaXA6IGZhbHNlLCBzaGlwOiBbXSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlzVmFsaWQgKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IGFyciA9IGNvb3JkaW5hdGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgbGV0IGEgPSBOdW1iZXIoYXJyWzBdKTtcclxuICAgICAgICBsZXQgYiA9IE51bWJlcihhcnJbMV0pO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGEgPj0gMCAmJiBhIDw9IDcgJiYgYiA+PSAwICYmIGIgPD0gNztcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0Qm9hcmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFkZFNoaXAgKHNoaXApIHtcclxuICAgICAgICB0aGlzLnNoaXBzLnB1c2goc2hpcCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBsYWNlU2hpcCAoc2l6ZSwgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBpZiAoc2l6ZSAhPT0gY29vcmRpbmF0ZXMubGVuZ3RoKSByZXR1cm4gJ1NpemUgYW5kIGNvb3JkaW5hdGVzIGxlbmd0aCBzaG91bGQgYmUgZXF1YWwnO1xyXG5cclxuICAgICAgICBjb25zdCBzaGlwID0gbmV3IFNoaXAoc2l6ZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoY29vcmRpbmF0ZXNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlc1tpXV0uc2hpcC5wdXNoKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVzW2ldXS5oYXNTaGlwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmlzVmFsaWQoY29vcmRpbmF0ZXNbaV0pKSByZXR1cm4gJ05vIFZhbGlkJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIHNoaXAuYWRkQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgIHRoaXMuYWRkU2hpcChzaGlwKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlzTW92ZUxlZ2FsIChtb3ZlKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmJvYXJkW21vdmVdLmF0dGFja2VkICYmICF0aGlzLmJvYXJkW21vdmVdLm1pc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICAgIHBsYWNlRW5lbXlTaGlwcyAoYm9hcmQpIHtcclxuICAgICAgICAgICAgbGV0IGNhcnJpZXIgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKDUpO1xyXG4gICAgICAgICAgICBsZXQgYmF0dGxlc2hpcCA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoNCk7XHJcbiAgICAgICAgICAgIGxldCBjcnVpc2VyID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygzKTtcclxuICAgICAgICAgICAgbGV0IHN1Ym1hcmluZSA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoMyk7XHJcbiAgICAgICAgICAgIGxldCBkZXN0cm95ZXIgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKDIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjcmVhdGVDb29yZGluYXRlcyAoc2l6ZSkge1xyXG4gICAgICAgIGxldCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkgY29vcmRpbmF0ZXMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICAvL2NoZWNrIGlmIGhhc1NoaXAsIG5vdCBhdHRhY2tlZCBub3IgbWlzc2VkIC8vXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc3BsaXQgPSByZXN1bHQuc3BsaXQoJywnKTtcclxuXHJcbiAgICAgICAgY29vcmRpbmF0ZXMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUgLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpOyBcclxuICAgICAgICAgICAgbGV0IGtleSA9IHNwbGl0W3JhbmRvbV07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcG9zc2liaWxpdGllcyA9IFtdO1xyXG4gICAgICAgICAgICAvLyA0IGdldCBhZGphY2VudHMgLy8gXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgICBnZXRBZGphY2VudHMgKHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgLy8gNCw0IC8vXHJcbiAgICAgICAgbGV0IGFkamFjZW50cyA9IFtdOyBcclxuICAgICAgICBsZXQgbGluZXMgPSBbXTtcclxuICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgW3gseV0gPSBzcGxpdDtcclxuICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IGAke3h9LCAke3krK31gO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZCA9IGAke3h9LCAke3ktLX1gO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRoaXJkID0gYCR7eCsrfSwgJHt5fWA7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm91cnRoID0gYCR7eC0tfSwgJHt5fWA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChmaXJzdCwgc2Vjb25kLCB0aGlyZCwgZm91cnRoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAgIHJlY2VpdmVBdHRhY2sgKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IGAke2Nvb3JkaW5hdGVzfWA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3N0cl0uYXR0YWNrZWQgfHwgdGhpcy5ib2FyZFtzdHJdLm1pc3NlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ib2FyZFtzdHJdLmhhc1NoaXApIHtcclxuICAgICAgICAgICAgdGhpcy5ib2FyZFtzdHJdLmF0dGFja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoaXAuY29vcmRpbmF0ZXNbMF0uaW5jbHVkZXMoc3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXAucmVnaXN0ZXJIaXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkgc2hpcC5zdW5rID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5taXNzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZ2V0U2hpcHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbGxTdW5rICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGlwcy5ldmVyeShzaGlwID0+IHNoaXAuc3VuayA9PT0gdHJ1ZSk7XHJcbiAgICAgIH1cclxufVxyXG5cclxuXHJcbmxldCBib2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcclxuYm9hcmQuY3JlYXRlQm9hcmQoKTtcclxuYm9hcmQucGxhY2VTaGlwKDMsIFsnNywxJywnNywyJywnNywzJ10pO1xyXG5ib2FyZC5wbGFjZVNoaXAoMywgWycwLDEnLCAnMCwyJywnMCwzJ10pXHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzAsMScpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCcwLDInKTtcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnMCwzJyk7XHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzcsMScpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCc3LDInKTtcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnNywzJyk7XHJcblxyXG5cclxuLy8gUGxheWVyIENsYXNzIC8vXHJcbmNsYXNzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvciAoZ2FtZWJvYXJkKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lYm9hcmQgPSBnYW1lYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNNb3ZlTGVnYWwgKG1vdmUpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuZ2FtZWJvYXJkLmJvYXJkW21vdmVdLmF0dGFja2VkICYmICF0aGlzLmdhbWVib2FyZC5ib2FyZFttb3ZlXS5taXNzZWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1ha2VSYW5kb21Nb3ZlICgpIHtcclxuICAgICAgICBsZXQgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYCR7bnVtMX0sJHtudW0yfWA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTW92ZUxlZ2FsKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAoIXRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgbnVtMSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBwbGF5ID0gbmV3IFBsYXllcihib2FyZCk7XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7U2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXJ9OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBET00gTWFuaXB1bGF0aW9uLCBSZW5kZXIgdGhlIEdhbWUgLy8gXHJcblxyXG4vLyBSZW5kZXIgV3JpdGUgWW91ciBOYW1lIC8vIFxyXG5pbXBvcnQgeyBnYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuZnVuY3Rpb24gd3JpdGVOYW1lICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdpbnB1dC1wb3AtdXAnKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgncGxheS1idXR0b24nKTtcclxuXHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnV3JpdGUgeW91ciBOYW1lJztcclxuICAgIHBsYXkuaW5uZXJIVE1MID0gJ0JhdHRsZSc7XHJcbiAgICBpbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgcGxheS50eXBlID0gJ3N1Ym1pdCc7XHJcblxyXG4gICAgYm94LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICBnYW1lKGlucHV0LnZhbHVlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJJbml0YWxCb2FyZHMgKG5hbWUpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG5cclxuICAgIGNvbnN0IG15U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlHYW1lU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlOYW1lQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzaGlwc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgXHJcbiAgICBjb25zdCBlbmVteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuXHJcbiAgICBjb25zdCBjYXJyaWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBjb25zdCBiYXR0bGVzaGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBjb25zdCBjcnVpc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICBjb25zdCBzdWJtYXJpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGNvbnN0IGRlc3Ryb3llciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cclxuICAgIGNhcnJpZXIuc3JjID0gJy4uL2Rpc3QvSW1hZ2VzLzUucG5nJztcclxuICAgIGJhdHRsZXNoaXAuc3JjID0gJy4uL2Rpc3QvSW1hZ2VzLzUucG5nJztcclxuICAgIGNydWlzZXIuc3JjID0gJy4uL2Rpc3QvSW1hZ2VzLzUucG5nJztcclxuICAgIHN1Ym1hcmluZS5zcmMgPSAnLi4vZGlzdC9JbWFnZXMvNS5wbmcnO1xyXG4gICAgZGVzdHJveWVyLnNyYyA9ICcuLi9kaXN0L0ltYWdlcy81LnBuZyc7XHJcblxyXG5cclxuICAgIGNvbnN0IHNoaXBzID0gW2NhcnJpZXIsIGJhdHRsZXNoaXAsIGNydWlzZXIsIHN1Ym1hcmluZSwgZGVzdHJveWVyXTtcclxuXHJcblxyXG4gICAgc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICBzaGlwLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcclxuICAgICAgICBzaGlwc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzaGlwKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgbXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LXNlY3Rpb24nKTtcclxuICAgIG15R2FtZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktZ2FtZS1zZWN0aW9uJyk7XHJcbiAgICBteUJvYXJkLmNsYXNzTGlzdC5hZGQoJ215LWJvYXJkJyk7XHJcbiAgICBteU5hbWVCb3guY2xhc3NMaXN0LmFkZCgnbXktbmFtZS1ib3gnKTtcclxuICAgIG15TmFtZS5jbGFzc0xpc3QuYWRkKCdteS1uYW1lJyk7XHJcbiAgICBcclxuICAgIHNoaXBzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ215LXNoaXBzJyk7XHJcbiAgICBlbmVteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZW5lbXktc2VjdGlvbicpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdlbmVteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIGVuZW15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnZW5lbXktYm9hcmQnKTtcclxuICAgIGVuZW15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdlbmVteS1uYW1lLWJveCcpO1xyXG4gICAgZW5lbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ2VuZW15LW5hbWUnKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODsgaiArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGNvbnN0IGRpdkVuZW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnbXktZGl2LWJveCcpO1xyXG4gICAgICAgICAgZGl2RW5lbXkuY2xhc3NMaXN0LmFkZCgnZW5lbXktZGl2LWJveCcpO1xyXG5cclxuICAgICAgICAgIGRpdi5pZCA9IGBQICR7Y29vcmRpbmF0ZX1gO1xyXG4gICAgICAgICAgZGl2RW5lbXkuaWQgPSBgRSAke2Nvb3JkaW5hdGV9YDtcclxuICBcclxuICAgICAgICAgIG15Qm9hcmQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgIGVuZW15Qm9hcmQuYXBwZW5kQ2hpbGQoZGl2RW5lbXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBteU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgZW5lbXlOYW1lLnRleHRDb250ZW50ID0gJ0VuZW15JztcclxuXHJcbiAgICBteU5hbWVCb3guYXBwZW5kQ2hpbGQobXlOYW1lKTtcclxuICAgIG15R2FtZVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlCb2FyZCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlOYW1lQm94KTtcclxuICAgIG15U2VjdGlvbi5hcHBlbmRDaGlsZChteUdhbWVTZWN0aW9uKTtcclxuICAgIFxyXG4gICAgZW5lbXlOYW1lQm94LmFwcGVuZENoaWxkKGVuZW15TmFtZSk7XHJcbiAgICBlbmVteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15Qm9hcmQpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15TmFtZUJveCk7XHJcbiAgICBlbmVteVNlY3Rpb24uYXBwZW5kQ2hpbGQoZW5lbXlHYW1lU2VjdGlvbik7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChteVNlY3Rpb24pO1xyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChzaGlwc0NvbnRhaW5lcik7XHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGVuZW15U2VjdGlvbik7XHJcblxyXG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluLWdhbWUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGNvbnN0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LWRpdi1ib3gnKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IGJveC5pZDtcclxuICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBudW0gPSBzcGxpdFsxXTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uaGFzU2hpcCkge1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdncmVlbic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn4p2MJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnI0Y1QzJDMSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ/CfkqYnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGJsdWUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyRW5lbXlCb2FyZCAoYm9hcmQpIHtcclxuICAgIGNvbnN0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xyXG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IGJveC5pZDtcclxuICAgICAgICBsZXQgc3BsaXQgPSBjb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgIGxldCBudW0gPSBzcGxpdFsxXTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uaGFzU2hpcCkge1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdvcmFuZ2UnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5hdHRhY2tlZCkge1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ+KdjCc7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGNUMyQzEnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5taXNzZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfwn5KmJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdFNoaXBzICgpIHtcclxuICAgIGxldCBzaGlwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaGlwJyk7XHJcbiAgICBsZXQgc2l6ZXMgPSBbNSw0LDMsMywyXTtcclxuXHJcbiAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgc2l6ZSA9IHNoaXBzW2ldLmRhdGFzZXQuc2l6ZSA9IHNpemVzW2ldO1xyXG4gICAgICAgIHNoaXBzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBoYW5kbGVTaGlwQ2xhc2VzKHNoaXBzLCBzaGlwc1tpXSk7XHJcbiAgICAgICAgICAgIC8vIGxldCBhZGphY2VudHMgPSBnZXRBZGphY2VudHMoc2l6ZSk7IC8vXHJcbiAgICAgICAgICAgIC8vIGRyb3BTaGlwcyhhZGphY2VudHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICB9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkQm94ZXNMaXN0ZW5lciAoKSB7XHJcbiAgICBsZXQgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktZGl2LWJveCcpO1xyXG4gICAgbGV0IGFkamFjZW50cyA9IFtdO1xyXG5cclxuICAgIGJveGVzLmZvckVhY2goYm94ID0+IHtcclxuICAgICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBhZGphY2VudHMgPSBnZXRBZGphY2VudHMoc2l6ZSk7IC8vIGdldCA0IGFkamFjZW50cyAvLyAgXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93VXBcIiAmJiBhZGphY2VudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbnRBZGphY2VudHMoYWRqYWNlbnRzWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93UmlnaHRcIiAmJiBhZGphY2VudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpbnRBZGphY2VudHMoYWRqYWNlbnRzWzFdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93RG93blwiICYmIGFkamFjZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmludEFkamFjZW50cyhhZGphY2VudHNbMl0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dMZWZ0XCIgJiYgYWRqYWNlbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByaW50QWRqYWNlbnRzKGFkamFjZW50c1szXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBZGphY2VudHMgKHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAvLyA0LDQgY29vcmRpbmF0ZXMgLy9cclxuICAgIC8vIHNpemUgNCAvL1xyXG5cclxuICAgIC8vIHJlY29ycm8gZWwgZ2FtZWJvYXJkICEgLy9cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNoaXBDbGFzZXMgKHNoaXBzLCBzZWxlY3RlZCkge1xyXG4gICAgc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICBpZiAoc2hpcC5jbGFzc0xpc3QuY29udGFpbnMoJ3NoaXAtc2VsZWN0ZWQnKSkge1xyXG4gICAgICAgICAgICBzaGlwLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXAtc2VsZWN0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNoaXAgPT09IHNlbGVjdGVkKSBzaGlwLmNsYXNzTGlzdC5hZGQoJ3NoaXAtc2VsZWN0ZWQnKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyb3BTaGlwcyAoYWRqYWNlbnRzKSB7XHJcbiAgICAvLyA0IGFkamFjZW50cyAvLyBpZiBrZXkgdXAgc2hvdyBhZGphY2VudHNbMF0sIGlmIGtleSBkb3duIHNob3cgYWRqYWNlbnRzWzJdIGFuZCBzbyBvbiAvLyBcclxuXHJcblxyXG4gICAgbGV0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LWRpdi1ib3gnKTtcclxuICAgIFxyXG4gICAgYm94ZXMuZm9yRWFjaChkaXYgPT4ge1xyXG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYm94SWQgPSBkaXYuaWQ7XHJcbiAgICAgICAgICAgIC8vIDQsNCAvL1xyXG4gICAgICAgICAgICBsZXQgc3BsaXQgPSBib3hJZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gW2JveElkXTtcclxuICAgICAgICAgICAgbGV0IGogPSBzcGxpdFsxXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA+IDcpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgYWRqYWNlbnRzLnB1c2goYCR7c3BsaXRbMF19LCAke3NwbGl0W2pdfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkamFjZW50cy5mb3JFYWNoKGFkaiA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2lkZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhZGopO1xyXG4gICAgICAgICAgICAgICAgc2lkZXMuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGdvbGRlbnJvZHllbGxvdyc7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcldpbiAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpOyBcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgncGxheS1idXR0b24nKTtcclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdZb3UgV2luJztcclxuICAgIHBsYXkuaW5uZXJIVE1MID0gJ1BsYXkgQWdhaW4nO1xyXG4gICAgcGxheS50eXBlID0gJ3N1Ym1pdCc7XHJcblxyXG4gICAgYm94LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIHdyaXRlTmFtZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxvc2UgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTsgXHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ3BsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnWW91IExvc2UnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnUGxheSBBZ2Fpbic7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKHBsYXkpO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoYm94KTtcclxuXHJcbiAgICBwbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgd3JpdGVOYW1lKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYW4gKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBtYWluLmlubmVySFRNTCA9ICcnO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IHt3cml0ZU5hbWUsIGNsZWFuLCByZW5kZXJJbml0YWxCb2FyZHMsIHJlbmRlck15Qm9hcmQsIHJlbmRlckVuZW15Qm9hcmQsIHJlbmRlcldpbiwgcmVuZGVyTG9zZSwgc2VsZWN0U2hpcHN9O1xyXG4iLCJpbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIHJlbmRlckluaXRhbEJvYXJkcywgcmVuZGVyTXlCb2FyZCwgcmVuZGVyRW5lbXlCb2FyZCwgIGNsZWFuLCByZW5kZXJXaW4sIHJlbmRlckxvc2UsIHNlbGVjdFNoaXBzIH0gZnJvbSBcIi4vcmVuZGVyXCI7XHJcblxyXG5cclxuZnVuY3Rpb24gZ2FtZSAobmFtZSkge1xyXG4gICAgcmVuZGVySW5pdGFsQm9hcmRzKG5hbWUpO1xyXG4gICAgc2VsZWN0U2hpcHMoKTtcclxuICAgIFxyXG4gICAgbGV0IG15Qm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XHJcbiAgICBsZXQgZW5lbXlCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcclxuICAgIFxyXG4gICAgbXlCb2FyZC5jcmVhdGVCb2FyZCgpO1xyXG4gICAgLy8gbXlCb2FyZC5wbGFjZVNoaXAoNSwgWycxLDEnLCcxLDInLCcxLDMnLCAnMSw0JywgJzEsNSddKTtcclxuICAgIC8vIG15Qm9hcmQucGxhY2VTaGlwKDQsIFsnNCw0JywnNCw1JywnNCw2JywgJzQsNyddKTtcclxuICAgIC8vIG15Qm9hcmQucGxhY2VTaGlwKDMsIFsnNywxJywnNywyJywnNywzJ10pO1xyXG4gICAgLy8gbXlCb2FyZC5wbGFjZVNoaXAoMywgWycwLDEnLCcwLDInLCcwLDMnXSk7XHJcbiAgICBteUJvYXJkLnBsYWNlU2hpcCgyLCBbJzUsMScsJzUsMiddKTtcclxuICAgIFxyXG4gICAgZW5lbXlCb2FyZC5jcmVhdGVCb2FyZCgpO1xyXG4gICAgZW5lbXlCb2FyZC5wbGFjZVNoaXAoNSwgWycxLDEnLCcxLDInLCcxLDMnLCAnMSw0JywgJzEsNSddKTtcclxuICAgIGVuZW15Qm9hcmQucGxhY2VTaGlwKDQsIFsnNCw0JywnNCw1JywnNCw2JywgJzQsNyddKTtcclxuICAgIFxyXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXIobXlCb2FyZCk7XHJcbiAgICBsZXQgZW5lbXkgPSBuZXcgUGxheWVyKGVuZW15Qm9hcmQpO1xyXG5cclxuICAgIHJlbmRlck15Qm9hcmQocGxheWVyLmdhbWVib2FyZCk7XHJcbiAgICByZW5kZXJFbmVteUJvYXJkKGVuZW15LmdhbWVib2FyZCk7XHJcblxyXG4gICAgY29uc3QgZW5lbXlCb3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbmVteS1kaXYtYm94Jyk7XHJcbiAgICBsZXQgZUJveGVzID0gWy4uLmVuZW15Qm94ZXNdO1xyXG5cclxuICAgIGVCb3hlcy5mb3JFYWNoKGVCb3ggPT4ge1xyXG4gICAgICAgIGVCb3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZUNvb3JkaW5hdGVzID0gZS50YXJnZXQuaWQ7XHJcbiAgICAgICAgICAgIGxldCBlU3BsaXQgPSBlQ29vcmRpbmF0ZXMuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgbGV0IGVOdW0gPSBlU3BsaXRbMV07IFxyXG5cclxuICAgICAgICAgICAgbGV0IGVuZW15TW92ZSA9IGVuZW15Lm1ha2VSYW5kb21Nb3ZlKCk7XHJcbiAgICAgICAgICAgIGxldCBlbmVteUF0dGFjayA9IG15Qm9hcmQucmVjZWl2ZUF0dGFjayhlbmVteU1vdmUpO1xyXG4gICAgICAgICAgICBsZXQgYXR0YWNrID0gZW5lbXlCb2FyZC5yZWNlaXZlQXR0YWNrKGVOdW0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF0dGFjaykge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyRW5lbXlCb2FyZChlbmVteS5nYW1lYm9hcmQpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWVuZW15QXR0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15TW92ZSA9IGVuZW15Lm1ha2VSYW5kb21Nb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15QXR0YWNrID0gbXlCb2FyZC5yZWNlaXZlQXR0YWNrKGVuZW15TW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck15Qm9hcmQocGxheWVyLmdhbWVib2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgIH0sIDEwMDApOyBcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGxldCBteVN1bmsgPSBteUJvYXJkLmFsbFN1bmsoKTtcclxuICAgICAgICAgICAgICAgIGxldCBlbmVteVN1bmsgPSBlbmVteUJvYXJkLmFsbFN1bmsoKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKG15U3Vuaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteVN1bmspIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcldpbigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gMS4gQ3JlYXRlIHRoZSBtYWluIGdhbWUgbG9vcCBhbmQgYSBtb2R1bGUgZm9yIERPTSBpbnRlcmFjdGlvbi5cclxuLy8gICAgICBhLiBBdCB0aGlzIHBvaW50IGl0IGlzIGFwcHJvcHJpYXRlIHRvIGJlZ2luIGNyYWZ0aW5nIHlvdXIgVXNlciBJbnRlcmZhY2UuXHJcbi8vICAgICAgYi4gVGhlIGdhbWUgbG9vcCBzaG91bGQgc2V0IHVwIGEgbmV3IGdhbWUgYnkgY3JlYXRpbmcgUGxheWVycyBhbmQgR2FtZWJvYXJkcy4gRm9yIG5vdyBqdXN0IHBvcHVsYXRlIGVhY2ggR2FtZWJvYXJkIHdpdGggcHJlZGV0ZXJtaW5lZCBjb29yZGluYXRlcy4gWW91IGNhbiBpbXBsZW1lbnQgYSBzeXN0ZW0gZm9yIGFsbG93aW5nIHBsYXllcnMgdG8gcGxhY2UgdGhlaXIgc2hpcHMgbGF0ZXIuXHJcbi8vICAgICAgYy4gV2XigJlsbCBsZWF2ZSB0aGUgSFRNTCBpbXBsZW1lbnRhdGlvbiB1cCB0byB5b3UgZm9yIG5vdywgYnV0IHlvdSBzaG91bGQgZGlzcGxheSBib3RoIHRoZSBwbGF5ZXLigJlzIGJvYXJkcyBhbmQgcmVuZGVyIHRoZW0gdXNpbmcgaW5mb3JtYXRpb24gZnJvbSB0aGUgR2FtZWJvYXJkIGNsYXNzL2ZhY3RvcnkuXHJcbi8vICAgICAgICAgIGEuIFlvdSBuZWVkIG1ldGhvZHMgdG8gcmVuZGVyIHRoZSBnYW1lYm9hcmRzIGFuZCB0byB0YWtlIHVzZXIgaW5wdXQgZm9yIGF0dGFja2luZy4gRm9yIGF0dGFja3MsIGxldCB0aGUgdXNlciBjbGljayBvbiBhIGNvb3JkaW5hdGUgaW4gdGhlIGVuZW15IEdhbWVib2FyZC5cclxuLy8gICAgICBkLiBUaGUgZ2FtZSBsb29wIHNob3VsZCBzdGVwIHRocm91Z2ggdGhlIGdhbWUgdHVybiBieSB0dXJuIHVzaW5nIG9ubHkgbWV0aG9kcyBmcm9tIG90aGVyIG9iamVjdHMuIElmIGF0IGFueSBwb2ludCB5b3UgYXJlIHRlbXB0ZWQgdG8gd3JpdGUgYSBuZXcgZnVuY3Rpb24gaW5zaWRlIHRoZSBnYW1lIGxvb3AsIHN0ZXAgYmFjayBhbmQgZmlndXJlIG91dCB3aGljaCBjbGFzcyBvciBtb2R1bGUgdGhhdCBmdW5jdGlvbiBzaG91bGQgYmVsb25nIHRvLlxyXG4vLyAgICAgIGUuIENyZWF0ZSBjb25kaXRpb25zIHNvIHRoYXQgdGhlIGdhbWUgZW5kcyBvbmNlIG9uZSBwbGF5ZXLigJlzIHNoaXBzIGhhdmUgYWxsIGJlZW4gc3Vuay4gVGhpcyBmdW5jdGlvbiBpcyBhcHByb3ByaWF0ZSBmb3IgdGhlIEdhbWUgbW9kdWxlLlxyXG5cclxuXHJcbi8vIDIuIEZpbmlzaCBpdCB1cFxyXG4vLyAgICAgIGEuIFRoZXJlIGFyZSBzZXZlcmFsIG9wdGlvbnMgYXZhaWxhYmxlIGZvciBsZXR0aW5nIHVzZXJzIHBsYWNlIHRoZWlyIHNoaXBzLiBZb3UgY2FuIGxldCB0aGVtIHR5cGUgY29vcmRpbmF0ZXMgZm9yIGVhY2ggc2hpcCwgb3IgaW52ZXN0aWdhdGUgaW1wbGVtZW50aW5nIGRyYWcgYW5kIGRyb3AuXHJcbi8vICAgICAgYi4gWW91IGNhbiBwb2xpc2ggdGhlIGludGVsbGlnZW5jZSBvZiB0aGUgY29tcHV0ZXIgcGxheWVyIGJ5IGhhdmluZyBpdCB0cnkgYWRqYWNlbnQgc2xvdHMgYWZ0ZXIgZ2V0dGluZyBhIOKAmGhpdOKAmS5cclxuLy8gICAgICBjLiBPcHRpb25hbGx5LCBjcmVhdGUgYSAyIHBsYXllciBvcHRpb24gdGhhdCBsZXRzIHVzZXJzIHRha2UgdHVybnMgYnkgcGFzc2luZyB0aGUgZGV2aWNlIGJhY2sgYW5kIGZvcnRoLiBJZiB5b3XigJlyZSBnb2luZyB0byBnbyB0aGlzIHJvdXRlLCBtYWtlIHN1cmUgdGhlIGdhbWUgaXMgcGxheWFibGUgb24gYSBtb2JpbGUgc2NyZWVuIGFuZCBpbXBsZW1lbnQgYSDigJhwYXNzIGRldmljZeKAmSBzY3JlZW4gc28gdGhhdCBwbGF5ZXJzIGRvbuKAmXQgc2VlIGVhY2ggb3RoZXJzIGJvYXJkcyFcclxuIFxyXG5cclxuLy8gIFRoZSA1IHNoaXBzIGFyZTogQ2FycmllciAob2NjdXBpZXMgNSBzcGFjZXMpLCBCYXR0bGVzaGlwICg0KSwgQ3J1aXNlciAoMyksIFN1Ym1hcmluZSAoMyksIGFuZCBEZXN0cm95ZXIgKDIpLiAvL1xyXG5cclxuXHJcblxyXG5leHBvcnQge2dhbWV9OyIsIi8vIExpbnRlciwgUHJldHRpZXIsIEplc3QuY29uZmlnIC8vIFxyXG5cclxuaW1wb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcclxuaW1wb3J0IHsgd3JpdGVOYW1lLCBjbGVhbiwgcmVuZGVySW5pdGFsQm9hcmRzLCByZW5kZXJXaW4sIHJlbmRlckxvc2UsIHNlbGVjdFNoaXBzIH0gZnJvbSBcIi4vcmVuZGVyXCI7XHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG53cml0ZU5hbWUoKTtcclxuIl0sIm5hbWVzIjpbIlNoaXAiLCJjb25zdHJ1Y3RvciIsInNpemUiLCJ0aGlzIiwiaGl0Iiwic3VuayIsImNvb3JkaW5hdGVzIiwicmVnaXN0ZXJIaXQiLCJpc1N1bmsiLCJhZGRDb29yZGluYXRlcyIsInBvc2l0aW9uIiwicHVzaCIsIkdhbWVib2FyZCIsImJvYXJkIiwic2hpcHMiLCJjcmVhdGVCb2FyZCIsImkiLCJqIiwiY29vcmRpbmF0ZSIsImF0dGFja2VkIiwibWlzc2VkIiwiaGFzU2hpcCIsInNoaXAiLCJpc1ZhbGlkIiwiYXJyIiwic3BsaXQiLCJhIiwiTnVtYmVyIiwiYiIsImdldEJvYXJkIiwiYWRkU2hpcCIsInBsYWNlU2hpcCIsImxlbmd0aCIsImlzTW92ZUxlZ2FsIiwibW92ZSIsInBsYWNlRW5lbXlTaGlwcyIsImNyZWF0ZUNvb3JkaW5hdGVzIiwibnVtMSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm51bTIiLCJyZXN1bHQiLCJnZXRBZGphY2VudHMiLCJsaW5lcyIsIngiLCJ5IiwiZmlyc3QiLCJzZWNvbmQiLCJ0aGlyZCIsImZvdXJ0aCIsInJlY2VpdmVBdHRhY2siLCJzdHIiLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJnZXRTaGlwcyIsImFsbFN1bmsiLCJldmVyeSIsIlBsYXllciIsImdhbWVib2FyZCIsIm1ha2VSYW5kb21Nb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ3cml0ZU5hbWUiLCJtYWluIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImJveCIsImNyZWF0ZUVsZW1lbnQiLCJ0aXRsZSIsImlucHV0IiwicGxheSIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwidHlwZSIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFuIiwibmFtZSIsIm15U2VjdGlvbiIsIm15R2FtZVNlY3Rpb24iLCJteUJvYXJkIiwibXlOYW1lQm94IiwibXlOYW1lIiwic2hpcHNDb250YWluZXIiLCJlbmVteVNlY3Rpb24iLCJlbmVteUdhbWVTZWN0aW9uIiwiZW5lbXlCb2FyZCIsImVuZW15TmFtZUJveCIsImVuZW15TmFtZSIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiY3J1aXNlciIsInN1Ym1hcmluZSIsImRlc3Ryb3llciIsInNyYyIsImRpdiIsImRpdkVuZW15IiwiaWQiLCJyZW5kZXJJbml0YWxCb2FyZHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2l6ZXMiLCJkYXRhc2V0IiwiaGFuZGxlU2hpcENsYXNlcyIsInNlbGVjdFNoaXBzIiwicGxheWVyIiwiZW5lbXkiLCJyZW5kZXJNeUJvYXJkIiwicmVuZGVyRW5lbXlCb2FyZCIsImVCb3giLCJlIiwiZU51bSIsInRhcmdldCIsImVuZW15TW92ZSIsImVuZW15QXR0YWNrIiwic2V0VGltZW91dCIsIm15U3VuayIsImVuZW15U3VuayIsInJlbmRlckxvc2UiLCJyZW5kZXJXaW4iLCJnYW1lIiwidmFsdWUiLCJib3hlcyIsIm51bSIsInN0eWxlIiwiYmFja2dyb3VuZCIsInNlbGVjdGVkIiwiY29udGFpbnMiLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9