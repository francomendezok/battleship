(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}class a{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),s=Number(t[1]);return a>=0&&a<=7&&s>=0&&s<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return"Size and coordinates length should be equal";const s=new t(e);for(let e=0;e<a.length;e++)if(this.isValid(a[e]))this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0;else if(!this.isValid(a[e]))return"No Valid";return s.addCoordinates(a),this.addShip(s),this.board}receiveAttack(e){let t=`${e}`;this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}}let s=new a;s.createBoard(),s.placeShip(3,["7,1","7,2","7,3"]),s.placeShip(3,["0,1","0,2","0,3"]),s.receiveAttack("0,1"),s.receiveAttack("0,2"),s.receiveAttack("0,3"),s.receiveAttack("7,1"),s.receiveAttack("7,2"),s.receiveAttack("7,3");class i{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}new i(s),e.exports={Ship:t,Gameboard:a,Player:i}}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var d=t[s]={exports:{}};return e[s](d,d.exports,a),d.exports}(()=>{"use strict";a(776),function(){const e=document.getElementById("main"),t=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),r=document.createElement("h3"),n=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),h=document.createElement("div"),l=document.createElement("div"),m=document.createElement("h3");t.classList.add("my-section"),a.classList.add("my-game-section"),s.classList.add("my-board"),i.classList.add("my-ships"),d.classList.add("my-name-box"),r.classList.add("my-name"),n.classList.add("enemy-section"),o.classList.add("enemy-game-section"),c.classList.add("enemy-board"),h.classList.add("enemy-ships"),l.classList.add("enemy-name-box"),m.classList.add("enemy-name");for(let e=0;e<64;e++){const e=document.createElement("div"),t=document.createElement("div");e.classList.add("div-box"),t.classList.add("div-box"),s.appendChild(e),c.appendChild(t)}r.textContent="Franco",m.textContent="Enemy",d.appendChild(r),a.appendChild(s),a.appendChild(i),t.appendChild(d),t.appendChild(a),l.appendChild(m),o.appendChild(c),o.appendChild(h),n.appendChild(l),n.appendChild(o),e.appendChild(t),e.appendChild(n),e.classList.add("main-game")}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2hpcCBDbGFzcyAvL1xyXG5jbGFzcyBTaGlwIHtcclxuICAgIGNvbnN0cnVjdG9yIChzaXplKSB7XHJcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICB0aGlzLmhpdCA9IDA7XHJcbiAgICAgICAgdGhpcy5zdW5rID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVySGl0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdCArPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3VuaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaXQgPT09IHRoaXMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb29yZGluYXRlcyAocG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLmNvb3JkaW5hdGVzLnB1c2gocG9zaXRpb24pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBHYW1lYm9hcmQgQ2xhc3MgLy9cclxuY2xhc3MgR2FtZWJvYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICB0aGlzLmJvYXJkID0gW10gXHJcbiAgICAgICAgdGhpcy5zaGlwcyA9IFtdXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUJvYXJkKHNpemUgPSA4ICkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGogKz0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlID0gYCR7aX0sJHtqfWA7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZV0gPSB7IGF0dGFja2VkOiBmYWxzZSwgbWlzc2VkOiBmYWxzZSwgaGFzU2hpcDogZmFsc2UsIHNoaXA6IFtdIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNWYWxpZCAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgYXJyID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICBsZXQgYSA9IE51bWJlcihhcnJbMF0pO1xyXG4gICAgICAgIGxldCBiID0gTnVtYmVyKGFyclsxXSk7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gYSA+PSAwICYmIGEgPD0gNyAmJiBiID49IDAgJiYgYiA8PSA3O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXRCb2FyZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWRkU2hpcCAoc2hpcCkge1xyXG4gICAgICAgIHRoaXMuc2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcGxhY2VTaGlwIChzaXplLCBjb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChzaXplICE9PSBjb29yZGluYXRlcy5sZW5ndGgpIHJldHVybiAnU2l6ZSBhbmQgY29vcmRpbmF0ZXMgbGVuZ3RoIHNob3VsZCBiZSBlcXVhbCc7XHJcblxyXG4gICAgICAgIGNvbnN0IHNoaXAgPSBuZXcgU2hpcChzaXplKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZChjb29yZGluYXRlc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVzW2ldXS5zaGlwLnB1c2goY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZXNbaV1dLmhhc1NoaXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNWYWxpZChjb29yZGluYXRlc1tpXSkpIHJldHVybiAnTm8gVmFsaWQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgc2hpcC5hZGRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XHJcbiAgICAgICAgdGhpcy5hZGRTaGlwKHNoaXApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVjZWl2ZUF0dGFjayAoY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBsZXQgc3RyID0gYCR7Y29vcmRpbmF0ZXN9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbc3RyXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5hdHRhY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwLmNvb3JkaW5hdGVzWzBdLmluY2x1ZGVzKHN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwLnJlZ2lzdGVySGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHNoaXAuc3VuayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3N0cl0ubWlzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBnZXRTaGlwcyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpcHM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFsbFN1bmsgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5zdW5rID09PSB0cnVlKTtcclxuICAgICAgfVxyXG59XHJcblxyXG5cclxubGV0IGJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5ib2FyZC5jcmVhdGVCb2FyZCgpO1xyXG5ib2FyZC5wbGFjZVNoaXAoMywgWyc3LDEnLCc3LDInLCc3LDMnXSk7XHJcbmJvYXJkLnBsYWNlU2hpcCgzLCBbJzAsMScsICcwLDInLCcwLDMnXSlcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnMCwxJyk7XHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzAsMicpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCcwLDMnKTtcclxuYm9hcmQucmVjZWl2ZUF0dGFjaygnNywxJyk7XHJcbmJvYXJkLnJlY2VpdmVBdHRhY2soJzcsMicpO1xyXG5ib2FyZC5yZWNlaXZlQXR0YWNrKCc3LDMnKTtcclxuXHJcblxyXG4vLyBQbGF5ZXIgQ2xhc3MgLy9cclxuY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yIChnYW1lYm9hcmQpIHtcclxuICAgICAgICB0aGlzLmdhbWVib2FyZCA9IGdhbWVib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBpc01vdmVMZWdhbCAobW92ZSkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0uYXR0YWNrZWQgJiYgIXRoaXMuZ2FtZWJvYXJkLmJvYXJkW21vdmVdLm1pc3NlZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFrZVJhbmRvbU1vdmUgKCkge1xyXG4gICAgICAgIGxldCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHBsYXkgPSBuZXcgUGxheWVyKGJvYXJkKTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIERPTSBNYW5pcHVsYXRpb24sIFJlbmRlciB0aGUgR2FtZSAvLyBcclxuXHJcbi8vIFJlbmRlciBXcml0ZSBZb3VyIE5hbWUgLy8gXHJcblxyXG5cclxuZnVuY3Rpb24gd3JpdGVOYW1lICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdpbnB1dC1wb3AtdXAnKTtcclxuICAgIHBsYXkuY2xhc3NMaXN0LmFkZCgncGxheS1idXR0b24nKTtcclxuXHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnV3JpdGUgeW91ciBOYW1lJztcclxuICAgIHBsYXkuaW5uZXJIVE1MID0gJ0JhdHRsZSc7XHJcbiAgICBpbnB1dC50eXBlID0gJ3RleHQnO1xyXG4gICAgcGxheS50eXBlID0gJ3N1Ym1pdCc7XHJcblxyXG4gICAgYm94LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckluaXRhbEJvYXJkcyAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuXHJcbiAgICBjb25zdCBteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15U2hpcHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuXHJcbiAgICBjb25zdCBlbmVteVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15R2FtZVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15Qm9hcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15U2hpcHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGVuZW15TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuXHJcblxyXG4gICAgbXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ215LXNlY3Rpb24nKTtcclxuICAgIG15R2FtZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktZ2FtZS1zZWN0aW9uJyk7XHJcbiAgICBteUJvYXJkLmNsYXNzTGlzdC5hZGQoJ215LWJvYXJkJyk7XHJcbiAgICBteVNoaXBzLmNsYXNzTGlzdC5hZGQoJ215LXNoaXBzJyk7XHJcbiAgICBteU5hbWVCb3guY2xhc3NMaXN0LmFkZCgnbXktbmFtZS1ib3gnKTtcclxuICAgIG15TmFtZS5jbGFzc0xpc3QuYWRkKCdteS1uYW1lJyk7XHJcblxyXG4gICAgZW5lbXlTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2VuZW15LXNlY3Rpb24nKTtcclxuICAgIGVuZW15R2FtZVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnZW5lbXktZ2FtZS1zZWN0aW9uJyk7XHJcbiAgICBlbmVteUJvYXJkLmNsYXNzTGlzdC5hZGQoJ2VuZW15LWJvYXJkJyk7XHJcbiAgICBlbmVteVNoaXBzLmNsYXNzTGlzdC5hZGQoJ2VuZW15LXNoaXBzJyk7XHJcbiAgICBlbmVteU5hbWVCb3guY2xhc3NMaXN0LmFkZCgnZW5lbXktbmFtZS1ib3gnKTtcclxuICAgIGVuZW15TmFtZS5jbGFzc0xpc3QuYWRkKCdlbmVteS1uYW1lJyk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgZGl2RW5lbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnZGl2LWJveCcpO1xyXG4gICAgICAgIGRpdkVuZW15LmNsYXNzTGlzdC5hZGQoJ2Rpdi1ib3gnKTtcclxuXHJcbiAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgIGVuZW15Qm9hcmQuYXBwZW5kQ2hpbGQoZGl2RW5lbXkpO1xyXG4gICAgfVxyXG5cclxuICAgIG15TmFtZS50ZXh0Q29udGVudCA9ICdGcmFuY28nO1xyXG4gICAgZW5lbXlOYW1lLnRleHRDb250ZW50ID0gJ0VuZW15JztcclxuXHJcbiAgICBteU5hbWVCb3guYXBwZW5kQ2hpbGQobXlOYW1lKTtcclxuICAgIG15R2FtZVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlCb2FyZCk7XHJcbiAgICBteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKG15U2hpcHMpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15TmFtZUJveCk7XHJcbiAgICBteVNlY3Rpb24uYXBwZW5kQ2hpbGQobXlHYW1lU2VjdGlvbik7XHJcblxyXG4gICAgZW5lbXlOYW1lQm94LmFwcGVuZENoaWxkKGVuZW15TmFtZSk7XHJcbiAgICBlbmVteUdhbWVTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15Qm9hcmQpO1xyXG4gICAgZW5lbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteVNoaXBzKTtcclxuICAgIGVuZW15U2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteU5hbWVCb3gpO1xyXG4gICAgZW5lbXlTZWN0aW9uLmFwcGVuZENoaWxkKGVuZW15R2FtZVNlY3Rpb24pO1xyXG5cclxuICAgIG1haW4uYXBwZW5kQ2hpbGQobXlTZWN0aW9uKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoZW5lbXlTZWN0aW9uKTtcclxuXHJcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4tZ2FtZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhbiAoKSB7XHJcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuICAgIG1haW4uaW5uZXJIVE1MID0gJyc7XHJcbn1cclxuXHJcbmV4cG9ydCB7d3JpdGVOYW1lLCBjbGVhbiwgcmVuZGVySW5pdGFsQm9hcmRzfTtcclxuIiwiLy8gTGludGVyLCBQcmV0dGllciwgSmVzdC5jb25maWcgLy8gXHJcblxyXG5pbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIGNsZWFuLCByZW5kZXJJbml0YWxCb2FyZHMgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuXHJcbnJlbmRlckluaXRhbEJvYXJkcygpOyJdLCJuYW1lcyI6WyJTaGlwIiwiY29uc3RydWN0b3IiLCJzaXplIiwidGhpcyIsImhpdCIsInN1bmsiLCJjb29yZGluYXRlcyIsInJlZ2lzdGVySGl0IiwiaXNTdW5rIiwiYWRkQ29vcmRpbmF0ZXMiLCJwb3NpdGlvbiIsInB1c2giLCJHYW1lYm9hcmQiLCJib2FyZCIsInNoaXBzIiwiY3JlYXRlQm9hcmQiLCJpIiwiaiIsImNvb3JkaW5hdGUiLCJhdHRhY2tlZCIsIm1pc3NlZCIsImhhc1NoaXAiLCJzaGlwIiwiaXNWYWxpZCIsImFyciIsInNwbGl0IiwiYSIsIk51bWJlciIsImIiLCJnZXRCb2FyZCIsImFkZFNoaXAiLCJwbGFjZVNoaXAiLCJsZW5ndGgiLCJyZWNlaXZlQXR0YWNrIiwic3RyIiwiZm9yRWFjaCIsImluY2x1ZGVzIiwiZ2V0U2hpcHMiLCJhbGxTdW5rIiwiZXZlcnkiLCJQbGF5ZXIiLCJnYW1lYm9hcmQiLCJpc01vdmVMZWdhbCIsIm1vdmUiLCJtYWtlUmFuZG9tTW92ZSIsIm51bTEiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJudW0yIiwicmVzdWx0IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtYWluIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm15U2VjdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJteUdhbWVTZWN0aW9uIiwibXlCb2FyZCIsIm15U2hpcHMiLCJteU5hbWVCb3giLCJteU5hbWUiLCJlbmVteVNlY3Rpb24iLCJlbmVteUdhbWVTZWN0aW9uIiwiZW5lbXlCb2FyZCIsImVuZW15U2hpcHMiLCJlbmVteU5hbWVCb3giLCJlbmVteU5hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJkaXYiLCJkaXZFbmVteSIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJyZW5kZXJJbml0YWxCb2FyZHMiXSwic291cmNlUm9vdCI6IiJ9