(()=>{var e={776:e=>{class t{constructor(e){this.size=e,this.hit=0,this.sunk=!1,this.coordinates=[]}registerHit(){return this.hit+=1}isSunk(){return this.hit===this.size}addCoordinates(e){this.coordinates.push(e)}}class a{constructor(){this.board=[],this.ships=[]}createBoard(e=8){for(let t=0;t<e;t+=1)for(let a=0;a<e;a+=1){const e=`${t},${a}`;this.board[e]={coordinates:e,attacked:!1,missed:!1,hasShip:!1,ship:[]}}return this.board}isValid(e){let t=e.split(","),a=Number(t[0]),s=Number(t[1]);return a>=0&&a<=7&&s>=0&&s<=7}getBoard(){return this.board}addShip(e){this.ships.push(e)}placeShip(e,a){if(e!==a.length)return"Size and coordinates length should be equal";const s=new t(e);for(let e=0;e<a.length;e++){if(!this.isValid(a[e]))return`There is a Ship in ${a[e]}`;this.board[a[e]].ship.push(a),this.board[a[e]].hasShip=!0}return s.addCoordinates(a),this.addShip(s),this.board}isMoveLegal(e){return!this.board[e].attacked&&!this.board[e].missed}hasShip(e){return this.board[e].hasShip}placeEnemyShips(){let e=this.createCoordinates(),t=this.createCoordinates(),a=this.createCoordinates(),s=this.createCoordinates(),i=this.createCoordinates(),r=this.boardArray(),d=[this.getAdjacents(r,5,e),this.getAdjacents(r,4,t),this.getAdjacents(r,3,a),this.getAdjacents(r,3,s),this.getAdjacents(r,2,i)],o=[5,4,3,3,2],n=[];for(let e=0;e<d.length;e++){let t=d[e].filter((t=>t.length===o[e]));n.push(t)}return n.forEach((e=>{this.placeShip(e[0].length,e[0])})),this.board}createCoordinates(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.hasShip(a)){for(;this.hasShip(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}return a}getAdjacents(e,t,a){let s=[[],[],[],[]],i=8,r=1,d=8,o=1,n=0;for(let t=0;t<e.length;t++)if(e[t].coordinates===a){n=t;break}for(let l=0;l<t;l++){if(e[n-i]){let t=a.split(","),r=e[n-i].coordinates;r.split(","),r&&r.includes(t[1])&&(s[0].push(e[n-i].coordinates),i+=8)}if(e[n+r]){let t=a.split(","),i=e[n+r].coordinates,d=i.split(",");i&&d[0]===t[0]&&(s[1].push(e[n+r].coordinates),r++)}if(e[n+d]){let t=a.split(","),i=e[n+d].coordinates;i.split(","),i&&i.includes(t[1])&&(s[2].push(e[n+d].coordinates),d+=8)}if(e[n-o]){let t=a.split(","),i=e[n-o].coordinates,r=i.split(",");i&&r[0]===t[0]&&(s[3].push(e[n-o].coordinates),o++)}}return s}receiveAttack(e){let t=`${e}`;if(!this.board[t].attacked&&!this.board[t].missed)return this.board[t].hasShip?(this.board[t].attacked=!0,this.ships.forEach((e=>{e.coordinates[0].includes(t)&&(e.registerHit(),e.isSunk()&&(e.sunk=!0))}))):this.board[t].missed=!0,!0}getShips(){return this.ships}allSunk(){return this.ships.every((e=>!0===e.sunk))}boardArray(){const e=this.board,t=[];for(let a in e)t.push(e[a]);return t}}let s=new a;s.createBoard();let i=s.placeEnemyShips();console.log(i),e.exports={Ship:t,Gameboard:a,Player:class{constructor(e){this.gameboard=e}isMoveLegal(e){return!this.gameboard.board[e].attacked&&!this.gameboard.board[e].missed}makeRandomMove(){let e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;if(this.isMoveLegal(a))return a;for(;!this.isMoveLegal(a);)e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),a=`${e},${t}`;return a}}}}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}(()=>{"use strict";var e=a(776);function t(e){const t=document.querySelectorAll(".my-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="green"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue")}}function s(e){const t=document.querySelectorAll(".enemy-div-box");for(const a of t){let t=a.id.split(" ")[1];e.board[t].hasShip&&(a.style.background="orange"),e.board[t].attacked&&(a.innerHTML="âŒ",a.style.background="#F5C2C1"),e.board[t].missed&&(a.innerHTML="ðŸ’¦",a.style.background="lightblue"),e.board[t].hasShip&&(a.innerHTML="ðŸš¢",a.style.background="lightblue")}}function i(e,t){let a=document.querySelectorAll(".my-div-box"),s=e.boardArray();t?a.forEach((a=>{a.addEventListener("mouseover",(()=>{let i=a.id.split(","),r=`${i[0].split(" ")[1]},${i[1]}`;e.getAdjacents(s,t-1,r).forEach((e=>{for(let t=0;t<e.length;t++){let a=`P ${e[t]}`;document.getElementById(a).classList.add("over")}}))})),a.addEventListener("mouseout",(()=>{let i=a.id.split(","),r=`${i[0].split(" ")[1]},${i[1]}`;e.getAdjacents(s,t-1,r).forEach((e=>{e.forEach((e=>{let t=`P ${e}`;document.getElementById(t).classList.remove("over")}))}))}))})):alert("No size")}function r(e,t){e.forEach((e=>{e.classList.contains("ship-selected")&&e.classList.remove("ship-selected"),e===t&&e.classList.add("ship-selected")}))}!function(a){let d=new e.Gameboard,o=new e.Gameboard;d.createBoard(),o.createBoard(),function(e){const t=document.getElementById("main"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),d=document.createElement("h3"),o=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),h=document.createElement("div"),m=document.createElement("h3"),u=document.createElement("img"),p=document.createElement("img"),g=document.createElement("img"),b=document.createElement("img"),f=document.createElement("img");u.src="../dist/Images/5.png",p.src="../dist/Images/5.png",g.src="../dist/Images/5.png",b.src="../dist/Images/5.png",f.src="../dist/Images/5.png",[u,p,g,b,f].forEach((e=>{e.classList.add("ship"),o.appendChild(e)})),a.classList.add("my-section"),s.classList.add("my-game-section"),i.classList.add("my-board"),r.classList.add("my-name-box"),d.classList.add("my-name"),o.classList.add("my-ships"),n.classList.add("enemy-section"),l.classList.add("enemy-game-section"),c.classList.add("enemy-board"),h.classList.add("enemy-name-box"),m.classList.add("enemy-name");for(let e=0;e<8;e+=1)for(let t=0;t<8;t+=1){const a=`${e},${t}`,s=document.createElement("div"),r=document.createElement("div");s.classList.add("my-div-box"),r.classList.add("enemy-div-box"),s.id=`P ${a}`,r.id=`E ${a}`,i.appendChild(s),c.appendChild(r)}d.textContent=undefined,m.textContent="Enemy",r.appendChild(d),s.appendChild(i),a.appendChild(r),a.appendChild(s),h.appendChild(m),l.appendChild(c),n.appendChild(h),n.appendChild(l),t.appendChild(a),t.appendChild(o),t.appendChild(n),t.classList.add("main-game")}(),function(e){let t=document.querySelectorAll(".ship"),a=[5,4,3,3,2];document.querySelectorAll(".my-div-box");for(let s=0;s<t.length;s++){let d=t[s].dataset.size=a[s];t[s].addEventListener("click",(()=>{i(e,d),r(t,t[s])})),0===s&&t[s].click()}}(d);let n=new e.Player(d),l=new e.Player(o);o.receiveAttack("0,4"),o.placeEnemyShips(),t(n.gameboard),s(l.gameboard),[...document.querySelectorAll(".enemy-div-box")].forEach((e=>{e.addEventListener("click",(e=>{let a=e.target.id.split(" ")[1],i=l.makeRandomMove(),r=d.receiveAttack(i);o.receiveAttack(a)&&(s(l.gameboard),setTimeout((function(){for(;!r;)i=l.makeRandomMove(),r=d.receiveAttack(i);t(n.gameboard)}),1e3),d.allSunk(),o.allSunk())}))}))}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxHQUFHd0gsUUFBUXRJLEtBQU8yQyxFQUFNN0IsR0FFekNGLEVBQU1FLEdBQUdzRixpQkFBaUIsU0FBUyxLQUMvQkYsRUFBaUJDLEVBQVNuRyxHQUMxQjRHLEVBQWlCaEcsRUFBT0EsRUFBTUUsR0FBRyxJQUUxQixJQUFOQSxHQUFTRixFQUFNRSxHQUFHeUgsT0FDM0IsQ0FDSCxDQy9LSUMsQ0FBWXJDLEdBSVosSUFBSXNDLEVBQVMsSUFBSSxFQUFBM0QsT0FBT3FCLEdBQ3BCdUMsRUFBUSxJQUFJLEVBQUE1RCxPQUFPTCxHQUN2QkEsRUFBV1AsY0FBYyxPQUN6Qk8sRUFBV3hDLGtCQUdYc0QsRUFBY2tELEVBQU8xRCxXQUNyQmtCLEVBQWlCeUMsRUFBTTNELFdBR1YsSUFETVUsU0FBU0MsaUJBQWlCLG1CQUd0QzFDLFNBQVEyRixJQUNYQSxFQUFLdkMsaUJBQWlCLFNBQVV3QyxJQUM1QixJQUVJQyxFQUZlRCxFQUFFRSxPQUFPakQsR0FDRnRFLE1BQU0sS0FDZCxHQUVkd0gsRUFBWUwsRUFBTTFELGlCQUNsQmdFLEVBQWM3QyxFQUFRakMsY0FBYzZFLEdBQzNCdEUsRUFBV1AsY0FBYzJFLEtBR2xDNUMsRUFBaUJ5QyxFQUFNM0QsV0FDdkJrRSxZQUFXLFdBQ1AsTUFBUUQsR0FDSkQsRUFBWUwsRUFBTTFELGlCQUNsQmdFLEVBQWM3QyxFQUFRakMsY0FBYzZFLEdBRXhDeEQsRUFBY2tELEVBQU8xRCxVQUN2QixHQUFHLEtBR1FvQixFQUFROUIsVUFDTEksRUFBV0osVUFVL0IsR0FFRixHQUVWLENDMURBLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvcmVuZGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNoaXAgQ2xhc3MgLy9cclxuY2xhc3MgU2hpcCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5oaXQgPSAwO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckhpdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaXQgKz0gMTtcclxuICAgIH1cclxuXHJcbiAgICBpc1N1bmsoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0ID09PSB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29vcmRpbmF0ZXMgKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5jb29yZGluYXRlcy5wdXNoKHBvc2l0aW9uKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gR2FtZWJvYXJkIENsYXNzIC8vXHJcbmNsYXNzIEdhbWVib2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgdGhpcy5ib2FyZCA9IFtdIFxyXG4gICAgICAgIHRoaXMuc2hpcHMgPSBbXVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVCb2FyZChzaXplID0gOCApIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xyXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaXplOyBqICs9IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IGAke2l9LCR7an1gO1xyXG4gICAgICAgICAgICB0aGlzLmJvYXJkW2Nvb3JkaW5hdGVdID0geyBjb29yZGluYXRlczogY29vcmRpbmF0ZSwgYXR0YWNrZWQ6IGZhbHNlLCBtaXNzZWQ6IGZhbHNlLCBoYXNTaGlwOiBmYWxzZSwgc2hpcDogW10gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmJvYXJkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpc1ZhbGlkIChjb29yZGluYXRlcykge1xyXG4gICAgICAgIGxldCBhcnIgPSBjb29yZGluYXRlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgIGxldCBhID0gTnVtYmVyKGFyclswXSk7XHJcbiAgICAgICAgbGV0IGIgPSBOdW1iZXIoYXJyWzFdKTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiBhID49IDAgJiYgYSA8PSA3ICYmIGIgPj0gMCAmJiBiIDw9IDc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGdldEJvYXJkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJvYXJkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhZGRTaGlwIChzaGlwKSB7XHJcbiAgICAgICAgdGhpcy5zaGlwcy5wdXNoKHNoaXApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBwbGFjZVNoaXAgKHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgaWYgKHNpemUgIT09IGNvb3JkaW5hdGVzLmxlbmd0aCkgcmV0dXJuICdTaXplIGFuZCBjb29yZGluYXRlcyBsZW5ndGggc2hvdWxkIGJlIGVxdWFsJztcclxuXHJcbiAgICAgICAgY29uc3Qgc2hpcCA9IG5ldyBTaGlwKHNpemUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKGNvb3JkaW5hdGVzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRbY29vcmRpbmF0ZXNbaV1dLnNoaXAucHVzaChjb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2FyZFtjb29yZGluYXRlc1tpXV0uaGFzU2hpcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBgVGhlcmUgaXMgYSBTaGlwIGluICR7Y29vcmRpbmF0ZXNbaV19YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaGlwLmFkZENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTaGlwKHNoaXApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2FyZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXNNb3ZlTGVnYWwgKG1vdmUpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuYm9hcmRbbW92ZV0uYXR0YWNrZWQgJiYgIXRoaXMuYm9hcmRbbW92ZV0ubWlzc2VkO1xyXG4gICAgfVxyXG4gICAgICAgIFxyXG4gICAgaGFzU2hpcCAoY29vcmRpbmF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib2FyZFtjb29yZGluYXRlXS5oYXNTaGlwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIHBsYWNlRW5lbXlTaGlwcyAoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlQ2FycmllciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVCYXR0bGVzaGlwID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZUNydWlzZXIgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGxldCBjb29yZGluYXRlU3VibWFyaW5lID0gdGhpcy5jcmVhdGVDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZURlc3Ryb3llciA9IHRoaXMuY3JlYXRlQ29vcmRpbmF0ZXMoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhcnJheSA9IHRoaXMuYm9hcmRBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNhcnJpZXIgPSB0aGlzLmdldEFkamFjZW50cyhhcnJheSwgNSwgY29vcmRpbmF0ZUNhcnJpZXIpO1xyXG4gICAgICAgICAgICBsZXQgYmF0dGxlc2hpcCA9IHRoaXMuZ2V0QWRqYWNlbnRzKGFycmF5LCA0LCBjb29yZGluYXRlQmF0dGxlc2hpcCk7XHJcbiAgICAgICAgICAgIGxldCBjcnVpc2VyID0gdGhpcy5nZXRBZGphY2VudHMoYXJyYXksIDMsIGNvb3JkaW5hdGVDcnVpc2VyKTtcclxuICAgICAgICAgICAgbGV0IHN1Ym1hcmluZSA9IHRoaXMuZ2V0QWRqYWNlbnRzKGFycmF5LCAzLCBjb29yZGluYXRlU3VibWFyaW5lKTtcclxuICAgICAgICAgICAgbGV0IGRlc3Ryb3llciA9IHRoaXMuZ2V0QWRqYWNlbnRzKGFycmF5LCAyLCBjb29yZGluYXRlRGVzdHJveWVyKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzaGlwcyA9IFtjYXJyaWVyLCBiYXR0bGVzaGlwLCBjcnVpc2VyLCBzdWJtYXJpbmUsIGRlc3Ryb3llcl07XHJcbiAgICAgICAgICAgIGxldCBzaXplcyA9IFs1LDQsMywzLDJdO1xyXG4gICAgICAgICAgICBsZXQgZmlsdGVyZWQgPSBbXTtcclxuICAgICAgICAgICAgbGV0IHViaWNhdGlvbiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzaGlwc1tpXS5maWx0ZXIocG9zID0+IHBvcy5sZW5ndGggPT09IHNpemVzW2ldKTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBmaWx0ZXJlZC5mb3JFYWNoKHNldE9mQ29vcmRpbmF0ZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2V0T2ZDb29yZGluYXRlc1swXS5sZW5ndGgsIHNldE9mQ29vcmRpbmF0ZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZVNoaXAoc2V0T2ZDb29yZGluYXRlc1swXS5sZW5ndGgsIHNldE9mQ29vcmRpbmF0ZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCBhZmZpcm1hdGl2ZSA9IHBvcy5ldmVyeShwb3NpdGlvbiA9PiB0aGlzLmhhc1NoaXAocG9zaXRpb24pID09PSBmYWxzZSk7IC8vIG5vIHNoaXBzIGluIHRoZSBjb29yZGluYXRlcyAvLyBcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYWZmaXJtYXRpdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdWJpY2F0aW9uLnB1c2goW3Bvc10pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnBsYWNlU2hpcChwb3MubGVuZ3RoLCBwb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGV0IGFkajtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2hpbGUgKCFhZmZpcm1hdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGV0IGNvb3JkaW5hdGUgPSB0aGlzLmNyZWF0ZUNvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBhZGogPSB0aGlzLmdldEFkamFjZW50cyhhcnJheSwgcG9zLmxlbmd0aCwgY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBhZmZpcm1hdGl2ZSA9IGFkaltpbmRleF0uZXZlcnkocG9zaXRpb24gPT4gdGhpcy5oYXNTaGlwKHBvc2l0aW9uKSA9PT0gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHViaWNhdGlvbi5wdXNoKHBvcy5sZW5ndGgsIHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMucGxhY2VTaGlwKHBvcy5sZW5ndGgsIHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9hcmQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjcmVhdGVDb29yZGluYXRlcyAoKSB7XHJcbiAgICAgICAgbGV0IG51bTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IG51bTIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA4KTsgXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzU2hpcChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaGFzU2hpcChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgICBnZXRBZGphY2VudHMgKGFycmF5Qm9hcmQsIHNpemUsIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgbGV0IGFkamFjZW50cyA9IFtbXSxbXSxbXSxbXV07XHJcbiAgICAgICAgbGV0IHVwID0gODtcclxuICAgICAgICBsZXQgcmlnaHQgPSAxO1xyXG4gICAgICAgIGxldCBkb3duID0gODtcclxuICAgICAgICBsZXQgbGVmdCA9IDE7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgLy8gZ2V0IGluZGV4IC8vXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJheUJvYXJkLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2pdLmNvb3JkaW5hdGVzID09PSBjb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIDQgYWRqYWNlbnRzIC8vIFxyXG4gICAgICAgICAgICBpZiAoYXJyYXlCb2FyZFtpbmRleCAtIHVwXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggLSB1cF0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgcGxhY2UuaW5jbHVkZXMoc3BsaXRbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzBdLnB1c2goYXJyYXlCb2FyZFtpbmRleCAtIHVwXS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXAgKz0gODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXJyYXlCb2FyZFtpbmRleCArIHJpZ2h0XSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggKyByaWdodF0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgcGxhY2VTcGxpdFswXSA9PT0gc3BsaXRbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGphY2VudHNbMV0ucHVzaChhcnJheUJvYXJkW2luZGV4ICsgcmlnaHRdLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICByaWdodCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJheUJvYXJkW2luZGV4ICsgZG93bl0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2UgPSBhcnJheUJvYXJkW2luZGV4ICsgZG93bl0uY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxhY2VTcGxpdCA9IHBsYWNlLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxhY2UgJiYgcGxhY2UuaW5jbHVkZXMoc3BsaXRbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqYWNlbnRzWzJdLnB1c2goYXJyYXlCb2FyZFtpbmRleCArIGRvd25dLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3duICs9IDg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0ID0gY29vcmRpbmF0ZXMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZSA9IGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XS5jb29yZGluYXRlcztcclxuICAgICAgICAgICAgICAgIGxldCBwbGFjZVNwbGl0ID0gcGxhY2Uuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFjZSAmJiBwbGFjZVNwbGl0WzBdID09PSBzcGxpdFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW50c1szXS5wdXNoKGFycmF5Qm9hcmRbaW5kZXggLSBsZWZ0XS5jb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhZGphY2VudHM7XHJcbiAgICB9XHJcblxyXG4gICAgICByZWNlaXZlQXR0YWNrIChjb29yZGluYXRlcykge1xyXG4gICAgICAgIGxldCBzdHIgPSBgJHtjb29yZGluYXRlc31gO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5ib2FyZFtzdHJdLmF0dGFja2VkIHx8IHRoaXMuYm9hcmRbc3RyXS5taXNzZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbc3RyXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbc3RyXS5hdHRhY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwLmNvb3JkaW5hdGVzWzBdLmluY2x1ZGVzKHN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwLnJlZ2lzdGVySGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHNoaXAuc3VuayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvYXJkW3N0cl0ubWlzc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGdldFNoaXBzICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaGlwcztcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsU3VuayAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLnN1bmsgPT09IHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBib2FyZEFycmF5ICgpIHtcclxuICAgICAgICBjb25zdCBvYmogPSB0aGlzLmJvYXJkO1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcclxuICAgICAgICAgICAgYXJyYXkucHVzaChvYmpba2V5XSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgIH1cclxufVxyXG5cclxuXHJcbmxldCBlbmVteUJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG5lbmVteUJvYXJkLmNyZWF0ZUJvYXJkKCk7XHJcblxyXG5cclxubGV0IHJlc3VsdCA9IGVuZW15Qm9hcmQucGxhY2VFbmVteVNoaXBzKCk7XHJcbmNvbnNvbGUubG9nKHJlc3VsdCk7XHJcblxyXG5cclxuXHJcblxyXG4vLyBQbGF5ZXIgQ2xhc3MgLy9cclxuY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yIChnYW1lYm9hcmQpIHtcclxuICAgICAgICB0aGlzLmdhbWVib2FyZCA9IGdhbWVib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBpc01vdmVMZWdhbCAobW92ZSkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5nYW1lYm9hcmQuYm9hcmRbbW92ZV0uYXR0YWNrZWQgJiYgIXRoaXMuZ2FtZWJvYXJkLmJvYXJkW21vdmVdLm1pc3NlZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWFrZVJhbmRvbU1vdmUgKCkge1xyXG4gICAgICAgIGxldCBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCBudW0yID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgIGxldCByZXN1bHQgPSBgJHtudW0xfSwke251bTJ9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3ZlTGVnYWwocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcclxuXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghdGhpcy5pc01vdmVMZWdhbChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBudW0xID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOCk7IFxyXG4gICAgICAgICAgICAgICAgbnVtMiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDgpOyBcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGAke251bTF9LCR7bnVtMn1gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIERPTSBNYW5pcHVsYXRpb24sIFJlbmRlciB0aGUgR2FtZSAvLyBcclxuXHJcbi8vIFJlbmRlciBXcml0ZSBZb3VyIE5hbWUgLy8gXHJcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XHJcblxyXG5mdW5jdGlvbiB3cml0ZU5hbWUgKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgIGNvbnN0IHBsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG5cclxuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdwb3AtdXAtYm94Jyk7XHJcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZS1wb3AtdXAnKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuXHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdXcml0ZSB5b3VyIE5hbWUnO1xyXG4gICAgcGxheS5pbm5lckhUTUwgPSAnQmF0dGxlJztcclxuICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XHJcbiAgICBwbGF5LnR5cGUgPSAnc3VibWl0JztcclxuXHJcbiAgICBib3guYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG4gICAgYm94LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIGdhbWUoaW5wdXQudmFsdWUpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckluaXRhbEJvYXJkcyAobmFtZSkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcblxyXG4gICAgY29uc3QgbXlTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUdhbWVTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteUJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBteU5hbWVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IG15TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHNoaXBzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGVuZW15U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlHYW1lU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlCb2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgZW5lbXlOYW1lQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBlbmVteU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG5cclxuICAgIGNvbnN0IGNhcnJpZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGNvbnN0IGJhdHRsZXNoaXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGNvbnN0IGNydWlzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgIGNvbnN0IHN1Ym1hcmluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgY29uc3QgZGVzdHJveWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblxyXG4gICAgY2Fycmllci5zcmMgPSAnLi4vZGlzdC9JbWFnZXMvNS5wbmcnO1xyXG4gICAgYmF0dGxlc2hpcC5zcmMgPSAnLi4vZGlzdC9JbWFnZXMvNS5wbmcnO1xyXG4gICAgY3J1aXNlci5zcmMgPSAnLi4vZGlzdC9JbWFnZXMvNS5wbmcnO1xyXG4gICAgc3VibWFyaW5lLnNyYyA9ICcuLi9kaXN0L0ltYWdlcy81LnBuZyc7XHJcbiAgICBkZXN0cm95ZXIuc3JjID0gJy4uL2Rpc3QvSW1hZ2VzLzUucG5nJztcclxuXHJcblxyXG4gICAgY29uc3Qgc2hpcHMgPSBbY2FycmllciwgYmF0dGxlc2hpcCwgY3J1aXNlciwgc3VibWFyaW5lLCBkZXN0cm95ZXJdO1xyXG5cclxuXHJcbiAgICBzaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xyXG4gICAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLmFwcGVuZENoaWxkKHNoaXApO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBteVNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbXktc2VjdGlvbicpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdteS1nYW1lLXNlY3Rpb24nKTtcclxuICAgIG15Qm9hcmQuY2xhc3NMaXN0LmFkZCgnbXktYm9hcmQnKTtcclxuICAgIG15TmFtZUJveC5jbGFzc0xpc3QuYWRkKCdteS1uYW1lLWJveCcpO1xyXG4gICAgbXlOYW1lLmNsYXNzTGlzdC5hZGQoJ215LW5hbWUnKTtcclxuICAgIFxyXG4gICAgc2hpcHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbXktc2hpcHMnKTtcclxuICAgIGVuZW15U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdlbmVteS1zZWN0aW9uJyk7XHJcbiAgICBlbmVteUdhbWVTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2VuZW15LWdhbWUtc2VjdGlvbicpO1xyXG4gICAgZW5lbXlCb2FyZC5jbGFzc0xpc3QuYWRkKCdlbmVteS1ib2FyZCcpO1xyXG4gICAgZW5lbXlOYW1lQm94LmNsYXNzTGlzdC5hZGQoJ2VuZW15LW5hbWUtYm94Jyk7XHJcbiAgICBlbmVteU5hbWUuY2xhc3NMaXN0LmFkZCgnZW5lbXktbmFtZScpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSArPSAxKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyBqICs9IDEpIHtcclxuICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGUgPSBgJHtpfSwke2p9YDtcclxuICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgY29uc3QgZGl2RW5lbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdteS1kaXYtYm94Jyk7XHJcbiAgICAgICAgICBkaXZFbmVteS5jbGFzc0xpc3QuYWRkKCdlbmVteS1kaXYtYm94Jyk7XHJcblxyXG4gICAgICAgICAgZGl2LmlkID0gYFAgJHtjb29yZGluYXRlfWA7XHJcbiAgICAgICAgICBkaXZFbmVteS5pZCA9IGBFICR7Y29vcmRpbmF0ZX1gO1xyXG4gIFxyXG4gICAgICAgICAgbXlCb2FyZC5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgZW5lbXlCb2FyZC5hcHBlbmRDaGlsZChkaXZFbmVteSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG15TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBlbmVteU5hbWUudGV4dENvbnRlbnQgPSAnRW5lbXknO1xyXG5cclxuICAgIG15TmFtZUJveC5hcHBlbmRDaGlsZChteU5hbWUpO1xyXG4gICAgbXlHYW1lU2VjdGlvbi5hcHBlbmRDaGlsZChteUJvYXJkKTtcclxuICAgIG15U2VjdGlvbi5hcHBlbmRDaGlsZChteU5hbWVCb3gpO1xyXG4gICAgbXlTZWN0aW9uLmFwcGVuZENoaWxkKG15R2FtZVNlY3Rpb24pO1xyXG4gICAgXHJcbiAgICBlbmVteU5hbWVCb3guYXBwZW5kQ2hpbGQoZW5lbXlOYW1lKTtcclxuICAgIGVuZW15R2FtZVNlY3Rpb24uYXBwZW5kQ2hpbGQoZW5lbXlCb2FyZCk7XHJcbiAgICBlbmVteVNlY3Rpb24uYXBwZW5kQ2hpbGQoZW5lbXlOYW1lQm94KTtcclxuICAgIGVuZW15U2VjdGlvbi5hcHBlbmRDaGlsZChlbmVteUdhbWVTZWN0aW9uKTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKG15U2VjdGlvbik7XHJcbiAgICBtYWluLmFwcGVuZENoaWxkKHNoaXBzQ29udGFpbmVyKTtcclxuICAgIG1haW4uYXBwZW5kQ2hpbGQoZW5lbXlTZWN0aW9uKTtcclxuXHJcbiAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ21haW4tZ2FtZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJNeUJvYXJkIChib2FyZCkge1xyXG4gICAgY29uc3QgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktZGl2LWJveCcpO1xyXG5cclxuICAgIGZvciAoY29uc3QgYm94IG9mIGJveGVzKSB7XHJcbiAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYm94LmlkO1xyXG4gICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgbGV0IG51bSA9IHNwbGl0WzFdOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2dyZWVuJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0uYXR0YWNrZWQpIHtcclxuICAgICAgICAgICAgYm94LmlubmVySFRNTCA9ICfinYwnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICcjRjVDMkMxJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJvYXJkLmJvYXJkW251bV0ubWlzc2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+Spic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJFbmVteUJvYXJkIChib2FyZCkge1xyXG4gICAgY29uc3QgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZW5lbXktZGl2LWJveCcpO1xyXG5cclxuICAgIGZvciAoY29uc3QgYm94IG9mIGJveGVzKSB7XHJcbiAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYm94LmlkO1xyXG4gICAgICAgIGxldCBzcGxpdCA9IGNvb3JkaW5hdGVzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgbGV0IG51bSA9IHNwbGl0WzFdOyBcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ29yYW5nZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLmF0dGFja2VkKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn4p2MJztcclxuICAgICAgICAgICAgYm94LnN0eWxlLmJhY2tncm91bmQgPSAnI0Y1QzJDMSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChib2FyZC5ib2FyZFtudW1dLm1pc3NlZCkge1xyXG4gICAgICAgICAgICBib3guaW5uZXJIVE1MID0gJ/CfkqYnO1xyXG4gICAgICAgICAgICBib3guc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGJsdWUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYm9hcmQuYm9hcmRbbnVtXS5oYXNTaGlwKSB7XHJcbiAgICAgICAgICAgIGJveC5pbm5lckhUTUwgPSAn8J+aoic7XHJcbiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RTaGlwcyAobXlCb2FyZCkge1xyXG4gICAgbGV0IHNoaXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNoaXAnKTtcclxuICAgIGxldCBzaXplcyA9IFs1LDQsMywzLDJdO1xyXG4gICAgbGV0IGJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LWRpdi1ib3gnKTtcclxuXHJcblxyXG4gICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICBsZXQgc2l6ZSA9IHNoaXBzW2ldLmRhdGFzZXQuc2l6ZSA9IHNpemVzW2ldO1xyXG4gICAgICAgXHJcbiAgICAgICBzaGlwc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICBhZGRCb3hlc0xpc3RlbmVyKG15Qm9hcmQsIHNpemUpO1xyXG4gICAgICAgICAgIGhhbmRsZVNoaXBDbGFzZXMoc2hpcHMsIHNoaXBzW2ldKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkgc2hpcHNbaV0uY2xpY2soKTtcclxuICAgfTtcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBhZGRCb3hlc0xpc3RlbmVyIChteUJvYXJkLCBzaXplKSB7XHJcbiAgICBsZXQgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktZGl2LWJveCcpO1xyXG4gICAgbGV0IGFycmF5ID0gbXlCb2FyZC5ib2FyZEFycmF5KCk7XHJcblxyXG4gICAgaWYgKHNpemUpIHtcclxuICAgICAgICBib3hlcy5mb3JFYWNoKGJveCA9PiB7XHJcbiAgICAgICAgICAgIGJveC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYm94SWQgPSBib3guaWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBib3hJZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1dCA9IHNwbGl0WzBdLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYCR7Y3V0WzFdfSwke3NwbGl0WzFdfWA7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBteUJvYXJkLmdldEFkamFjZW50cyhhcnJheSwgc2l6ZSAtIDEsIGNvb3JkaW5hdGVzKTsgLy8gZ2V0IDQgYWRqYWNlbnRzIC8vXHJcblxyXG4gICAgICAgICAgICAgICAgYWRqYWNlbnRzLmZvckVhY2goYWRqID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkai5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBgUCAke2FkaltpXX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGouZm9yRWFjaChzZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgaWQgPSBgUCAke3NldH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBmaXggYnVnIHJlbmRlciBzaXplcy8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGl2LnN0eWxlLmJvcmRlciA9ICcxcHggc29saWQgd2hpdGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYm94SWQgPSBib3guaWQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXQgPSBib3hJZC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1dCA9IHNwbGl0WzBdLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYCR7Y3V0WzFdfSwke3NwbGl0WzFdfWA7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBteUJvYXJkLmdldEFkamFjZW50cyhhcnJheSwgc2l6ZSAtIDEsIGNvb3JkaW5hdGVzKTsgLy8gZ2V0IDQgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGFkamFjZW50cy5mb3JFYWNoKGFkaiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRqLmZvckVhY2goc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gYFAgJHtzZXR9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydCgnTm8gc2l6ZScpOyB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZW1vdmVCb3hlc0xpc3RlbmVyIChteUJvYXJkLCBzaXplKSB7XHJcbiAgICBsZXQgYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktZGl2LWJveCcpO1xyXG4gICAgYm94ZXMuZm9yRWFjaChib3ggPT4ge1xyXG4gICAgICAgIGJveC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBib3hJZCA9IGJveC5pZDtcclxuICAgICAgICAgICAgbGV0IHNwbGl0ID0gYm94SWQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgbGV0IGN1dCA9IHNwbGl0WzBdLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29vcmRpbmF0ZXMgPSBgJHtjdXRbMV19LCR7c3BsaXRbMV19YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBhZGphY2VudHMgPSBteUJvYXJkLmdldEFkamFjZW50cyhhcnJheSwgc2l6ZSwgY29vcmRpbmF0ZXMpOyAvLyBnZXQgNCBhZGphY2VudHMgLy9cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGFkamFjZW50cy5mb3JFYWNoKGFkaiA9PiB7XHJcbiAgICAgICAgICAgICAgICBhZGouZm9yRWFjaChzZXQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGBQICR7c2V0fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYm94LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYm94SWQgPSBib3guaWQ7XHJcbiAgICAgICAgICAgIGxldCBzcGxpdCA9IGJveElkLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIGxldCBjdXQgPSBzcGxpdFswXS5zcGxpdCgnICcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvb3JkaW5hdGVzID0gYCR7Y3V0WzFdfSwke3NwbGl0WzFdfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgYWRqYWNlbnRzID0gbXlCb2FyZC5nZXRBZGphY2VudHMoYXJyYXksIHNpemUsIGNvb3JkaW5hdGVzKTsgLy8gZ2V0IDQgYWRqYWNlbnRzIC8vXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhZGphY2VudHMuZm9yRWFjaChhZGogPT4ge1xyXG4gICAgICAgICAgICAgICAgYWRqLmZvckVhY2goc2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBgUCAke3NldH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBwcmludEFkamFjZW50cyAoYWRqYWNlbnRzLCBzaXplKSB7XHJcbiAgICBjb25zb2xlLmxvZyhhZGphY2VudHMpO1xyXG4gICAgLy8gaWYgKGFkamFjZW50cy5sZW5ndGggIT09IHNpemUpIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIGFkamFjZW50cy5mb3JFYWNoKGFkaiA9PiB7XHJcbiAgICAvLyAgICAgbGV0IGlkID0gYFAgJHthZGp9YDtcclxuICAgIC8vICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIFxyXG4gICAgLy8gICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JsYWNrJztcclxuICAgIC8vIH0pXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTaGlwQ2xhc2VzIChzaGlwcywgc2VsZWN0ZWQpIHtcclxuICAgIHNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgaWYgKHNoaXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGlwLXNlbGVjdGVkJykpIHtcclxuICAgICAgICAgICAgc2hpcC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlwLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaGlwID09PSBzZWxlY3RlZCkgc2hpcC5jbGFzc0xpc3QuYWRkKCdzaGlwLXNlbGVjdGVkJyk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcm9wU2hpcHMgKGFkamFjZW50cykge1xyXG4gICAgLy8gNCBhZGphY2VudHMgLy8gaWYga2V5IHVwIHNob3cgYWRqYWNlbnRzWzBdLCBpZiBrZXkgZG93biBzaG93IGFkamFjZW50c1syXSBhbmQgc28gb24gLy8gXHJcblxyXG5cclxuICAgIGxldCBib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5teS1kaXYtYm94Jyk7XHJcbiAgICBcclxuICAgIGJveGVzLmZvckVhY2goZGl2ID0+IHtcclxuICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGJveElkID0gZGl2LmlkO1xyXG4gICAgICAgICAgICAvLyA0LDQgLy9cclxuICAgICAgICAgICAgbGV0IHNwbGl0ID0gYm94SWQuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgbGV0IGFkamFjZW50cyA9IFtib3hJZF07XHJcbiAgICAgICAgICAgIGxldCBqID0gc3BsaXRbMV07XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPiA3KSBicmVhaztcclxuICAgICAgICAgICAgICAgIGFkamFjZW50cy5wdXNoKGAke3NwbGl0WzBdfSwgJHtzcGxpdFtqXX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGphY2VudHMuZm9yRWFjaChhZGogPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNpZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYWRqKTtcclxuICAgICAgICAgICAgICAgIHNpZGVzLnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvLyBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdibGFjayc7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKGUpID0+IHtcclxuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJXaW4gKCkge1xyXG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJyk7XHJcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTsgXHJcbiAgICBjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuXHJcbiAgICBib3guY2xhc3NMaXN0LmFkZCgncG9wLXVwLWJveCcpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZCgndGl0bGUtcG9wLXVwJyk7XHJcbiAgICBwbGF5LmNsYXNzTGlzdC5hZGQoJ3BsYXktYnV0dG9uJyk7XHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnWW91IFdpbic7XHJcbiAgICBwbGF5LmlubmVySFRNTCA9ICdQbGF5IEFnYWluJztcclxuICAgIHBsYXkudHlwZSA9ICdzdWJtaXQnO1xyXG5cclxuICAgIGJveC5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBib3guYXBwZW5kQ2hpbGQocGxheSk7XHJcblxyXG4gICAgbWFpbi5hcHBlbmRDaGlsZChib3gpO1xyXG5cclxuICAgIHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICB3cml0ZU5hbWUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJMb3NlICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7IFxyXG4gICAgY29uc3QgcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcblxyXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ3BvcC11cC1ib3gnKTtcclxuICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ3RpdGxlLXBvcC11cCcpO1xyXG4gICAgcGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5LWJ1dHRvbicpO1xyXG5cclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ1lvdSBMb3NlJztcclxuICAgIHBsYXkuaW5uZXJIVE1MID0gJ1BsYXkgQWdhaW4nO1xyXG4gICAgcGxheS50eXBlID0gJ3N1Ym1pdCc7XHJcblxyXG4gICAgYm94LmFwcGVuZENoaWxkKHRpdGxlKTtcclxuICAgIGJveC5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHJcbiAgICBtYWluLmFwcGVuZENoaWxkKGJveCk7XHJcblxyXG4gICAgcGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIHdyaXRlTmFtZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuICgpIHtcclxuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbicpO1xyXG4gICAgbWFpbi5pbm5lckhUTUwgPSAnJztcclxufVxyXG5cclxuXHJcbmV4cG9ydCB7d3JpdGVOYW1lLCBjbGVhbiwgcmVuZGVySW5pdGFsQm9hcmRzLCByZW5kZXJNeUJvYXJkLCByZW5kZXJFbmVteUJvYXJkLCByZW5kZXJXaW4sIHJlbmRlckxvc2UsIHNlbGVjdFNoaXBzLCBhZGRCb3hlc0xpc3RlbmVyfTtcclxuIiwiaW1wb3J0IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIgfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcclxuaW1wb3J0IHsgd3JpdGVOYW1lLCByZW5kZXJJbml0YWxCb2FyZHMsIHJlbmRlck15Qm9hcmQsIHJlbmRlckVuZW15Qm9hcmQsICBjbGVhbiwgcmVuZGVyV2luLCByZW5kZXJMb3NlLCBzZWxlY3RTaGlwcywgYWRkQm94ZXNMaXN0ZW5lciB9IGZyb20gXCIuL3JlbmRlclwiO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdhbWUgKG5hbWUpIHtcclxuICAgIGxldCBteUJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG4gICAgbGV0IGVuZW15Qm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XHJcbiAgICBcclxuICAgIG15Qm9hcmQuY3JlYXRlQm9hcmQoKTtcclxuICAgIGVuZW15Qm9hcmQuY3JlYXRlQm9hcmQoKTtcclxuXHJcbiAgICByZW5kZXJJbml0YWxCb2FyZHMobmFtZSk7XHJcbiAgICBzZWxlY3RTaGlwcyhteUJvYXJkKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIGxldCBwbGF5ZXIgPSBuZXcgUGxheWVyKG15Qm9hcmQpO1xyXG4gICAgbGV0IGVuZW15ID0gbmV3IFBsYXllcihlbmVteUJvYXJkKTtcclxuICAgIGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjaygnMCw0Jyk7XHJcbiAgICBlbmVteUJvYXJkLnBsYWNlRW5lbXlTaGlwcygpO1xyXG5cclxuICAgIFxyXG4gICAgcmVuZGVyTXlCb2FyZChwbGF5ZXIuZ2FtZWJvYXJkKTtcclxuICAgIHJlbmRlckVuZW15Qm9hcmQoZW5lbXkuZ2FtZWJvYXJkKTtcclxuXHJcbiAgICBjb25zdCBlbmVteUJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVuZW15LWRpdi1ib3gnKTtcclxuICAgIGxldCBlQm94ZXMgPSBbLi4uZW5lbXlCb3hlc107XHJcblxyXG4gICAgZUJveGVzLmZvckVhY2goZUJveCA9PiB7XHJcbiAgICAgICAgZUJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBlQ29vcmRpbmF0ZXMgPSBlLnRhcmdldC5pZDtcclxuICAgICAgICAgICAgbGV0IGVTcGxpdCA9IGVDb29yZGluYXRlcy5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICBsZXQgZU51bSA9IGVTcGxpdFsxXTsgXHJcblxyXG4gICAgICAgICAgICBsZXQgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGVuZW15QXR0YWNrID0gbXlCb2FyZC5yZWNlaXZlQXR0YWNrKGVuZW15TW92ZSk7XHJcbiAgICAgICAgICAgIGxldCBhdHRhY2sgPSBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2soZU51bSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXR0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJFbmVteUJvYXJkKGVuZW15LmdhbWVib2FyZCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghZW5lbXlBdHRhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlNb3ZlID0gZW5lbXkubWFrZVJhbmRvbU1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlBdHRhY2sgPSBteUJvYXJkLnJlY2VpdmVBdHRhY2soZW5lbXlNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTXlCb2FyZChwbGF5ZXIuZ2FtZWJvYXJkKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7IFxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IG15U3VuayA9IG15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZW15U3VuayA9IGVuZW15Qm9hcmQuYWxsU3VuaygpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAvLyBpZiAobXlTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY2xlYW4oKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICByZW5kZXJMb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGVuZW15U3Vuaykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNsZWFuKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgcmVuZGVyV2luKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAxLiBDcmVhdGUgdGhlIG1haW4gZ2FtZSBsb29wIGFuZCBhIG1vZHVsZSBmb3IgRE9NIGludGVyYWN0aW9uLlxyXG4vLyAgICAgIGEuIEF0IHRoaXMgcG9pbnQgaXQgaXMgYXBwcm9wcmlhdGUgdG8gYmVnaW4gY3JhZnRpbmcgeW91ciBVc2VyIEludGVyZmFjZS5cclxuLy8gICAgICBiLiBUaGUgZ2FtZSBsb29wIHNob3VsZCBzZXQgdXAgYSBuZXcgZ2FtZSBieSBjcmVhdGluZyBQbGF5ZXJzIGFuZCBHYW1lYm9hcmRzLiBGb3Igbm93IGp1c3QgcG9wdWxhdGUgZWFjaCBHYW1lYm9hcmQgd2l0aCBwcmVkZXRlcm1pbmVkIGNvb3JkaW5hdGVzLiBZb3UgY2FuIGltcGxlbWVudCBhIHN5c3RlbSBmb3IgYWxsb3dpbmcgcGxheWVycyB0byBwbGFjZSB0aGVpciBzaGlwcyBsYXRlci5cclxuLy8gICAgICBjLiBXZeKAmWxsIGxlYXZlIHRoZSBIVE1MIGltcGxlbWVudGF0aW9uIHVwIHRvIHlvdSBmb3Igbm93LCBidXQgeW91IHNob3VsZCBkaXNwbGF5IGJvdGggdGhlIHBsYXllcuKAmXMgYm9hcmRzIGFuZCByZW5kZXIgdGhlbSB1c2luZyBpbmZvcm1hdGlvbiBmcm9tIHRoZSBHYW1lYm9hcmQgY2xhc3MvZmFjdG9yeS5cclxuLy8gICAgICAgICAgYS4gWW91IG5lZWQgbWV0aG9kcyB0byByZW5kZXIgdGhlIGdhbWVib2FyZHMgYW5kIHRvIHRha2UgdXNlciBpbnB1dCBmb3IgYXR0YWNraW5nLiBGb3IgYXR0YWNrcywgbGV0IHRoZSB1c2VyIGNsaWNrIG9uIGEgY29vcmRpbmF0ZSBpbiB0aGUgZW5lbXkgR2FtZWJvYXJkLlxyXG4vLyAgICAgIGQuIFRoZSBnYW1lIGxvb3Agc2hvdWxkIHN0ZXAgdGhyb3VnaCB0aGUgZ2FtZSB0dXJuIGJ5IHR1cm4gdXNpbmcgb25seSBtZXRob2RzIGZyb20gb3RoZXIgb2JqZWN0cy4gSWYgYXQgYW55IHBvaW50IHlvdSBhcmUgdGVtcHRlZCB0byB3cml0ZSBhIG5ldyBmdW5jdGlvbiBpbnNpZGUgdGhlIGdhbWUgbG9vcCwgc3RlcCBiYWNrIGFuZCBmaWd1cmUgb3V0IHdoaWNoIGNsYXNzIG9yIG1vZHVsZSB0aGF0IGZ1bmN0aW9uIHNob3VsZCBiZWxvbmcgdG8uXHJcbi8vICAgICAgZS4gQ3JlYXRlIGNvbmRpdGlvbnMgc28gdGhhdCB0aGUgZ2FtZSBlbmRzIG9uY2Ugb25lIHBsYXllcuKAmXMgc2hpcHMgaGF2ZSBhbGwgYmVlbiBzdW5rLiBUaGlzIGZ1bmN0aW9uIGlzIGFwcHJvcHJpYXRlIGZvciB0aGUgR2FtZSBtb2R1bGUuXHJcblxyXG5cclxuLy8gMi4gRmluaXNoIGl0IHVwXHJcbi8vICAgICAgYS4gVGhlcmUgYXJlIHNldmVyYWwgb3B0aW9ucyBhdmFpbGFibGUgZm9yIGxldHRpbmcgdXNlcnMgcGxhY2UgdGhlaXIgc2hpcHMuIFlvdSBjYW4gbGV0IHRoZW0gdHlwZSBjb29yZGluYXRlcyBmb3IgZWFjaCBzaGlwLCBvciBpbnZlc3RpZ2F0ZSBpbXBsZW1lbnRpbmcgZHJhZyBhbmQgZHJvcC5cclxuLy8gICAgICBiLiBZb3UgY2FuIHBvbGlzaCB0aGUgaW50ZWxsaWdlbmNlIG9mIHRoZSBjb21wdXRlciBwbGF5ZXIgYnkgaGF2aW5nIGl0IHRyeSBhZGphY2VudCBzbG90cyBhZnRlciBnZXR0aW5nIGEg4oCYaGl04oCZLlxyXG4vLyAgICAgIGMuIE9wdGlvbmFsbHksIGNyZWF0ZSBhIDIgcGxheWVyIG9wdGlvbiB0aGF0IGxldHMgdXNlcnMgdGFrZSB0dXJucyBieSBwYXNzaW5nIHRoZSBkZXZpY2UgYmFjayBhbmQgZm9ydGguIElmIHlvdeKAmXJlIGdvaW5nIHRvIGdvIHRoaXMgcm91dGUsIG1ha2Ugc3VyZSB0aGUgZ2FtZSBpcyBwbGF5YWJsZSBvbiBhIG1vYmlsZSBzY3JlZW4gYW5kIGltcGxlbWVudCBhIOKAmHBhc3MgZGV2aWNl4oCZIHNjcmVlbiBzbyB0aGF0IHBsYXllcnMgZG9u4oCZdCBzZWUgZWFjaCBvdGhlcnMgYm9hcmRzIVxyXG4gXHJcblxyXG4vLyAgVGhlIDUgc2hpcHMgYXJlOiBDYXJyaWVyIChvY2N1cGllcyA1IHNwYWNlcyksIEJhdHRsZXNoaXAgKDQpLCBDcnVpc2VyICgzKSwgU3VibWFyaW5lICgzKSwgYW5kIERlc3Ryb3llciAoMikuIC8vXHJcblxyXG5cclxuXHJcbmV4cG9ydCB7Z2FtZX07IiwiLy8gTGludGVyLCBQcmV0dGllciwgSmVzdC5jb25maWcgLy8gXHJcblxyXG5pbXBvcnQgeyBTaGlwLCBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xyXG5pbXBvcnQgeyB3cml0ZU5hbWUsIGNsZWFuLCByZW5kZXJJbml0YWxCb2FyZHMsIHJlbmRlcldpbiwgcmVuZGVyTG9zZSwgc2VsZWN0U2hpcHMgfSBmcm9tIFwiLi9yZW5kZXJcIjtcclxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxuXHJcbmdhbWUoKTsiXSwibmFtZXMiOlsiU2hpcCIsImNvbnN0cnVjdG9yIiwic2l6ZSIsInRoaXMiLCJoaXQiLCJzdW5rIiwiY29vcmRpbmF0ZXMiLCJyZWdpc3RlckhpdCIsImlzU3VuayIsImFkZENvb3JkaW5hdGVzIiwicG9zaXRpb24iLCJwdXNoIiwiR2FtZWJvYXJkIiwiYm9hcmQiLCJzaGlwcyIsImNyZWF0ZUJvYXJkIiwiaSIsImoiLCJjb29yZGluYXRlIiwiYXR0YWNrZWQiLCJtaXNzZWQiLCJoYXNTaGlwIiwic2hpcCIsImlzVmFsaWQiLCJhcnIiLCJzcGxpdCIsImEiLCJOdW1iZXIiLCJiIiwiZ2V0Qm9hcmQiLCJhZGRTaGlwIiwicGxhY2VTaGlwIiwibGVuZ3RoIiwiaXNNb3ZlTGVnYWwiLCJtb3ZlIiwicGxhY2VFbmVteVNoaXBzIiwiY29vcmRpbmF0ZUNhcnJpZXIiLCJjcmVhdGVDb29yZGluYXRlcyIsImNvb3JkaW5hdGVCYXR0bGVzaGlwIiwiY29vcmRpbmF0ZUNydWlzZXIiLCJjb29yZGluYXRlU3VibWFyaW5lIiwiY29vcmRpbmF0ZURlc3Ryb3llciIsImFycmF5IiwiYm9hcmRBcnJheSIsImdldEFkamFjZW50cyIsInNpemVzIiwiZmlsdGVyZWQiLCJ0ZW1wIiwiZmlsdGVyIiwicG9zIiwiZm9yRWFjaCIsInNldE9mQ29vcmRpbmF0ZXMiLCJudW0xIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibnVtMiIsInJlc3VsdCIsImFycmF5Qm9hcmQiLCJhZGphY2VudHMiLCJ1cCIsInJpZ2h0IiwiZG93biIsImxlZnQiLCJpbmRleCIsInBsYWNlIiwiaW5jbHVkZXMiLCJwbGFjZVNwbGl0IiwicmVjZWl2ZUF0dGFjayIsInN0ciIsImdldFNoaXBzIiwiYWxsU3VuayIsImV2ZXJ5Iiwib2JqIiwia2V5IiwiZW5lbXlCb2FyZCIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIiwiUGxheWVyIiwiZ2FtZWJvYXJkIiwibWFrZVJhbmRvbU1vdmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicmVuZGVyTXlCb2FyZCIsImJveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm94IiwibnVtIiwiaWQiLCJzdHlsZSIsImJhY2tncm91bmQiLCJpbm5lckhUTUwiLCJyZW5kZXJFbmVteUJvYXJkIiwiYWRkQm94ZXNMaXN0ZW5lciIsIm15Qm9hcmQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRqIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXQiLCJyZW1vdmUiLCJhbGVydCIsImhhbmRsZVNoaXBDbGFzZXMiLCJzZWxlY3RlZCIsImNvbnRhaW5zIiwibmFtZSIsIm1haW4iLCJteVNlY3Rpb24iLCJjcmVhdGVFbGVtZW50IiwibXlHYW1lU2VjdGlvbiIsIm15TmFtZUJveCIsIm15TmFtZSIsInNoaXBzQ29udGFpbmVyIiwiZW5lbXlTZWN0aW9uIiwiZW5lbXlHYW1lU2VjdGlvbiIsImVuZW15TmFtZUJveCIsImVuZW15TmFtZSIsImNhcnJpZXIiLCJiYXR0bGVzaGlwIiwiY3J1aXNlciIsInN1Ym1hcmluZSIsImRlc3Ryb3llciIsInNyYyIsImFwcGVuZENoaWxkIiwiZGl2IiwiZGl2RW5lbXkiLCJ0ZXh0Q29udGVudCIsInJlbmRlckluaXRhbEJvYXJkcyIsImRhdGFzZXQiLCJjbGljayIsInNlbGVjdFNoaXBzIiwicGxheWVyIiwiZW5lbXkiLCJlQm94IiwiZSIsImVOdW0iLCJ0YXJnZXQiLCJlbmVteU1vdmUiLCJlbmVteUF0dGFjayIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9